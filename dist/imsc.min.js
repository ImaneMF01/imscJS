var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.owns=function(d,r){return Object.prototype.hasOwnProperty.call(d,r)};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(d,r,p){d!=Array.prototype&&d!=Object.prototype&&(d[r]=p.value)};
$jscomp.getGlobal=function(d){return"undefined"!=typeof window&&window===d?d:"undefined"!=typeof global&&null!=global?global:d};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(d,r,p,f){if(r){p=$jscomp.global;d=d.split(".");for(f=0;f<d.length-1;f++){var u=d[f];u in p||(p[u]={});p=p[u]}d=d[d.length-1];f=p[d];r=r(f);r!=f&&null!=r&&$jscomp.defineProperty(p,d,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("Object.entries",function(d){return d?d:function(d){var p=[],f;for(f in d)$jscomp.owns(d,f)&&p.push([f,d[f]]);return p}},"es8","es3");$jscomp.polyfill("Math.sign",function(d){return d?d:function(d){d=Number(d);return 0===d||isNaN(d)?d:0<d?1:-1}},"es6","es3");
(function(d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define([],d):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).imsc=d()})(function(){return function(){function d(r,p,f){function u(n,F){if(!p[n]){if(!r[n]){var a="function"==typeof require&&require;if(!F&&a)return a(n,!0);if(m)return m(n,!0);F=Error("Cannot find module '"+n+"'");throw F.code="MODULE_NOT_FOUND",F;}F=
p[n]={exports:{}};r[n][0].call(F.exports,function(a){return u(r[n][1][a]||a)},F,F.exports,d,r,p,f)}return p[n].exports}for(var m="function"==typeof require&&require,n=0;n<f.length;n++)u(f[n]);return u}return d}()({1:[function(d,r,p){(function(f,d,m,n,p){function u(b,a){var c=b.styleAttrs&&b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"];if("span"===b.kind)!c&&a&&(b.styleAttrs||(b.styleAttrs={}),b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"]=a);else if(c&&delete b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"],
b.contents)for(var e=0;e<b.contents.length;e++)u(b.contents[e],c||a)}function a(b){if("contents"in b){var c="styleAttrs"in b?b.styleAttrs[n.byName.ruby.qname]:null;c="span"===b.kind&&("container"===c||"textContainer"===c||"baseContainer"===c);for(var e=b.contents.length-1;0<=e;e--)!c||"styleAttrs"in b.contents[e]&&n.byName.ruby.qname in b.contents[e].styleAttrs?a(b.contents[e]):delete b.contents[e]}}function h(b,a,c,e){var g=e&&"seq"===e.timeContainer,E=0;e&&(E=g&&c?c.end:e.begin);a.begin=a.explicit_begin?
a.explicit_begin+E:E;c=a.begin;e=null;for(var H in a.sets)h(b,a.sets[H],e,a),c="seq"===a.timeContainer?a.sets[H].end:Math.max(c,a.sets[H].end),e=a.sets[H];if("contents"in a)for(var k in a.contents)h(b,a.contents[k],e,a),c="seq"===a.timeContainer?a.contents[k].end:Math.max(c,a.contents[k].end),e=a.contents[k];else c=g?a.begin:Number.POSITIVE_INFINITY;a.end=null!==a.explicit_end&&null!==a.explicit_dur?Math.min(a.begin+a.explicit_dur,E+a.explicit_end):null===a.explicit_end&&null!==a.explicit_dur?a.begin+
a.explicit_dur:null!==a.explicit_end&&null===a.explicit_dur?E+a.explicit_end:c;delete a.explicit_begin;delete a.explicit_dur;delete a.explicit_end;b._registerEvent(a)}function v(b){this.node=b}function k(){this.events=[];this.head=new q;this.body=null}function q(){this.styling=new t;this.layout=new I}function t(){this.styles={};this.initials={}}function x(){this.styleRefs=this.styleAttrs=this.id=null}function r(){this.styleAttrs=null}function I(){this.regions={}}function w(b,a){this.kind="image";
this.src=b;this.type=a}function C(b){this.id=b}function b(b){this.regionID=b}function g(b){this.styleAttrs=b}function c(b){this.sets=b}function e(b){this.contents=b}function l(b,a,c){this.explicit_begin=b;this.explicit_end=a;this.explicit_dur=c}function S(){this.kind="body"}function O(){this.kind="div"}function z(){this.kind="p"}function M(){this.kind="span"}function Q(){this.kind="span"}function B(){this.kind="br"}function K(){}function A(){}function R(b){var a=null;b&&(b=b.attributes["xml:id"]||
b.attributes.id)&&(a=b.value||null);return a}function G(b){return b&&"style"in b.attributes?b.attributes.style.value.split(" "):[]}function T(b,a){var c={};if(null!==b)for(var e in b.attributes){var g=b.attributes[e].uri+" "+b.attributes[e].local,h=n.byQName[g];if(void 0!==h){var k=h.parse(b.attributes[e].value);null!==k?(c[g]=k,h===n.byName.zIndex&&L(a,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):J(a,"Cannot parse styling attribute "+g+" --\x3e "+b.attributes[e].value)}}return c}
function N(b,a,c){for(var e in b.attributes)if(b.attributes[e].uri===a&&b.attributes[e].local===c)return b.attributes[e].value;return null}function Z(b,a){b=N(b,m.ns_tts,"extent");if(null===b)return null;var c=b.split(" ");if(2!==c.length)return L(a,"Malformed extent (ignoring)"),null;b=p.parseLength(c[0]);c=p.parseLength(c[1]);return c&&b?{h:c,w:b}:(L(a,"Malformed extent values (ignoring)"),null)}function U(b,a,c){var e=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,g=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/,h=
/^(\d+(?:\.\d+)?)t$/,k=/^(\d+(?:\.\d+)?)ms$/,E=/^(\d+(?:\.\d+)?)s$/,H=/^(\d+(?:\.\d+)?)h$/,l=/^(\d+(?:\.\d+)?)m$/,y,m=null;null!==(y=/^(\d+(?:\.\d+)?)f$/.exec(c))?null!==a&&(m=parseFloat(y[1])/a):null!==(y=h.exec(c))?null!==b&&(m=parseFloat(y[1])/b):null!==(y=k.exec(c))?m=parseFloat(y[1])/1E3:null!==(y=E.exec(c))?m=parseFloat(y[1]):null!==(y=H.exec(c))?m=3600*parseFloat(y[1]):null!==(y=l.exec(c))?m=60*parseFloat(y[1]):null!==(y=e.exec(c))?m=3600*parseInt(y[1])+60*parseInt(y[2])+parseFloat(y[3]):null!==
(y=g.exec(c))&&null!==a&&(m=3600*parseInt(y[1])+60*parseInt(y[2])+parseInt(y[3])+(null===y[4]?0:parseInt(y[4])/a));return m}function W(b,a,c){for(;0<a.styleRefs.length;){var e=a.styleRefs.pop();e in b.styles?(W(b,b.styles[e],c),V(b.styles[e].styleAttrs,a.styleAttrs)):J(c,"Non-existant style id referenced")}}function X(b,a,c,e){for(var g=a.length-1;0<=g;g--){var h=a[g];h in b.styles?V(b.styles[h].styleAttrs,c):J(e,"Non-existant style id referenced")}}function V(b,a){for(var c in b)c in a||(a[c]=b[c])}
function L(b,a){if(b&&b.warn&&b.warn(a))throw a;}function J(b,a){if(b&&b.error&&b.error(a))throw a;}function D(b,a){b&&b.fatal&&b.fatal(a);throw a;}function Y(b,a){for(var c=0,e=b.length-1,g;c<=e;){g=Math.floor((c+e)/2);var h=b[g];if(h<a)c=g+1;else if(h>a)e=g-1;else return{found:!0,index:g}}return{found:!1,index:c}}f.fromXML=function(b,c,e){var g=d.parser(!0,{xmlns:!0}),l=[],H=[],E=[],y=0,f=null;g.onclosetag=function(b){if(l[0]instanceof K)null!==f.head&&null!==f.head.styling&&X(f.head.styling,l[0].styleRefs,
l[0].styleAttrs,c),delete l[0].styleRefs;else if(l[0]instanceof t)for(var a in l[0].styles)W(l[0],l[0].styles[a],c);else if(l[0]instanceof z||l[0]instanceof M){if(1<l[0].contents.length){b=[l[0].contents[0]];for(a=1;a<l[0].contents.length;a++)l[0].contents[a]instanceof Q&&b[b.length-1]instanceof Q?b[b.length-1].text+=l[0].contents[a].text:b.push(l[0].contents[a]);l[0].contents=b}l[0]instanceof M&&1===l[0].contents.length&&l[0].contents[0]instanceof Q&&(l[0].text=l[0].contents[0].text,delete l[0].contents)}else if(l[0]instanceof
v)if(l[0].node.uri===m.ns_tt&&"metadata"===l[0].node.local)y--;else if(0<y&&e&&"onCloseTag"in e)e.onCloseTag();E.shift();H.shift();l.shift()};g.ontext=function(b){if(void 0!==l[0])if(l[0]instanceof M||l[0]instanceof z){if(l[0]instanceof M){var a=l[0].styleAttrs[n.byName.ruby.qname];if("container"===a||"textContainer"===a||"baseContainer"===a)return}a=new Q;a.initFromText(f,l[0],b,E[0],c);l[0].contents.push(a)}else if(l[0]instanceof v&&0<y&&e&&"onText"in e)e.onText(b)};g.onopentag=function(b){function a(b){m.ttaf_map[b.uri]&&
(b.uri=m.ttaf_map[b.uri])}var g=b.attributes["xml:space"];g?E.unshift(g.value):0===E.length?E.unshift("default"):E.unshift(E[0]);(g=b.attributes["xml:lang"])?H.unshift(g.value):0===H.length?H.unshift(""):H.unshift(H[0]);a(b);if(b.attributes)for(var h in b.attributes)b.attributes.hasOwnProperty(h)&&a(b.attributes[h]);if(b.uri===m.ns_tt)if("tt"===b.local)null!==f&&D(c,"Two <tt> elements at ("+this.line+","+this.column+")"),f=new k,f.initFromNode(b,c),l.unshift(f);else if("head"===b.local)l[0]instanceof
k||D(c,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),l.unshift(f.head);else if("styling"===b.local)l[0]instanceof q||D(c,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),l.unshift(f.head.styling);else if("style"===b.local)if(l[0]instanceof t){var d=new x;d.initFromNode(b,c);d.id?f.head.styling.styles[d.id]=d:J(c,"<style> element missing @id attribute");l.unshift(d)}else l[0]instanceof K?(d=new x,d.initFromNode(b,c),V(d.styleAttrs,l[0].styleAttrs),
l.unshift(d)):D(c,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")");else if("initial"===b.local)if(l[0]instanceof t){h=new r;h.initFromNode(b,c);for(d in h.styleAttrs)f.head.styling.initials[d]=h.styleAttrs[d];l.unshift(h)}else D(c,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")");else if("layout"===b.local)l[0]instanceof q||D(c,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),l.unshift(f.head.layout);
else if("region"===b.local)l[0]instanceof I||D(c,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),d=new K,d.initFromNode(f,b,c),!d.id||d.id in f.head.layout.regions?J(c,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):f.head.layout.regions[d.id]=d,l.unshift(d);else if("body"===b.local)l[0]instanceof k||D(c,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==f.body&&D(c,"Second <body> element at "+this.line+
","+this.column+")"),d=new S,d.initFromNode(f,b,c),f.body=d,l.unshift(d);else if("div"===b.local){l[0]instanceof O||l[0]instanceof S||D(c,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");d=new O;d.initFromNode(f,l[0],b,c);if(h=d.styleAttrs[n.byName.backgroundImage.qname])d.contents.push(new w(h)),delete d.styleAttrs[n.byName.backgroundImage.qname];l[0].contents.push(d);l.unshift(d)}else"image"===b.local?(l[0]instanceof O||D(c,"Parent of <image> element is not <div> at "+
this.line+","+this.column+")"),d=new w,d.initFromNode(f,l[0],b,c),l[0].contents.push(d),l.unshift(d)):"p"===b.local?(l[0]instanceof O||D(c,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),d=new z,d.initFromNode(f,l[0],b,c),l[0].contents.push(d),l.unshift(d)):"span"===b.local?(l[0]instanceof M||l[0]instanceof z||D(c,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),d=new M,d.initFromNode(f,l[0],b,E[0],c),l[0].contents.push(d),l.unshift(d)):"br"===
b.local?(l[0]instanceof M||l[0]instanceof z||D(c,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),d=new B,d.initFromNode(f,l[0],b,c),l[0].contents.push(d),l.unshift(d)):"set"===b.local?(l[0]instanceof M||l[0]instanceof z||l[0]instanceof O||l[0]instanceof S||l[0]instanceof K||l[0]instanceof B||D(c,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),d=new A,d.initFromNode(f,l[0],b,c),l[0].sets.push(d),l.unshift(d)):l.unshift(new v(b));
else l.unshift(new v(b));if(l[0]instanceof v)if(b.uri===m.ns_tt&&"metadata"===b.local)y++;else if(0<y&&e&&"onOpenTag"in e){d=[];for(var P in b.attributes)d[b.attributes[P].uri+" "+b.attributes[P].local]={uri:b.attributes[P].uri,local:b.attributes[P].local,value:b.attributes[P].value};e.onOpenTag(b.uri,b.local,d)}};g.write(b).close();delete f.head.styling.styles;b=!1;for(var p in f.head.layout.regions){b=!0;break}b||(p=K.prototype.createDefaultRegion(f,c),f.head.layout.regions[p.id]=p);for(var C in f.head.layout.regions)h(f,
f.head.layout.regions[C],null,null);f.body&&h(f,f.body,null,null);f.body&&a(f.body);f.body&&u(f.body);return f};k.prototype.initFromNode=function(b,a){var c=N(b,m.ns_ttp,"cellResolution"),e=15;var g=32;null!==c&&(c=/(\d+) (\d+)/.exec(c),null!==c?(g=parseInt(c[1]),e=parseInt(c[2])):L(a,"Malformed cellResolution value (using initial value instead)"));this.cellLength={h:new p.ComputedLength(0,1/e),w:new p.ComputedLength(1/g,0)};e=N(b,m.ns_ttp,"frameRate");c=30;null!==e&&(g=/(\d+)/.exec(e),null!==g?c=
parseInt(g[1]):L(a,"Malformed frame rate attribute (using initial value instead)"));g=N(b,m.ns_ttp,"frameRateMultiplier");var l=1;null!==g&&(g=/(\d+) (\d+)/.exec(g),null!==g?l=parseInt(g[1])/parseInt(g[2]):L(a,"Malformed frame rate multiplier attribute (using initial value instead)"));c*=l;l=1;g=N(b,m.ns_ttp,"tickRate");null===g?null!==e&&(l=c):(g=/(\d+)/.exec(g),null!==g?l=parseInt(g[1]):L(a,"Malformed tick rate attribute (using initial value instead)"));this.effectiveFrameRate=c;this.tickRate=l;
g=N(b,m.ns_ittp,"aspectRatio");null===g&&(g=N(b,m.ns_ttp,"displayAspectRatio"));e=null;null!==g&&(c=/(\d+)\s+(\d+)/.exec(g),null!==c?(g=parseInt(c[1]),c=parseInt(c[2]),0!==g&&0!==c?e=g/c:J(a,"Illegal aspectRatio values (ignoring)")):J(a,"Malformed aspectRatio attribute (ignoring)"));this.aspectRatio=e;e=N(b,m.ns_ttp,"timeBase");null!==e&&"media"!==e&&D(a,"Unsupported time base");b=Z(b,a);null===b?this.pxLength={h:null,w:null}:("px"===b.h.unit&&"px"===b.w.unit||D(a,"Extent on TT must be in px or absent"),
this.pxLength={h:new p.ComputedLength(0,1/b.h.value),w:new p.ComputedLength(1/b.w.value,0)});this.dimensions={h:new p.ComputedLength(0,1),w:new p.ComputedLength(1,0)}};k.prototype._registerEvent=function(b){if(!(b.end<=b.begin)){var a=Y(this.events,b.begin);a.found||this.events.splice(a.index,0,b.begin);b.end!==Number.POSITIVE_INFINITY&&(a=Y(this.events,b.end),a.found||this.events.splice(a.index,0,b.end))}};k.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-
1]]};k.prototype.getMediaTimeEvents=function(){return this.events};x.prototype.initFromNode=function(b,a){this.id=R(b);this.styleAttrs=T(b,a);this.styleRefs=G(b)};r.prototype.initFromNode=function(b,a){this.styleAttrs={};for(var c in b.attributes)if(b.attributes[c].uri===m.ns_itts||b.attributes[c].uri===m.ns_ebutts||b.attributes[c].uri===m.ns_tts)this.styleAttrs[b.attributes[c].uri+" "+b.attributes[c].local]=b.attributes[c].value};w.prototype.initFromNode=function(a,e,h,k){(this.src="src"in h.attributes?
h.attributes.src.value:null)||J(k,"Invalid image@src attribute");(this.type="type"in h.attributes?h.attributes.type.value:null)||J(k,"Invalid image@type attribute");g.prototype.initFromNode.call(this,a,e,h,k);l.prototype.initFromNode.call(this,a,e,h,k);c.prototype.initFromNode.call(this,a,e,h,k);b.prototype.initFromNode.call(this,a,e,h,k)};C.prototype.initFromNode=function(b,a,c,e){this.id=R(c)};b.prototype.initFromNode=function(b,a,c,e){this.regionID=c&&"region"in c.attributes?c.attributes.region.value:
""};g.prototype.initFromNode=function(b,a,c,e){this.styleAttrs=T(c,e);null!==b.head&&null!==b.head.styling&&X(b.head.styling,G(c),this.styleAttrs,e)};c.prototype.initFromNode=function(b,a,c,e){this.sets=[]};e.prototype.initFromNode=function(b,a,c,e){this.contents=[]};l.prototype.initFromNode=function(b,a,c,e){a=null;c&&"begin"in c.attributes&&(a=U(b.tickRate,b.effectiveFrameRate,c.attributes.begin.value),null===a&&L(e,"Malformed begin value "+c.attributes.begin.value+" (using 0)"));var g=null;c&&
"dur"in c.attributes&&(g=U(b.tickRate,b.effectiveFrameRate,c.attributes.dur.value),null===g&&L(e,"Malformed dur value "+c.attributes.dur.value+" (ignoring)"));var l=null;c&&"end"in c.attributes&&(l=U(b.tickRate,b.effectiveFrameRate,c.attributes.end.value),null===l&&L(e,"Malformed end value (ignoring)"));this.explicit_begin=a;this.explicit_end=l;this.explicit_dur=g;(b=c&&"timeContainer"in c.attributes?c.attributes.timeContainer.value:null)&&"par"!==b?"seq"===b?e="seq":(J(e,"Illegal value of timeContainer (assuming 'par')"),
e="par"):e="par";this.timeContainer=e};S.prototype.initFromNode=function(a,h,k){g.prototype.initFromNode.call(this,a,null,h,k);l.prototype.initFromNode.call(this,a,null,h,k);c.prototype.initFromNode.call(this,a,null,h,k);b.prototype.initFromNode.call(this,a,null,h,k);e.prototype.initFromNode.call(this,a,null,h,k)};O.prototype.initFromNode=function(a,h,k,d){g.prototype.initFromNode.call(this,a,h,k,d);l.prototype.initFromNode.call(this,a,h,k,d);c.prototype.initFromNode.call(this,a,h,k,d);b.prototype.initFromNode.call(this,
a,h,k,d);e.prototype.initFromNode.call(this,a,h,k,d)};z.prototype.initFromNode=function(a,h,k,d){g.prototype.initFromNode.call(this,a,h,k,d);l.prototype.initFromNode.call(this,a,h,k,d);c.prototype.initFromNode.call(this,a,h,k,d);b.prototype.initFromNode.call(this,a,h,k,d);e.prototype.initFromNode.call(this,a,h,k,d)};M.prototype.initFromNode=function(a,h,k,d,m){g.prototype.initFromNode.call(this,a,h,k,m);l.prototype.initFromNode.call(this,a,h,k,m);c.prototype.initFromNode.call(this,a,h,k,m);b.prototype.initFromNode.call(this,
a,h,k,m);e.prototype.initFromNode.call(this,a,h,k,m);this.space=d};Q.prototype.initFromText=function(b,a,c,e,g){l.prototype.initFromNode.call(this,b,a,null,g);this.text=c;this.space=e};B.prototype.initFromNode=function(a,c,e,g){b.prototype.initFromNode.call(this,a,c,e,g);l.prototype.initFromNode.call(this,a,c,e,g)};K.prototype.createDefaultRegion=function(b,a){var c=new K;c.id="";g.prototype.initFromNode.call(c,b,null,{name:"region",attributes:{"tts:displayAlign":{name:"tts:displayAlign",value:"after",
prefix:"tts",local:"displayAlign",uri:"http://www.w3.org/ns/ttml#styling"},"tts:extent":{name:"tts:extent",value:"80% 20%",prefix:"tts",local:"extent",uri:"http://www.w3.org/ns/ttml#styling"},"tts:origin":{name:"tts:origin",value:"10% 70%",prefix:"tts",local:"origin",uri:"http://www.w3.org/ns/ttml#styling"},"tts:overflow":{name:"tts:overflow",value:"visible",prefix:"tts",local:"overflow",uri:"http://www.w3.org/ns/ttml#styling"}},ns:{"":"http://www.w3.org/ns/ttml",ebuttm:"urn:ebu:tt:metadata",ebutts:"urn:ebu:tt:style",
ittp:"http://www.w3.org/ns/ttml/profile/imsc1#parameter",itts:"http://www.w3.org/ns/ttml/profile/imsc1#styling",ttm:"http://www.w3.org/ns/ttml#metadata",ttp:"http://www.w3.org/ns/ttml#parameter",tts:"http://www.w3.org/ns/ttml#styling",xml:"http://www.w3.org/XML/1998/namespace"},prefix:"",local:"region",uri:"http://www.w3.org/ns/ttml",isSelfClosing:!0},a);c.sets=[];l.call(c,0,Number.POSITIVE_INFINITY,null);return c};K.prototype.initFromNode=function(b,a,e){C.prototype.initFromNode.call(this,b,null,
a,e);l.prototype.initFromNode.call(this,b,null,a,e);c.prototype.initFromNode.call(this,b,null,a,e);this.styleAttrs=T(a,e);this.styleRefs=G(a)};A.prototype.initFromNode=function(b,a,c,e){l.prototype.initFromNode.call(this,b,a,c,e);b=T(c,e);this.value=this.qname=null;for(var g in b){if(this.qname){J(e,"More than one style specified on set");break}this.qname=g;this.value=b[g]}}})("undefined"===typeof p?this.imscDoc={}:p,"undefined"===typeof sax?d("sax"):sax,"undefined"===typeof imscNames?d("./names"):
imscNames,"undefined"===typeof imscStyles?d("./styles"):imscStyles,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":5,"./styles":6,"./utils":7,sax:void 0}],2:[function(d,r,p){(function(d,u,m,n){function f(b){var a={};colorAdjustMapEntries=Object.entries(b);for(var c in colorAdjustMapEntries)fromColor=n.parseColor(colorAdjustMapEntries[c][0]),toColor=n.parseColor(colorAdjustMapEntries[c][1]),fromColor&&toColor&&(a[fromColor.toString()]=toColor);return a}function p(b,g,c){if("region"===
c.kind){var e=document.createElement("div");e.style.position="absolute"}else if("body"===c.kind)e=document.createElement("div");else if("div"===c.kind)e=document.createElement("div");else if("image"===c.kind){if(e=document.createElement("img"),null!==b.imgResolver&&null!==c.src){var l=b.imgResolver(c.src,e);l&&(e.src=l);e.height=b.regionH;e.width=b.regionW}}else if("p"===c.kind)e=document.createElement("p");else if("span"===c.kind)if("container"===c.styleAttrs[m.byName.ruby.qname])e=document.createElement("ruby"),
b.ruby=!0;else if("base"===c.styleAttrs[m.byName.ruby.qname])e=document.createElement("rb");else if("text"===c.styleAttrs[m.byName.ruby.qname])e=document.createElement("rt");else if("baseContainer"===c.styleAttrs[m.byName.ruby.qname])e=document.createElement("rbc");else if("textContainer"===c.styleAttrs[m.byName.ruby.qname])e=document.createElement("rtc");else{if("delimiter"===c.styleAttrs[m.byName.ruby.qname])return;e=document.createElement("span")}else"br"===c.kind&&(e=document.createElement("br"));
if(e){g.appendChild(e);e.style.margin="0";if("region"===c.kind)if(g=c.styleAttrs[m.byName.writingMode.qname],"lrtb"===g||"lr"===g)b.ipd="lr",b.bpd="tb";else if("rltb"===g||"rl"===g)b.ipd="rl",b.bpd="tb";else if("tblr"===g)b.ipd="tb",b.bpd="lr";else{if("tbrl"===g||"tb"===g)b.ipd="tb",b.bpd="rl"}else"p"===c.kind&&"tb"===b.bpd&&(b.ipd="ltr"===c.styleAttrs[m.byName.direction.qname]?"lr":"rl");for(var d in t)g=t[d],l=c.styleAttrs[g.qname],void 0!==l&&null!==g.map&&g.map(b,e,c,l);d=e;(g=c.styleAttrs[m.byName.linePadding.qname])&&
!g.isZero()&&(l=g.multiply(g.toUsedLength(b.w,b.h),b.options.sizeAdjust),0<l&&(l=Math.ceil(l)+"px","tb"===b.bpd?(d.style.paddingLeft=l,d.style.paddingRight=l):(d.style.paddingTop=l,d.style.paddingBottom=l),b.lp=g));(g=c.styleAttrs[m.byName.multiRowAlign.qname])&&"auto"!==g&&(d=document.createElement("span"),d.style.display="inline-block",d.style.textAlign=g,e.appendChild(d),b.mra=g);(g=c.styleAttrs[m.byName.rubyReserve.qname])&&"none"!==g[0]&&(b.rubyReserve=g);c.styleAttrs[m.byName.fillLineGap.qname]&&
(b.flg=!0);if("span"===c.kind&&c.text)if((g=c.styleAttrs[m.byName.textEmphasis.qname])&&"none"!==g.style&&(b.textEmphasis=!0),m.byName.textCombine.qname in c.styleAttrs&&"all"===c.styleAttrs[m.byName.textCombine.qname][0])e.textContent=c.text,g&&k(b,e,c,g);else{l="";for(var f=0;f<c.text.length;f++){l+=c.text.charAt(f);var q=c.text.charCodeAt(f);if(55296>q||56319<q||f===c.text.length)q=document.createElement("span"),q.textContent=l,g&&k(b,q,c,g),e.appendChild(q),l=""}}for(var n in c.contents)p(b,d,
c.contents[n]);n=[];if((b.lp||b.mra||b.flg||b.ruby||b.textEmphasis||b.rubyReserve)&&"p"===c.kind){v(b,d,n,null);if(b.rubyReserve){for(g=0;g<n.length;g++){l=document.createElement("ruby");f=document.createElement("rb");f.textContent="\u200b";l.appendChild(f);var u=b.rubyReserve[1].toUsedLength(b.w,b.h)+"px";"both"===b.rubyReserve[0]||"outside"===b.rubyReserve[0]&&1==n.length?(f=document.createElement("rtc"),f.style[I]=r?"after":"under",f.textContent="\u200b",f.style.fontSize=u,q=document.createElement("rtc"),
q.style[I]=r?"before":"over",q.textContent="\u200b",q.style.fontSize=u,l.appendChild(f),l.appendChild(q)):(f=document.createElement("rtc"),f.textContent="\u200b",f.style.fontSize=u,f.style[I]="after"===b.rubyReserve[0]||"outside"===b.rubyReserve[0]&&0<g?r?"after":"tb"===b.bpd||"rl"===b.bpd?"under":"over":r?"before":"tb"===b.bpd||"rl"===b.bpd?"over":"under",l.appendChild(f));f=null;for(q=0;q<n[g].rbc.length;q++)if("ruby"===n[g].rbc[q].localName){f=n[g].rbc[q];for(q=0;q<f.style.length;q++)l.style.setProperty(f.style.item(q),
f.style.getPropertyValue(f.style.item(q)));break}f=f||n[g].elements[0].node;f.parentElement.insertBefore(l,f)}b.rubyReserve=null}if(b.ruby||b.rubyReserve){for(g=0;g<n.length;g++)for(l=0;l<n[g].rbc.length;l++)n[g].rbc[l].style[I]||(n[g].rbc[l].style[I]=r?0===g?"before":"after":"tb"===b.bpd?0===g?"over":"under":"rl"===b.bpd?0===g?"over":"under":0===g?"under":"over");b.ruby=null}if(b.textEmphasis){for(g=0;g<n.length;g++)for(l=0;l<n[g].te.length;l++)n[g].te[l].style[C]&&"none"!==n[g].te[l].style[C]||
(n[g].te[l].style[C]="tb"===b.bpd?0===g?"left over":"left under":"rl"===b.bpd?0===g?"right under":"left under":0===g?"left under":"right under");b.textEmphasis=null}if(b.mra){for(g=0;g<n.length-1;g++)f=n[g].elements.length,0!==f&&!1===n[g].br&&(l=document.createElement("br"),f=n[g].elements[f-1].node,f.parentElement.insertBefore(l,f.nextSibling));b.mra=null}if(b.lp){g=b.lp.multiply(b.lp.toUsedLength(b.w,b.h),b.options.sizeAdjust);for(var w in n)l=n[w].elements[n[w].start_elem],f=n[w].elements[n[w].end_elem],
q=Math.ceil(g)+"px",u="-"+Math.ceil(g)+"px",0!==n[w].elements.length&&("lr"===b.ipd?(l.node.style.borderLeftColor=l.bgcolor||"#00000000",l.node.style.borderLeftStyle="solid",l.node.style.borderLeftWidth=q,l.node.style.marginLeft=u):"rl"===b.ipd?(l.node.style.borderRightColor=l.bgcolor||"#00000000",l.node.style.borderRightStyle="solid",l.node.style.borderRightWidth=q,l.node.style.marginRight=u):"tb"===b.ipd&&(l.node.style.borderTopColor=l.bgcolor||"#00000000",l.node.style.borderTopStyle="solid",l.node.style.borderTopWidth=
q,l.node.style.marginTop=u),"lr"===b.ipd?(f.node.style.borderRightColor=f.bgcolor||"#00000000",f.node.style.borderRightStyle="solid",f.node.style.borderRightWidth=q,f.node.style.marginRight=u):"rl"===b.ipd?(f.node.style.borderLeftColor=f.bgcolor||"#00000000",f.node.style.borderLeftStyle="solid",f.node.style.borderLeftWidth=q,f.node.style.marginLeft=u):"tb"===b.ipd&&(f.node.style.borderBottomColor=f.bgcolor||"#00000000",f.node.style.borderBottomStyle="solid",f.node.style.borderBottomWidth=q,f.node.style.marginBottom=
u));b.lp=null}if(b.flg){g=h(d.getBoundingClientRect(),b);w=g.before;g=g.after;l=Math.sign(g-w);for(f=0;f<=n.length;f++){q=0===f?w:f===n.length?g:(n[f].before+n[f-1].after)/2;if(0<f)for(var x=0;x<n[f-1].elements.length;x++)if(null!==n[f-1].elements[x].bgcolor){var A=n[f-1].elements[x];0>l*(A.after-q)&&(u=Math.ceil(Math.abs(q-A.after))+"px",A.node.style.backgroundColor=A.bgcolor,"lr"===b.bpd?A.node.style.paddingRight=u:"rl"===b.bpd?A.node.style.paddingLeft=u:"tb"===b.bpd&&(A.node.style.paddingBottom=
u))}if(f<n.length)for(x=0;x<n[f].elements.length;x++)A=n[f].elements[x],null!==A.bgcolor&&0<l*(A.before-q)&&(u=Math.ceil(Math.abs(A.before-q))+"px",A.node.style.backgroundColor=A.bgcolor,"lr"===b.bpd?A.node.style.paddingLeft=u:"rl"===b.bpd?A.node.style.paddingRight=u:"tb"===b.bpd&&(A.node.style.paddingTop=u))}b.flg=null}}"region"===c.kind&&(v(b,d,n),"tb"===b.bpd&&b.enableRollUp&&0<c.contents.length&&"after"===c.styleAttrs[m.byName.displayAlign.qname]&&(c=new a(""===c.id?"_":c.id,n),b.currentISDState[c.id]=
c,b.previousISDState&&c.id in b.previousISDState&&0<b.previousISDState[c.id].plist.length&&1<c.plist.length&&c.plist[c.plist.length-2].text===b.previousISDState[c.id].plist[b.previousISDState[c.id].plist.length-1].text&&(b=e.firstElementChild,c=c.plist[c.plist.length-1].after-c.plist[c.plist.length-1].before,b.style.bottom="-"+c+"px",b.style.transition="transform 0.4s",b.style.position="relative",b.style.transform="translateY(-"+c+"px)")))}else if(b=b.errorHandler,c="Error processing ISD element kind: "+
c.kind,b&&b.error&&b.error(c))throw c;}function a(b,a){this.id=b;this.plist=a}function h(b,a){var c={before:null,after:null,start:null,end:null};"tb"===a.bpd?(c.before=b.top,c.after=b.bottom,"lr"===a.ipd?(c.start=b.left,c.end=b.right):(c.start=b.right,c.end=b.left)):"lr"===a.bpd?(c.before=b.left,c.after=b.right,c.start=b.top,c.end=b.bottom):"rl"===a.bpd&&(c.before=b.right,c.after=b.left,c.start=b.top,c.end=b.bottom);return c}function v(b,a,c,e){if("rt"!==a.localName&&"rtc"!==a.localName)if(e=a.style.backgroundColor||
e,0===a.childElementCount)if("span"===a.localName||"rb"===a.localName){var g=a.getBoundingClientRect();if(0!==g.height&&0!==g.width){b=h(g,b);if(!(g=0===c.length)){g=b.before;var k=b.after,f=c[c.length-1].before,d=c[c.length-1].after;g=!(k<d&&g>f||d<=k&&f>=g)}g?c.push({before:b.before,after:b.after,start:b.start,end:b.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1}):(g=Math.sign(b.after-b.before),k=Math.sign(b.end-b.start),0>g*(b.before-c[c.length-1].before)&&(c[c.length-1].before=
b.before),0<g*(b.after-c[c.length-1].after)&&(c[c.length-1].after=b.after),0>k*(b.start-c[c.length-1].start)&&(c[c.length-1].start=b.start,c[c.length-1].start_elem=c[c.length-1].elements.length),0<k*(b.end-c[c.length-1].end)&&(c[c.length-1].end=b.end,c[c.length-1].end_elem=c[c.length-1].elements.length));c[c.length-1].text+=a.textContent;c[c.length-1].elements.push({node:a,bgcolor:e,before:b.before,after:b.after})}}else"br"===a.localName&&0!==c.length&&(c[c.length-1].br=!0);else for(a=a.firstChild;a;)a.nodeType===
Node.ELEMENT_NODE&&(v(b,a,c,e),"ruby"===a.localName||"rtc"===a.localName?0<c.length&&c[c.length-1].rbc.push(a):"span"===a.localName&&a.style[w]&&"none"!==a.style[w]&&0<c.length&&c[c.length-1].te.push(a)),a=a.nextSibling}function k(b,a,c,e){if("none"===e.style)a.style[w]="none";else if(a.style[w]="auto"===e.style?"filled":e.style+" "+e.symbol,"before"===e.position||"after"===e.position)a.style[C]="tb"===b.bpd?"before"===e.position?"left over":"left under":"rl"===b.bpd?"before"===e.position?"right under":
"left under":"before"===e.position?"left under":"right under"}function q(b,a){this.qname=b;this.map=a}d.render=function(b,a,c,e,h,k,d,m,q,v){e=e||a.clientHeight;h=h||a.clientWidth;if(null!==b.aspectRatio){var g=e*b.aspectRatio;g>h?e=Math.round(h/b.aspectRatio):h=g}g=document.createElement("div");g.style.position="relative";g.style.width=h+"px";g.style.height=e+"px";g.style.margin="auto";g.style.top=0;g.style.bottom=0;g.style.left=0;g.style.right=0;g.style.zIndex=0;v&&(v.colorAdjust&&(v.colorAdjust=
f(v.colorAdjust)),v.spanBackgroundColorAdjust&&(v.spanBackgroundColorAdjust=f(v.spanBackgroundColorAdjust)));c={h:e,w:h,regionH:null,regionW:null,imgResolver:c,displayForcedOnlyMode:k||!1,isd:b,errorHandler:d,previousISDState:m,enableRollUp:q||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null,options:v||{}};a.appendChild(g);for(var l in b.contents)p(c,g,b.contents[l]);return c.currentISDState};var t=[new q("http://www.w3.org/ns/ttml#styling backgroundColor",
function(b,a,c,e){var g=null;"span"==c.kind&&(g=b.options.spanBackgroundColorAdjust);void 0!=g&&(map_attr=g[e.toString()])&&(e=map_attr);c=e[3];0!==c&&(void 0!=b.options.backgroundOpacityScale&&(c*=b.options.backgroundOpacityScale),a.style.backgroundColor="rgba("+e[0].toString()+","+e[1].toString()+","+e[2].toString()+","+(c/255).toString()+")")}),new q("http://www.w3.org/ns/ttml#styling color",function(b,a,c,e){opacityMultiplier=b.options.colorOpacityScale||1;colorAdjustMap=b.options.colorAdjust;
void 0!=colorAdjustMap&&(map_attr=colorAdjustMap[e.toString()])&&(e=map_attr);a.style.color="rgba("+e[0].toString()+","+e[1].toString()+","+e[2].toString()+","+(opacityMultiplier*e[3]/255).toString()+")"}),new q("http://www.w3.org/ns/ttml#styling direction",function(b,a,c,e){a.style.direction=e}),new q("http://www.w3.org/ns/ttml#styling display",function(b,a,c,e){}),new q("http://www.w3.org/ns/ttml#styling displayAlign",function(b,a,c,e){a.style.display="flex";a.style.flexDirection="column";"before"===
e?a.style.justifyContent="flex-start":"center"===e?a.style.justifyContent="center":"after"===e&&(a.style.justifyContent="flex-end")}),new q("http://www.w3.org/ns/ttml#styling extent",function(b,a,c,e){b.regionH=e.h.toUsedLength(b.w,b.h);b.regionW=e.w.toUsedLength(b.w,b.h);var g=e=0;if(c=c.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])e=c[0].toUsedLength(b.w,b.h)+c[2].toUsedLength(b.w,b.h),g=c[1].toUsedLength(b.w,b.h)+c[3].toUsedLength(b.w,b.h);a.style.height=b.regionH-e+"px";a.style.width=
b.regionW-g+"px"}),new q("http://www.w3.org/ns/ttml#styling fontFamily",function(b,a,c,e){c=[];b.options.fontFamily&&(e=b.options.fontFamily.split(","));for(var g in e)e[g]=e[g].trim(),"monospaceSerif"===e[g]?(c.push("Courier New"),c.push('"Liberation Mono"'),c.push("Courier"),c.push("monospace")):"proportionalSansSerif"===e[g]||"default"===e[g]?(c.push("Arial"),c.push("Helvetica"),c.push('"Liberation Sans"'),c.push("sans-serif")):"monospace"===e[g]?c.push("monospace"):"sansSerif"===e[g]?c.push("sans-serif"):
"serif"===e[g]?c.push("serif"):"monospaceSansSerif"===e[g]?(c.push("Consolas"),c.push("monospace")):"proportionalSerif"===e[g]?c.push("serif"):c.push(e[g]);a.style.fontFamily=c.join(",")}),new q("http://www.w3.org/ns/ttml#styling shear",function(b,a,c,e){0!==e&&(c=-.9*e,a.style.transform="tb"===b.bpd?"skewX("+c+"deg)":"skewY("+c+"deg)")}),new q("http://www.w3.org/ns/ttml#styling fontSize",function(b,a,c,e){a.style.fontSize=e.multiply(e.toUsedLength(b.w,b.h),b.options.sizeAdjust)+"px"}),new q("http://www.w3.org/ns/ttml#styling fontStyle",
function(b,a,c,e){a.style.fontStyle=e}),new q("http://www.w3.org/ns/ttml#styling fontWeight",function(b,a,c,e){a.style.fontWeight=e}),new q("http://www.w3.org/ns/ttml#styling lineHeight",function(b,a,c,e){a.style.lineHeight="normal"===e?"normal":e.multiply(e.toUsedLength(b.w,b.h),b.options.sizeAdjust)+"px"}),new q("http://www.w3.org/ns/ttml#styling opacity",function(b,a,c,e){c=e;void 0!=b.options.regionOpacityScale&&(c*=b.options.regionOpacityScale);a.style.opacity=c}),new q("http://www.w3.org/ns/ttml#styling origin",
function(b,a,c,e){a.style.top=e.h.toUsedLength(b.w,b.h)+"px";a.style.left=e.w.toUsedLength(b.w,b.h)+"px"}),new q("http://www.w3.org/ns/ttml#styling overflow",function(b,a,c,e){a.style.overflow=e}),new q("http://www.w3.org/ns/ttml#styling padding",function(b,a,c,e){c=[];c[0]=e[0].toUsedLength(b.w,b.h)+"px";c[1]=e[3].toUsedLength(b.w,b.h)+"px";c[2]=e[2].toUsedLength(b.w,b.h)+"px";c[3]=e[1].toUsedLength(b.w,b.h)+"px";a.style.padding=c.join(" ")}),new q("http://www.w3.org/ns/ttml#styling position",function(b,
a,c,e){a.style.top=e.h.toUsedLength(b.w,b.h)+"px";a.style.left=e.w.toUsedLength(b.w,b.h)+"px"}),new q("http://www.w3.org/ns/ttml#styling rubyAlign",function(b,a,c,e){a.style.rubyAlign="spaceAround"===e?"space-around":"center"}),new q("http://www.w3.org/ns/ttml#styling rubyPosition",function(a,h,c,e){if("before"===e||"after"===e)h.parentElement.style[I]=r?e:"tb"===a.bpd?"before"===e?"over":"under":"rl"===a.bpd?"before"===e?"over":"under":"before"===e?"under":"over"}),new q("http://www.w3.org/ns/ttml#styling showBackground",
null),new q("http://www.w3.org/ns/ttml#styling textAlign",function(a,h,c,e){h.style.textAlign="start"===e?"rl"===a.ipd?"right":"left":"end"===e?"rl"===a.ipd?"left":"right":e}),new q("http://www.w3.org/ns/ttml#styling textDecoration",function(a,h,c,e){h.style.textDecoration=e.join(" ").replace("lineThrough","line-through")}),new q("http://www.w3.org/ns/ttml#styling textOutline",function(a,h,c,e){}),new q("http://www.w3.org/ns/ttml#styling textShadow",function(a,h,c,e){c=c.styleAttrs[m.byName.textOutline.qname];
var b=a.options.textOutline;if(b)if("none"===b)c=b;else{var g={};b=b.split(" ");if(0!==b.length&&2>=b.length){var k=n.parseColor(b[0]);g.color=k;null!==k&&b.shift();1===b.length&&(b=n.parseLength(b[0]))&&(g.thickness=b,c=g)}}if("none"===e&&"none"===c)h.style.textShadow="";else{g=[];"none"!==c&&(c="rgba("+c.color[0].toString()+","+c.color[1].toString()+","+c.color[2].toString()+","+(c.color[3]/255).toString()+")",g.push("1px 1px 1px "+c),g.push("-1px 1px 1px "+c),g.push("1px -1px 1px "+c),g.push("-1px -1px 1px "+
c));if("none"!==e)for(var f in e)g.push(e[f].x_off.toUsedLength(a.w,a.h)+"px "+e[f].y_off.toUsedLength(a.w,a.h)+"px "+e[f].b_radius.toUsedLength(a.w,a.h)+"px rgba("+e[f].color[0].toString()+","+e[f].color[1].toString()+","+e[f].color[2].toString()+","+(e[f].color[3]/255).toString()+")");h.style.textShadow=g.join(",")}}),new q("http://www.w3.org/ns/ttml#styling textCombine",function(a,h,c,e){h.style.textCombineUpright=e.join(" ")}),new q("http://www.w3.org/ns/ttml#styling textEmphasis",function(a,
h,c,e){}),new q("http://www.w3.org/ns/ttml#styling unicodeBidi",function(a,h,c,e){h.style.unicodeBidi="bidiOverride"===e?"bidi-override":e}),new q("http://www.w3.org/ns/ttml#styling visibility",function(a,h,c,e){h.style.visibility=e}),new q("http://www.w3.org/ns/ttml#styling wrapOption",function(a,h,c,e){h.style.whiteSpace="wrap"===e?"preserve"===c.space?"pre-wrap":"normal":"preserve"===c.space?"pre":"noWrap"}),new q("http://www.w3.org/ns/ttml#styling writingMode",function(a,h,c,e){if("lrtb"===e||
"lr"===e)h.style.writingMode="horizontal-tb";else if("rltb"===e||"rl"===e)h.style.writingMode="horizontal-tb";else if("tblr"===e)h.style.writingMode="vertical-lr";else if("tbrl"===e||"tb"===e)h.style.writingMode="vertical-rl"}),new q("http://www.w3.org/ns/ttml#styling zIndex",function(a,h,c,e){h.style.zIndex=e}),new q("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(a,h,c,e){a.displayForcedOnlyMode&&!1===e&&(h.style.visibility="hidden")})],x;for(x in t);var r="webkitRubyPosition"in
window.getComputedStyle(document.documentElement),I=r?"webkitRubyPosition":"rubyPosition",w="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",C="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})("undefined"===typeof p?this.imscHTML={}:p,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscStyles?d("./styles"):imscStyles,
"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":5,"./styles":6,"./utils":7}],3:[function(d,r,p){(function(f,d,m,n){function u(f,d,v,I,w,r,b,g,c){if(d<b.begin||d>=b.end)return null;r="regionID"in b&&""!==b.regionID?b.regionID:r;if(null!==w&&r!==v.id&&(!("contents"in b)||"contents"in b&&0===b.contents.length||""!==r))return null;var e=new k(b);for(l in b.sets)d<b.sets[l].begin||d>=b.sets[l].end||(e.styleAttrs[b.sets[l].qname]=b.sets[l].value);var l={};for(var t in e.styleAttrs)if(l[t]=
!0,"region"===e.kind&&t===m.byName.writingMode.qname&&!(m.byName.direction.qname in e.styleAttrs)){var x=e.styleAttrs[t];if("lrtb"===x||"lr"===x)e.styleAttrs[m.byName.direction.qname]="ltr";else if("rltb"===x||"rl"===x)e.styleAttrs[m.byName.direction.qname]="rtl"}if(null!==w)for(var z in m.all)if(t=m.all[z],t.qname===m.byName.textDecoration.qname){x=w.styleAttrs[t.qname];var C=e.styleAttrs[t.qname],F=[];void 0===C?F=x:-1===C.indexOf("none")?((-1===C.indexOf("noUnderline")&&-1!==x.indexOf("underline")||
-1!==C.indexOf("underline"))&&F.push("underline"),(-1===C.indexOf("noLineThrough")&&-1!==x.indexOf("lineThrough")||-1!==C.indexOf("lineThrough"))&&F.push("lineThrough"),(-1===C.indexOf("noOverline")&&-1!==x.indexOf("overline")||-1!==C.indexOf("overline"))&&F.push("overline")):F.push("none");e.styleAttrs[t.qname]=F}else t.qname!==m.byName.fontSize.qname||t.qname in e.styleAttrs||"span"!==e.kind||"textContainer"!==e.styleAttrs[m.byName.ruby.qname]?t.qname!==m.byName.fontSize.qname||t.qname in e.styleAttrs||
"span"!==e.kind||"text"!==e.styleAttrs[m.byName.ruby.qname]?t.inherit&&t.qname in w.styleAttrs&&!(t.qname in e.styleAttrs)&&(e.styleAttrs[t.qname]=w.styleAttrs[t.qname]):(x=w.styleAttrs[m.byName.fontSize.qname],e.styleAttrs[t.qname]="textContainer"===w.styleAttrs[m.byName.ruby.qname]?x:new n.ComputedLength(.5*x.rw,.5*x.rh)):(x=w.styleAttrs[m.byName.fontSize.qname],e.styleAttrs[t.qname]=new n.ComputedLength(.5*x.rw,.5*x.rh));for(var B in m.all)if(z=m.all[B],!(z.qname in e.styleAttrs||z.qname===m.byName.position.qname&&
m.byName.origin.qname in e.styleAttrs||z.qname===m.byName.origin.qname&&m.byName.position.qname in e.styleAttrs)&&(t=f.head.styling.initials[z.qname]||z.initial,null!==t&&("region"===e.kind||!1===z.inherit&&null!==t)))if(t=z.parse(t),null!==t)e.styleAttrs[z.qname]=t,l[z.qname]=!0;else if(z="Invalid initial value for '"+z.qname+"' on element '"+e.kind,g&&g.error&&g.error(z))throw z;for(var K in m.all)if(B=m.all[K],B.qname in l&&null!==B.compute)if(z=B.compute(f,w,e,e.styleAttrs[B.qname],c),null!==
z)e.styleAttrs[B.qname]=z;else if(e.styleAttrs[B.qname]=B.compute(f,w,e,B.parse(B.initial),c),B="Style '"+B.qname+"' on element '"+e.kind+"' cannot be computed",g&&g.error&&g.error(B))throw B;if("none"===e.styleAttrs[m.byName.display.qname])return null;if(null===w)var A=null===I?[]:[I];else"contents"in b&&(A=b.contents);for(var R in A)w=u(f,d,v,I,e,r,A[R],g,c),null!==w&&e.contents.push(w.element);for(var G in e.styleAttrs)f=!1,"span"===e.kind&&(d=e.styleAttrs[m.byName.ruby.qname],(f=("container"===
d||"textContainer"===d||"baseContainer"===d)&&-1!==q.indexOf(G))||(f="container"!==d&&G===m.byName.rubyAlign.qname),f||(f=!("textContainer"===d||"text"===d)&&G===m.byName.rubyPosition.qname)),f||(f=-1===m.byQName[G].applies.indexOf(e.kind)),f&&delete e.styleAttrs[G];G=e.styleAttrs[m.byName.ruby.qname];if("p"===e.kind||"span"===e.kind&&("textContainer"===G||"text"===G))G=[],a(e,G),p(G),h(e);return"div"===e.kind&&m.byName.backgroundImage.qname in e.styleAttrs||"br"===e.kind||"image"===e.kind||"contents"in
e&&0<e.contents.length||"span"===e.kind&&null!==e.text||"region"===e.kind&&"always"===e.styleAttrs[m.byName.showBackground.qname]?{region_id:r,element:e}:null}function p(a){function h(a){return"br"===a.kind||/[\r\n\t ]$/.test(a.text)}function f(a){return"br"===a.kind||"preserve"===a.space&&/^[\r\n]/.test(a.text)}for(var k,d=0;d<a.length;)if(k=a[d],"br"===k.kind||"preserve"===k.space)d++;else{var m=k.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(m)&&(0===d||h(a[d-1]))&&(m=m.substring(1));k.text=m;0===
m.length?a.splice(d,1):d++}for(d=0;d<a.length;d++)k=a[d],"br"===k.kind||"preserve"===k.space?d++:/[ ]$/.test(k.text)&&(d===a.length-1||f(a[d+1]))&&(k.text=k.text.slice(0,-1))}function a(h,f){for(var k in h.contents){var d=h.contents[k],v=d.styleAttrs[m.byName.ruby.qname];if("span"!==d.kind||"textContainer"!==v&&"text"!==v)"contents"in d?a(d,f):("span"===d.kind&&0!==d.text.length||"br"===d.kind)&&f.push(d)}}function h(a){if("br"===a.kind)return!1;if("text"in a)return 0===a.text.length;if("contents"in
a){for(var f=a.contents.length;f--;)h(a.contents[f])&&a.contents.splice(f,1);return 0===a.contents.length}}function v(a){this.contents=[];this.aspectRatio=a.aspectRatio}function k(a){this.kind=a.kind||"region";a.id&&(this.id=a.id);this.styleAttrs={};for(var h in a.styleAttrs)this.styleAttrs[h]=a.styleAttrs[h];"src"in a&&(this.src=a.src);"type"in a&&(this.type=a.type);if("text"in a)this.text=a.text;else if("region"===this.kind||"contents"in a)this.contents=[];"space"in a&&(this.space=a.space)}f.generateISD=
function(a,h,f){var k=new v(a),d={},m;for(m in a.head.layout.regions){var b=u(a,h,a.head.layout.regions[m],a.body,null,"",a.head.layout.regions[m],f,d);null!==b&&k.contents.push(b.element)}return k};var q=[m.byName.color.qname,m.byName.textCombine.qname,m.byName.textDecoration.qname,m.byName.textEmphasis.qname,m.byName.textOutline.qname,m.byName.textShadow.qname]})("undefined"===typeof p?this.imscISD={}:p,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscStyles?d("./styles"):
imscStyles,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":5,"./styles":6,"./utils":7}],4:[function(d,r,p){p.generateISD=d("./isd").generateISD;p.fromXML=d("./doc").fromXML;p.renderHTML=d("./html").render},{"./doc":1,"./html":2,"./isd":3}],5:[function(d,r,p){d="undefined"===typeof p?this.imscNames={}:p;d.ns_tt="http://www.w3.org/ns/ttml";d.ns_tts="http://www.w3.org/ns/ttml#styling";d.ns_ttp="http://www.w3.org/ns/ttml#parameter";d.ns_xml="http://www.w3.org/XML/1998/namespace";d.ns_itts=
"http://www.w3.org/ns/ttml/profile/imsc1#styling";d.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";d.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";d.ns_ebutts="urn:ebu:tt:style";d.ttaf_map={"http://www.w3.org/2006/10/ttaf1":d.ns_tt,"http://www.w3.org/2006/10/ttaf1#style":d.ns_tts,"http://www.w3.org/2006/10/ttaf1#parameter":d.ns_ttp}},{}],6:[function(d,r,p){(function(f,d,m){function n(a,h,d,f,m,n,p,r){this.name=h;this.ns=a;this.qname=a+" "+h;this.inherit=m;this.animatable=
n;this.initial=d;this.applies=f;this.parse=p;this.compute=r}f.all=[new n(d.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,m.parseColor,null),new n(d.ns_tts,"color","white",["span"],!0,!0,m.parseColor,null),new n(d.ns_tts,"direction","ltr",["p","span"],!0,!0,function(a){return a},null),new n(d.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(a){return a},null),new n(d.ns_tts,"displayAlign","before",["region"],!1,!0,function(a){return a},null),
new n(d.ns_tts,"extent","auto",["tt","region"],!1,!0,function(a){if("auto"===a)return a;var h=a.split(" ");if(2!==h.length)return null;a=m.parseLength(h[0]);return(h=m.parseLength(h[1]))&&a?{h:h,w:a}:null},function(a,h,d,f,q){if("auto"===f)h=new m.ComputedLength(0,1);else if(h=m.toComputedLength(f.h.value,f.h.unit,null,a.dimensions.h,null,a.pxLength.h),null===h)return null;if("auto"===f)a=new m.ComputedLength(1,0);else if(a=m.toComputedLength(f.w.value,f.w.unit,null,a.dimensions.w,null,a.pxLength.w),
null===a)return null;return{h:h,w:a}}),new n(d.ns_tts,"fontFamily","default",["span"],!0,!0,function(a){a=a.split(",");var h=[],d;for(d in a)"'"!==a[d].charAt(0)&&'"'!==a[d].charAt(0)?"default"===a[d]?h.push("monospaceSerif"):h.push(a[d]):h.push(a[d]);return h},null),new n(d.ns_tts,"shear","0%",["p"],!0,!0,m.parseLength,function(a,h,d,f){if("%"===f.unit)a=100<Math.abs(f.value)?100*Math.sign(f.value):f.value;else return null;return a}),new n(d.ns_tts,"fontSize","1c",["span"],!0,!0,m.parseLength,function(a,
h,d,k,q){return m.toComputedLength(k.value,k.unit,null!==h?h.styleAttrs[f.byName.fontSize.qname]:a.cellLength.h,null!==h?h.styleAttrs[f.byName.fontSize.qname]:a.cellLength.h,a.cellLength.h,a.pxLength.h)}),new n(d.ns_tts,"fontStyle","normal",["span"],!0,!0,function(a){return a},null),new n(d.ns_tts,"fontWeight","normal",["span"],!0,!0,function(a){return a},null),new n(d.ns_tts,"lineHeight","normal",["p"],!0,!0,function(a){return"normal"===a?a:m.parseLength(a)},function(a,h,d,k,q){if("normal"===k)a=
k;else if(a=m.toComputedLength(k.value,k.unit,d.styleAttrs[f.byName.fontSize.qname],d.styleAttrs[f.byName.fontSize.qname],a.cellLength.h,a.pxLength.h),null===a)return null;return a}),new n(d.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new n(d.ns_tts,"origin","auto",["region"],!1,!0,function(a){if("auto"===a)return a;var h=a.split(" ");if(2!==h.length)return null;a=m.parseLength(h[0]);return(h=m.parseLength(h[1]))&&a?{h:h,w:a}:null},function(a,h,d,f,q){if("auto"===f)h=new m.ComputedLength(0,
0);else if(h=m.toComputedLength(f.h.value,f.h.unit,null,a.dimensions.h,null,a.pxLength.h),null===h)return null;if("auto"===f)a=new m.ComputedLength(0,0);else if(a=m.toComputedLength(f.w.value,f.w.unit,null,a.dimensions.w,null,a.pxLength.w),null===a)return null;return{h:h,w:a}}),new n(d.ns_tts,"overflow","hidden",["region"],!1,!0,function(a){return a},null),new n(d.ns_tts,"padding","0px",["region"],!1,!0,function(a){a=a.split(" ");if(4<a.length)return null;var h=[],d;for(d in a){var f=m.parseLength(a[d]);
if(!f)return null;h.push(f)}return h},function(a,h,d,k,q){if(1===k.length)h=[k[0],k[0],k[0],k[0]];else if(2===k.length)h=[k[0],k[1],k[0],k[1]];else if(3===k.length)h=[k[0],k[1],k[2],k[1]];else if(4===k.length)h=[k[0],k[1],k[2],k[3]];else return null;k=d.styleAttrs[f.byName.writingMode.qname];if("lrtb"===k||"lr"===k)h=[h[0],h[3],h[2],h[1]];else if("rltb"===k||"rl"===k)h=[h[0],h[1],h[2],h[3]];else if("tblr"===k)h=[h[3],h[0],h[1],h[2]];else if("tbrl"===k||"tb"===k)h=[h[3],h[2],h[1],h[0]];else return null;
k=[];for(var n in h)if(0===h[n].value)k[n]=new m.ComputedLength(0,0);else if(k[n]=m.toComputedLength(h[n].value,h[n].unit,d.styleAttrs[f.byName.fontSize.qname],"0"===n||"2"===n?d.styleAttrs[f.byName.extent.qname].h:d.styleAttrs[f.byName.extent.qname].w,"0"===n||"2"===n?a.cellLength.h:a.cellLength.w,"0"===n||"2"===n?a.pxLength.h:a.pxLength.w),null===k[n])return null;return k}),new n(d.ns_tts,"position","top left",["region"],!1,!0,function(a){return m.parsePosition(a)},function(a,h,d,k){h=m.toComputedLength(k.v.offset.value,
k.v.offset.unit,null,new m.ComputedLength(-d.styleAttrs[f.byName.extent.qname].h.rw,a.dimensions.h.rh-d.styleAttrs[f.byName.extent.qname].h.rh),null,a.pxLength.h);if(null===h)return null;"bottom"===k.v.edge&&(h=new m.ComputedLength(-h.rw-d.styleAttrs[f.byName.extent.qname].h.rw,a.dimensions.h.rh-h.rh-d.styleAttrs[f.byName.extent.qname].h.rh));var n=m.toComputedLength(k.h.offset.value,k.h.offset.unit,null,new m.ComputedLength(a.dimensions.w.rw-d.styleAttrs[f.byName.extent.qname].w.rw,-d.styleAttrs[f.byName.extent.qname].w.rh),
null,a.pxLength.w);if(null===h)return null;"right"===k.h.edge&&(n=new m.ComputedLength(a.dimensions.w.rw-n.rw-d.styleAttrs[f.byName.extent.qname].w.rw,-n.rh-d.styleAttrs[f.byName.extent.qname].w.rh));return{h:h,w:n}}),new n(d.ns_tts,"ruby","none",["span"],!1,!0,function(a){return a},null),new n(d.ns_tts,"rubyAlign","center",["span"],!0,!0,function(a){return"center"!==a&&"spaceAround"!==a?null:a},null),new n(d.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(a){return a},null),new n(d.ns_tts,
"rubyReserve","none",["p"],!0,!0,function(a){var d=a.split(" ");a=[null,null];if(0===d.length||2<d.length||"none"!==d[0]&&"both"!==d[0]&&"after"!==d[0]&&"before"!==d[0]&&"outside"!==d[0])return null;a[0]=d[0];if(2===d.length&&"none"!==d[0])if(d=m.parseLength(d[1]))a[1]=d;else return null;return a},function(a,d,n,k,q){if("none"===k[0])return k;a=null===k[1]?new m.ComputedLength(.5*n.styleAttrs[f.byName.fontSize.qname].rw,.5*n.styleAttrs[f.byName.fontSize.qname].rh):m.toComputedLength(k[1].value,k[1].unit,
n.styleAttrs[f.byName.fontSize.qname],n.styleAttrs[f.byName.fontSize.qname],a.cellLength.h,a.pxLength.h);return null===a?null:[k[0],a]}),new n(d.ns_tts,"showBackground","whenActive",["region"],!1,!0,function(a){return a},null),new n(d.ns_tts,"textAlign","start",["p"],!0,!0,function(a){return a},function(a,d,f,k,m){return"left"===k?"start":"right"===k?"end":k}),new n(d.ns_tts,"textCombine","none",["span"],!0,!0,function(a){a=a.split(" ");return 1!==a.length||"none"!==a[0]&&"all"!==a[0]?null:[a[0]]},
null),new n(d.ns_tts,"textDecoration","none",["span"],!0,!0,function(a){return a.split(" ")},null),new n(d.ns_tts,"textEmphasis","none",["span"],!0,!0,function(a){a=a.split(" ");var d={style:null,symbol:null,color:null,position:null},f;for(f in a)if("none"===a[f]||"auto"===a[f])d.style=a[f];else if("filled"===a[f]||"open"===a[f])d.style=a[f];else if("circle"===a[f]||"dot"===a[f]||"sesame"===a[f])d.symbol=a[f];else if("current"===a[f])d.color=a[f];else if("outside"===a[f]||"before"===a[f]||"after"===
a[f])d.position=a[f];else if(d.color=m.parseColor(a[f]),null===d.color)return null;null==d.style&&null==d.symbol?d.style="auto":(d.symbol=d.symbol||"circle",d.style=d.style||"filled");d.position=d.position||"outside";d.color=d.color||"current";return d},null),new n(d.ns_tts,"textOutline","none",["span"],!0,!0,function(a){if("none"===a)return a;var d={};a=a.split(" ");if(0===a.length||2<a.length)return null;var f=m.parseColor(a[0]);d.color=f;null!==f&&a.shift();if(1!==a.length)return null;a=m.parseLength(a[0]);
if(!a)return null;d.thickness=a;return d},function(a,d,n,k,q){if("none"===k)return k;d={};d.color=null===k.color?n.styleAttrs[f.byName.color.qname]:k.color;d.thickness=m.toComputedLength(k.thickness.value,k.thickness.unit,n.styleAttrs[f.byName.fontSize.qname],n.styleAttrs[f.byName.fontSize.qname],a.cellLength.h,a.pxLength.h);return null===d.thickness?null:d}),new n(d.ns_tts,"textShadow","none",["span"],!0,!0,m.parseTextShadow,function(a,d,n,k){if("none"===k)return k;d=[];for(var h in k){var t={};
t.x_off=m.toComputedLength(k[h][0].value,k[h][0].unit,null,n.styleAttrs[f.byName.fontSize.qname],null,a.pxLength.w);if(null===t.x_off)return null;t.y_off=m.toComputedLength(k[h][1].value,k[h][1].unit,null,n.styleAttrs[f.byName.fontSize.qname],null,a.pxLength.h);if(null===t.y_off)return null;if(null===k[h][2])t.b_radius=0;else if(t.b_radius=m.toComputedLength(k[h][2].value,k[h][2].unit,null,n.styleAttrs[f.byName.fontSize.qname],null,a.pxLength.h),null===t.b_radius)return null;t.color=null===k[h][3]?
n.styleAttrs[f.byName.color.qname]:k[h][3];d.push(t)}return d}),new n(d.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(a){return a},null),new n(d.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(a){return a},null),new n(d.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(a){return a},null),new n(d.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(a){return a},null),new n(d.ns_tts,"zIndex","auto",["region"],!1,!0,function(a){"auto"!==a&&(a=parseInt(a),
isNaN(a)&&(a=null));return a},null),new n(d.ns_ebutts,"linePadding","0c",["p"],!0,!1,m.parseLength,function(a,d,f,k,n){return m.toComputedLength(k.value,k.unit,null,null,a.cellLength.w,null)}),new n(d.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(a){return a},null),new n(d.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(a){return a},null),new n(d.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(a){return"true"===a?!0:!1},null),new n(d.ns_itts,"fillLineGap",
"true",["p"],!0,!0,function(a){return"true"===a?!0:!1},null)];f.byQName={};for(var p in f.all)f.byQName[f.all[p].qname]=f.all[p];f.byName={};for(var r in f.all)f.byName[f.all[r].name]=f.all[r]})("undefined"===typeof p?this.imscStyles={}:p,"undefined"===typeof imscNames?d("./names"):imscNames,"undefined"===typeof imscUtils?d("./utils"):imscUtils)},{"./names":5,"./utils":7}],7:[function(d,r,p){(function(d){var f=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,m=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,
n=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,p={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};d.parseColor=function(a){var d,v=
null,k=p[a.toLowerCase()];void 0!==k?v=k:null!==(d=f.exec(a))?v=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16),void 0!==d[4]?parseInt(d[4],16):255]:null!==(d=m.exec(a))?v=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),255]:null!==(d=n.exec(a))&&(v=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseInt(d[4])]);return v};var r=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;d.parseLength=function(a){var d,f=null;null!==(d=r.exec(a))&&(f={value:parseFloat(d[1]),unit:d[2]});return f};d.parseTextShadow=
function(a){a=a.split(",");var f=[],m;for(m in a){var k=a[m].split(" ");if(1===k.length&&"none"===k[0])return"none";if(1<k.length&&5>k.length){var n=[null,null,null,null],p=d.parseLength(k.shift());if(null===p)return null;n[0]=p;p=d.parseLength(k.shift());if(null===p)return null;n[1]=p;if(0!==k.length&&(p=d.parseLength(k[0]),null!==p&&(n[2]=p,k.shift()),0!==k.length)){k=d.parseColor(k[0]);if(null===k)return null;n[3]=k}f.push(n)}}return f};d.parsePosition=function(a){a=a.split(" ");var f=function(a){return"center"===
a||"left"===a||"top"===a||"bottom"===a||"right"===a};if(4<a.length)return null;for(var m in a)if(!f(a[m])){var k=d.parseLength(a[m]);if(null===k)return null;a[m]=k}m={h:{edge:"left",offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}};for(k=0;k<a.length;){var n=a[k++];if(f(n)){var p={value:0,unit:"%"};2!==a.length&&k<a.length&&!f(a[k])&&(p=a[k++]);"right"===n?(m.h.edge=n,m.h.offset=p):"bottom"===n?(m.v.edge=n,m.v.offset=p):"left"===n?m.h.offset=p:"top"===n&&(m.v.offset=p)}else if(1===
a.length||2===a.length)1===k?m.h.offset=n:m.v.offset=n;else return null}return m};d.ComputedLength=function(a,d){this.rw=a;this.rh=d};d.ComputedLength.prototype.toUsedLength=function(a,d){return a*this.rw+d*this.rh};d.ComputedLength.prototype.multiply=function(a,d){return d?a*d:a};d.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh};d.toComputedLength=function(a,f,m,k,n,p){return"%"===f&&k?new d.ComputedLength(k.rw*a/100,k.rh*a/100):"em"===f&&m?new d.ComputedLength(m.rw*a,
m.rh*a):"c"===f&&n?new d.ComputedLength(a*n.rw,a*n.rh):"px"===f&&p?new d.ComputedLength(a*p.rw,a*p.rh):"rh"===f?new d.ComputedLength(0,a/100):"rw"===f?new d.ComputedLength(a/100,0):null}})("undefined"===typeof p?this.imscUtils={}:p)},{}]},{},[4])(4)});
