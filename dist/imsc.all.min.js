/*
 The buffer module from node.js, for the browser.

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 Determine if an object is a Buffer

 @author   Feross Aboukhadijeh <https://feross.org>
 @license  MIT
 safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource>  http://mths.be/fromcodepoint v0.1.0 by @mathias */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,l,h){f!=Array.prototype&&f!=Object.prototype&&(f[l]=h.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(f,l,h,b){if(l){h=$jscomp.global;f=f.split(".");for(b=0;b<f.length-1;b++){var e=f[b];e in h||(h[e]={});h=h[e]}f=f[f.length-1];b=h[f];l=l(b);l!=b&&null!=l&&$jscomp.defineProperty(h,f,{configurable:!0,writable:!0,value:l})}};$jscomp.polyfill("Array.prototype.fill",function(f){return f?f:function(f,h,b){var e=this.length||0;0>h&&(h=Math.max(0,e+h));if(null==b||b>e)b=e;b=Number(b);0>b&&(b=Math.max(0,e+b));for(h=Number(h||0);h<b;h++)this[h]=f;return this}},"es6","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var f=0;return function(l){return $jscomp.SYMBOL_PREFIX+(l||"")+f++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.arrayIterator=function(f){var l=0;return $jscomp.iteratorPrototype(function(){return l<f.length?{done:!1,value:f[l++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.iteratorFromArray=function(f,l){$jscomp.initSymbolIterator();f instanceof String&&(f+="");var h=0,b={next:function(){if(h<f.length){var e=h++;return{value:l(e,f[e]),done:!1}}b.next=function(){return{done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};
$jscomp.polyfill("Array.prototype.keys",function(f){return f?f:function(){return $jscomp.iteratorFromArray(this,function(f){return f})}},"es6","es3");$jscomp.polyfill("Object.getOwnPropertySymbols",function(f){return f?f:function(){return[]}},"es6","es5");
$jscomp.polyfill("Reflect.ownKeys",function(f){return f?f:function(f){var h=[],b=Object.getOwnPropertyNames(f);f=Object.getOwnPropertySymbols(f);for(var e=0;e<b.length;e++)("jscomp_symbol_"==b[e].substring(0,14)?f:h).push(b[e]);return h.concat(f)}},"es6","es5");
$jscomp.polyfill("String.fromCodePoint",function(f){return f?f:function(f){for(var h="",b=0;b<arguments.length;b++){var e=Number(arguments[b]);if(0>e||1114111<e||e!==Math.floor(e))throw new RangeError("invalid_code_point "+e);65535>=e?h+=String.fromCharCode(e):(e-=65536,h+=String.fromCharCode(e>>>10&1023|55296),h+=String.fromCharCode(e&1023|56320))}return h}},"es6","es3");$jscomp.owns=function(f,l){return Object.prototype.hasOwnProperty.call(f,l)};
$jscomp.assign="function"==typeof Object.assign?Object.assign:function(f,l){for(var h=1;h<arguments.length;h++){var b=arguments[h];if(b)for(var e in b)$jscomp.owns(b,e)&&(f[e]=b[e])}return f};$jscomp.polyfill("Object.assign",function(f){return f||$jscomp.assign},"es6","es3");$jscomp.polyfill("Object.entries",function(f){return f?f:function(f){var h=[],b;for(b in f)$jscomp.owns(f,b)&&h.push([b,f[b]]);return h}},"es8","es3");
$jscomp.polyfill("Math.sign",function(f){return f?f:function(f){f=Number(f);return 0===f||isNaN(f)?f:0<f?1:-1}},"es6","es3");$jscomp.checkEs6ConformanceViaProxy=function(){try{var f={},l=Object.create(new $jscomp.global.Proxy(f,{get:function(h,b,e){return h==f&&"q"==b&&e==l}}));return!0===l.q}catch(h){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();var l=f[Symbol.iterator];return l?l.call(f):$jscomp.arrayIterator(f)};
$jscomp.polyfill("WeakMap",function(f){function l(){if(!f||!Object.seal)return!1;try{var b=Object.seal({}),e=Object.seal({}),d=new f([[b,2],[e,3]]);if(2!=d.get(b)||3!=d.get(e))return!1;d.delete(b);d.set(e,4);return!d.has(b)&&4==d.get(e)}catch(t){return!1}}function h(b){$jscomp.owns(b,e)||$jscomp.defineProperty(b,e,{value:{}})}function b(b){var e=Object[b];e&&(Object[b]=function(d){h(d);return e(d)})}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(f&&$jscomp.ES6_CONFORMANCE)return f}else if(l())return f;
var e="$jscomp_hidden_"+Math.random();b("freeze");b("preventExtensions");b("seal");var r=0,u=function(b){this.id_=(r+=Math.random()+1).toString();if(b){$jscomp.initSymbol();$jscomp.initSymbolIterator();b=$jscomp.makeIterator(b);for(var e;!(e=b.next()).done;)e=e.value,this.set(e[0],e[1])}};u.prototype.set=function(b,f){h(b);if(!$jscomp.owns(b,e))throw Error("WeakMap key fail: "+b);b[e][this.id_]=f;return this};u.prototype.get=function(b){return $jscomp.owns(b,e)?b[e][this.id_]:void 0};u.prototype.has=
function(b){return $jscomp.owns(b,e)&&$jscomp.owns(b[e],this.id_)};u.prototype.delete=function(b){return $jscomp.owns(b,e)&&$jscomp.owns(b[e],this.id_)?delete b[e][this.id_]:!1};return u},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(f){function l(){if($jscomp.ASSUME_NO_NATIVE_MAP||!f||"function"!=typeof f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),d=new f($jscomp.makeIterator([[b,"s"]]));if("s"!=d.get(b)||1!=d.size||d.get({x:4})||d.set({x:4},"t")!=d||2!=d.size)return!1;var e=d.entries(),r=e.next();if(r.done||r.value[0]!=b||"s"!=r.value[1])return!1;r=e.next();return r.done||4!=r.value[0].x||"t"!=r.value[1]||!e.next().done?!1:!0}catch(y){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(f&&$jscomp.ES6_CONFORMANCE)return f}else if(l())return f;$jscomp.initSymbol();$jscomp.initSymbolIterator();var h=new WeakMap,b=function(b){this.data_={};this.head_=u();this.size=0;if(b){b=$jscomp.makeIterator(b);for(var d;!(d=b.next()).done;)d=d.value,this.set(d[0],d[1])}};b.prototype.set=function(b,d){b=0===b?0:b;var t=e(this,b);t.list||(t.list=this.data_[t.id]=[]);t.entry?t.entry.value=d:(t.entry={next:this.head_,previous:this.head_.previous,head:this.head_,
key:b,value:d},t.list.push(t.entry),this.head_.previous.next=t.entry,this.head_.previous=t.entry,this.size++);return this};b.prototype.delete=function(b){b=e(this,b);return b.entry&&b.list?(b.list.splice(b.index,1),b.list.length||delete this.data_[b.id],b.entry.previous.next=b.entry.next,b.entry.next.previous=b.entry.previous,b.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=u();this.size=0};b.prototype.has=function(b){return!!e(this,b).entry};
b.prototype.get=function(b){return(b=e(this,b).entry)&&b.value};b.prototype.entries=function(){return r(this,function(b){return[b.key,b.value]})};b.prototype.keys=function(){return r(this,function(b){return b.key})};b.prototype.values=function(){return r(this,function(b){return b.value})};b.prototype.forEach=function(b,d){for(var e=this.entries(),f;!(f=e.next()).done;)f=f.value,b.call(d,f[1],f[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var e=function(b,d){var e=d&&typeof d;"object"==
e||"function"==e?h.has(d)?e=h.get(d):(e=""+ ++F,h.set(d,e)):e="p_"+d;var f=b.data_[e];if(f&&$jscomp.owns(b.data_,e))for(b=0;b<f.length;b++){var r=f[b];if(d!==d&&r.key!==r.key||d===r.key)return{id:e,list:f,index:b,entry:r}}return{id:e,list:f,index:-1,entry:void 0}},r=function(b,d){var e=b.head_;return $jscomp.iteratorPrototype(function(){if(e){for(;e.head!=b.head_;)e=e.previous;for(;e.next!=e.head;)return e=e.next,{done:!1,value:d(e)};e=null}return{done:!0,value:void 0}})},u=function(){var b={};return b.previous=
b.next=b.head=b},F=0;return b},"es6","es3");
$jscomp.polyfill("Set",function(f){function l(){if($jscomp.ASSUME_NO_NATIVE_SET||!f||"function"!=typeof f||!f.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),e=new f($jscomp.makeIterator([b]));if(!e.has(b)||1!=e.size||e.add(b)!=e||1!=e.size||e.add({x:4})!=e||2!=e.size)return!1;var r=e.entries(),u=r.next();if(u.done||u.value[0]!=b||u.value[1]!=b)return!1;u=r.next();return u.done||u.value[0]==b||4!=u.value[0].x||u.value[1]!=u.value[0]?!1:r.next().done}catch(F){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(f&&$jscomp.ES6_CONFORMANCE)return f}else if(l())return f;$jscomp.initSymbol();$jscomp.initSymbolIterator();var h=function(b){this.map_=new Map;if(b){b=$jscomp.makeIterator(b);for(var e;!(e=b.next()).done;)this.add(e.value)}this.size=this.map_.size};h.prototype.add=function(b){b=0===b?0:b;this.map_.set(b,b);this.size=this.map_.size;return this};h.prototype.delete=function(b){b=this.map_.delete(b);this.size=this.map_.size;return b};h.prototype.clear=
function(){this.map_.clear();this.size=0};h.prototype.has=function(b){return this.map_.has(b)};h.prototype.entries=function(){return this.map_.entries()};h.prototype.values=function(){return this.map_.values()};h.prototype.keys=h.prototype.values;h.prototype[Symbol.iterator]=h.prototype.values;h.prototype.forEach=function(b,e){var f=this;this.map_.forEach(function(r){return b.call(e,r,r,f)})};return h},"es6","es3");
(function(f){"object"===typeof exports&&"undefined"!==typeof module?module.exports=f():"function"===typeof define&&define.amd?define([],f):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).imsc=f()})(function(){return function(){function f(l,h,b){function e(u,D){if(!h[u]){if(!l[u]){var d="function"==typeof require&&require;if(!D&&d)return d(u,!0);if(r)return r(u,!0);D=Error("Cannot find module '"+u+"'");throw D.code="MODULE_NOT_FOUND",D;}D=
h[u]={exports:{}};l[u][0].call(D.exports,function(b){return e(l[u][1][b]||b)},D,D.exports,f,l,h,b)}return h[u].exports}for(var r="function"==typeof require&&require,u=0;u<b.length;u++)e(b[u]);return e}return f}()({1:[function(f,l,h){function b(b){var d=b.length;if(0<d%4)throw Error("Invalid string. Length must be a multiple of 4");b=b.indexOf("=");-1===b&&(b=d);return[b,b===d?0:4-b%4]}function e(b,d,e){for(var f=[],t=d;t<e;t+=3)d=(b[t]<<16&16711680)+(b[t+1]<<8&65280)+(b[t+2]&255),f.push(r[d>>18&63]+
r[d>>12&63]+r[d>>6&63]+r[d&63]);return f.join("")}h.byteLength=function(e){e=b(e);var d=e[1];return 3*(e[0]+d)/4-d};h.toByteArray=function(e){var d=b(e);var f=d[0];d=d[1];var r=new F(3*(f+d)/4-d),y=0,h=0<d?f-4:f,x;for(x=0;x<h;x+=4)f=u[e.charCodeAt(x)]<<18|u[e.charCodeAt(x+1)]<<12|u[e.charCodeAt(x+2)]<<6|u[e.charCodeAt(x+3)],r[y++]=f>>16&255,r[y++]=f>>8&255,r[y++]=f&255;2===d&&(f=u[e.charCodeAt(x)]<<2|u[e.charCodeAt(x+1)]>>4,r[y++]=f&255);1===d&&(f=u[e.charCodeAt(x)]<<10|u[e.charCodeAt(x+1)]<<4|u[e.charCodeAt(x+
2)]>>2,r[y++]=f>>8&255,r[y++]=f&255);return r};h.fromByteArray=function(b){for(var d=b.length,f=d%3,u=[],y=0,h=d-f;y<h;y+=16383)u.push(e(b,y,y+16383>h?h:y+16383));1===f?(b=b[d-1],u.push(r[b>>2]+r[b<<4&63]+"==")):2===f&&(b=(b[d-2]<<8)+b[d-1],u.push(r[b>>10]+r[b>>4&63]+r[b<<2&63]+"="));return u.join("")};var r=[],u=[],F="undefined"!==typeof Uint8Array?Uint8Array:Array;for(f=0;64>f;++f)r[f]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[f],u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(f)]=
f;u[45]=62;u[95]=63},{}],2:[function(f,l,h){},{}],3:[function(f,l,h){(function(b){function e(p){if(2147483647<p)throw new RangeError('The value "'+p+'" is invalid for option "size"');p=new Uint8Array(p);p.__proto__=b.prototype;return p}function b(p,b,m){if("number"===typeof p){if("string"===typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return F(p)}return r(p,b,m)}function r(p,C,m){if("string"===typeof p){var k=C;if("string"!==typeof k||""===k)k=
"utf8";if(!b.isEncoding(k))throw new TypeError("Unknown encoding: "+k);C=w(p,k)|0;m=e(C);p=m.write(p,k);p!==C&&(m=m.slice(0,p));return m}if(ArrayBuffer.isView(p))return D(p);if(null==p)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(L(p,ArrayBuffer)||p&&L(p.buffer,ArrayBuffer)){if(0>C||p.byteLength<C)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<C+(m||0))throw new RangeError('"length" is outside of buffer bounds');
p=void 0===C&&void 0===m?new Uint8Array(p):void 0===m?new Uint8Array(p,C):new Uint8Array(p,C,m);p.__proto__=b.prototype;return p}if("number"===typeof p)throw new TypeError('The "value" argument must not be of type number. Received type number');k=p.valueOf&&p.valueOf();if(null!=k&&k!==p)return b.from(k,C,m);if(k=d(p))return k;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof p[Symbol.toPrimitive])return b.from(p[Symbol.toPrimitive]("string"),C,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof p);}function u(p){if("number"!==typeof p)throw new TypeError('"size" argument must be of type number');if(0>p)throw new RangeError('The value "'+p+'" is invalid for option "size"');}function F(p){u(p);return e(0>p?0:t(p)|0)}function D(p){for(var b=0>p.length?0:t(p.length)|0,m=e(b),k=0;k<b;k+=1)m[k]=p[k]&255;return m}function d(p){if(b.isBuffer(p)){var d=t(p.length)|0,m=e(d);if(0===m.length)return m;p.copy(m,0,0,d);return m}if(void 0!==p.length)return(d="number"!==typeof p.length)||(d=p.length,
d=d!==d),d?e(0):D(p);if("Buffer"===p.type&&Array.isArray(p.data))return D(p.data)}function t(p){if(2147483647<=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(2147483647).toString(16)+" bytes");return p|0}function w(p,d){if(b.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||L(p,ArrayBuffer))return p.byteLength;if("string"!==typeof p)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);var m=
p.length,k=2<arguments.length&&!0===arguments[2];if(!k&&0===m)return 0;for(var C=!1;;)switch(d){case "ascii":case "latin1":case "binary":return m;case "utf8":case "utf-8":return n(p).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*m;case "hex":return m>>>1;case "base64":return J.toByteArray(q(p)).length;default:if(C)return k?-1:n(p).length;d=(""+d).toLowerCase();C=!0}}function y(p,b,m){var k=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===m||m>this.length)m=
this.length;if(0>=m)return"";m>>>=0;b>>>=0;if(m<=b)return"";for(p||(p="utf8");;)switch(p){case "hex":p=b;b=m;m=this.length;if(!p||0>p)p=0;if(!b||0>b||b>m)b=m;k="";for(m=p;m<b;++m)p=k,k=this[m],k=16>k?"0"+k.toString(16):k.toString(16),k=p+k;return k;case "utf8":case "utf-8":return I(this,b,m);case "ascii":p="";for(m=Math.min(this.length,m);b<m;++b)p+=String.fromCharCode(this[b]&127);return p;case "latin1":case "binary":p="";for(m=Math.min(this.length,m);b<m;++b)p+=String.fromCharCode(this[b]);return p;
case "base64":return b=0===b&&m===this.length?J.fromByteArray(this):J.fromByteArray(this.slice(b,m)),b;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":b=this.slice(b,m);m="";for(p=0;p<b.length;p+=2)m+=String.fromCharCode(b[p]+256*b[p+1]);return m;default:if(k)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase();k=!0}}function v(p,b,m){var k=p[b];p[b]=p[m];p[m]=k}function x(p,d,m,k,g){if(0===p.length)return-1;"string"===typeof m?(k=m,m=0):2147483647<m?m=2147483647:-2147483648>
m&&(m=-2147483648);m=+m;m!==m&&(m=g?0:p.length-1);0>m&&(m=p.length+m);if(m>=p.length){if(g)return-1;m=p.length-1}else if(0>m)if(g)m=0;else return-1;"string"===typeof d&&(d=b.from(d,k));if(b.isBuffer(d))return 0===d.length?-1:l(p,d,m,k,g);if("number"===typeof d)return d&=255,"function"===typeof Uint8Array.prototype.indexOf?g?Uint8Array.prototype.indexOf.call(p,d,m):Uint8Array.prototype.lastIndexOf.call(p,d,m):l(p,[d],m,k,g);throw new TypeError("val must be string, number or Buffer");}function l(p,
b,m,k,d){function g(k,p){return 1===C?k[p]:k.readUInt16BE(p*C)}var C=1,e=p.length,q=b.length;if(void 0!==k&&(k=String(k).toLowerCase(),"ucs2"===k||"ucs-2"===k||"utf16le"===k||"utf-16le"===k)){if(2>p.length||2>b.length)return-1;C=2;e/=2;q/=2;m/=2}if(d)for(k=-1;m<e;m++)if(g(p,m)===g(b,-1===k?0:m-k)){if(-1===k&&(k=m),m-k+1===q)return k*C}else-1!==k&&(m-=m-k),k=-1;else for(m+q>e&&(m=e-q);0<=m;m--){e=!0;for(k=0;k<q;k++)if(g(p,m+k)!==g(b,k)){e=!1;break}if(e)return m}return-1}function I(p,b,m){m=Math.min(p.length,
m);for(var k=[];b<m;){var d=p[b],g=null,e=239<d?4:223<d?3:191<d?2:1;if(b+e<=m)switch(e){case 1:128>d&&(g=d);break;case 2:var C=p[b+1];128===(C&192)&&(d=(d&31)<<6|C&63,127<d&&(g=d));break;case 3:C=p[b+1];var q=p[b+2];128===(C&192)&&128===(q&192)&&(d=(d&15)<<12|(C&63)<<6|q&63,2047<d&&(55296>d||57343<d)&&(g=d));break;case 4:C=p[b+1];q=p[b+2];var f=p[b+3];128===(C&192)&&128===(q&192)&&128===(f&192)&&(d=(d&15)<<18|(C&63)<<12|(q&63)<<6|f&63,65535<d&&1114112>d&&(g=d))}null===g?(g=65533,e=1):65535<g&&(g-=
65536,k.push(g>>>10&1023|55296),g=56320|g&1023);k.push(g);b+=e}p=k.length;if(p<=H)k=String.fromCharCode.apply(String,k);else{m="";for(b=0;b<p;)m+=String.fromCharCode.apply(String,k.slice(b,b+=H));k=m}return k}function z(p,b,m){if(0!==p%1||0>p)throw new RangeError("offset is not uint");if(p+b>m)throw new RangeError("Trying to access beyond buffer length");}function A(p,d,m,k,g,e){if(!b.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>g||d<e)throw new RangeError('"value" argument is out of bounds');
if(m+k>p.length)throw new RangeError("Index out of range");}function M(p,b,m,k,d,g){if(m+k>p.length)throw new RangeError("Index out of range");if(0>m)throw new RangeError("Index out of range");}function g(p,b,m,k,d){b=+b;m>>>=0;d||M(p,b,m,4,3.4028234663852886E38,-3.4028234663852886E38);K.write(p,b,m,k,23,4);return m+4}function B(b,d,m,k,g){d=+d;m>>>=0;g||M(b,d,m,8,1.7976931348623157E308,-1.7976931348623157E308);K.write(b,d,m,k,52,8);return m+8}function q(b){b=b.split("=")[0];b=b.trim().replace(P,
"");if(2>b.length)return"";for(;0!==b.length%4;)b+="=";return b}function n(b,d){d=d||Infinity;for(var p,k=b.length,g=null,e=[],C=0;C<k;++C){p=b.charCodeAt(C);if(55295<p&&57344>p){if(!g){if(56319<p){-1<(d-=3)&&e.push(239,191,189);continue}else if(C+1===k){-1<(d-=3)&&e.push(239,191,189);continue}g=p;continue}if(56320>p){-1<(d-=3)&&e.push(239,191,189);g=p;continue}p=(g-55296<<10|p-56320)+65536}else g&&-1<(d-=3)&&e.push(239,191,189);g=null;if(128>p){if(0>--d)break;e.push(p)}else if(2048>p){if(0>(d-=2))break;
e.push(p>>6|192,p&63|128)}else if(65536>p){if(0>(d-=3))break;e.push(p>>12|224,p>>6&63|128,p&63|128)}else if(1114112>p){if(0>(d-=4))break;e.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw Error("Invalid code point");}return e}function G(b){for(var p=[],d=0;d<b.length;++d)p.push(b.charCodeAt(d)&255);return p}function O(b,d,m,k){for(var p=0;p<k&&!(p+m>=d.length||p>=b.length);++p)d[p+m]=b[p];return p}function L(b,d){return b instanceof d||null!=b&&null!=b.constructor&&null!=b.constructor.name&&
b.constructor.name===d.name}var J=f("base64-js"),K=f("ieee754");h.Buffer=b;h.SlowBuffer=function(p){+p!=p&&(p=0);return b.alloc(+p)};h.INSPECT_MAX_BYTES=50;h.kMaxLength=2147483647;b.TYPED_ARRAY_SUPPORT=function(){try{var b=new Uint8Array(1);b.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===b.foo()}catch(C){return!1}}();b.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");
Object.defineProperty(b.prototype,"parent",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.buffer}});Object.defineProperty(b.prototype,"offset",{enumerable:!0,get:function(){if(b.isBuffer(this))return this.byteOffset}});"undefined"!==typeof Symbol&&null!=Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});b.poolSize=8192;b.from=function(b,d,m){return r(b,d,m)};b.prototype.__proto__=Uint8Array.prototype;
b.__proto__=Uint8Array;b.alloc=function(b,d,m){u(b);b=0>=b?e(b):void 0!==d?"string"===typeof m?e(b).fill(d,m):e(b).fill(d):e(b);return b};b.allocUnsafe=function(b){return F(b)};b.allocUnsafeSlow=function(b){return F(b)};b.isBuffer=function(p){return null!=p&&!0===p._isBuffer&&p!==b.prototype};b.compare=function(p,d){L(p,Uint8Array)&&(p=b.from(p,p.offset,p.byteLength));L(d,Uint8Array)&&(d=b.from(d,d.offset,d.byteLength));if(!b.isBuffer(p)||!b.isBuffer(d))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');
if(p===d)return 0;for(var m=p.length,k=d.length,g=0,e=Math.min(m,k);g<e;++g)if(p[g]!==d[g]){m=p[g];k=d[g];break}return m<k?-1:k<m?1:0};b.isEncoding=function(b){switch(String(b).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};b.concat=function(p,d){if(!Array.isArray(p))throw new TypeError('"list" argument must be an Array of Buffers');if(0===p.length)return b.alloc(0);
var m;if(void 0===d)for(m=d=0;m<p.length;++m)d+=p[m].length;d=b.allocUnsafe(d);var k=0;for(m=0;m<p.length;++m){var g=p[m];L(g,Uint8Array)&&(g=b.from(g));if(!b.isBuffer(g))throw new TypeError('"list" argument must be an Array of Buffers');g.copy(d,k);k+=g.length}return d};b.byteLength=w;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var b=this.length;if(0!==b%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var d=0;d<b;d+=2)v(this,d,d+1);return this};b.prototype.swap32=
function(){var b=this.length;if(0!==b%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var d=0;d<b;d+=4)v(this,d,d+3),v(this,d+1,d+2);return this};b.prototype.swap64=function(){var b=this.length;if(0!==b%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var d=0;d<b;d+=8)v(this,d,d+7),v(this,d+1,d+6),v(this,d+2,d+5),v(this,d+3,d+4);return this};b.prototype.toString=function(){var b=this.length;return 0===b?"":0===arguments.length?I(this,0,b):y.apply(this,
arguments)};b.prototype.toLocaleString=b.prototype.toString;b.prototype.equals=function(d){if(!b.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:0===b.compare(this,d)};b.prototype.inspect=function(){var b=h.INSPECT_MAX_BYTES;var d=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim();this.length>b&&(d+=" ... ");return"<Buffer "+d+">"};b.prototype.compare=function(d,g,m,k,e){L(d,Uint8Array)&&(d=b.from(d,d.offset,d.byteLength));if(!b.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+
typeof d);void 0===g&&(g=0);void 0===m&&(m=d?d.length:0);void 0===k&&(k=0);void 0===e&&(e=this.length);if(0>g||m>d.length||0>k||e>this.length)throw new RangeError("out of range index");if(k>=e&&g>=m)return 0;if(k>=e)return-1;if(g>=m)return 1;g>>>=0;m>>>=0;k>>>=0;e>>>=0;if(this===d)return 0;var p=e-k,q=m-g,f=Math.min(p,q);k=this.slice(k,e);d=d.slice(g,m);for(g=0;g<f;++g)if(k[g]!==d[g]){p=k[g];q=d[g];break}return p<q?-1:q<p?1:0};b.prototype.includes=function(b,d,m){return-1!==this.indexOf(b,d,m)};b.prototype.indexOf=
function(b,d,m){return x(this,b,d,m,!0)};b.prototype.lastIndexOf=function(b,d,m){return x(this,b,d,m,!1)};b.prototype.write=function(b,d,m,k){if(void 0===d)k="utf8",m=this.length,d=0;else if(void 0===m&&"string"===typeof d)k=d,m=this.length,d=0;else if(isFinite(d))d>>>=0,isFinite(m)?(m>>>=0,void 0===k&&(k="utf8")):(k=m,m=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var p=this.length-d;if(void 0===m||m>p)m=p;if(0<b.length&&(0>m||0>d)||d>this.length)throw new RangeError("Attempt to write outside buffer bounds");
k||(k="utf8");for(p=!1;;)switch(k){case "hex":a:{d=Number(d)||0;k=this.length-d;m?(m=Number(m),m>k&&(m=k)):m=k;k=b.length;m>k/2&&(m=k/2);for(k=0;k<m;++k){p=parseInt(b.substr(2*k,2),16);if(p!==p){b=k;break a}this[d+k]=p}b=k}return b;case "utf8":case "utf-8":return O(n(b,this.length-d),this,d,m);case "ascii":return O(G(b),this,d,m);case "latin1":case "binary":return O(G(b),this,d,m);case "base64":return O(J.toByteArray(q(b)),this,d,m);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":k=b;p=this.length-
d;for(var g=[],e=0;e<k.length&&!(0>(p-=2));++e){var f=k.charCodeAt(e);b=f>>8;f%=256;g.push(f);g.push(b)}return O(g,this,d,m);default:if(p)throw new TypeError("Unknown encoding: "+k);k=(""+k).toLowerCase();p=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var H=4096;b.prototype.slice=function(d,g){var m=this.length;d=~~d;g=void 0===g?m:~~g;0>d?(d+=m,0>d&&(d=0)):d>m&&(d=m);0>g?(g+=m,0>g&&(g=0)):g>m&&(g=m);g<d&&(g=d);d=this.subarray(d,g);d.__proto__=
b.prototype;return d};b.prototype.readUIntLE=function(b,d,m){b>>>=0;d>>>=0;m||z(b,d,this.length);m=this[b];for(var k=1,p=0;++p<d&&(k*=256);)m+=this[b+p]*k;return m};b.prototype.readUIntBE=function(b,d,m){b>>>=0;d>>>=0;m||z(b,d,this.length);m=this[b+--d];for(var k=1;0<d&&(k*=256);)m+=this[b+--d]*k;return m};b.prototype.readUInt8=function(b,d){b>>>=0;d||z(b,1,this.length);return this[b]};b.prototype.readUInt16LE=function(b,d){b>>>=0;d||z(b,2,this.length);return this[b]|this[b+1]<<8};b.prototype.readUInt16BE=
function(b,d){b>>>=0;d||z(b,2,this.length);return this[b]<<8|this[b+1]};b.prototype.readUInt32LE=function(b,d){b>>>=0;d||z(b,4,this.length);return(this[b]|this[b+1]<<8|this[b+2]<<16)+16777216*this[b+3]};b.prototype.readUInt32BE=function(b,d){b>>>=0;d||z(b,4,this.length);return 16777216*this[b]+(this[b+1]<<16|this[b+2]<<8|this[b+3])};b.prototype.readIntLE=function(b,d,m){b>>>=0;d>>>=0;m||z(b,d,this.length);m=this[b];for(var k=1,g=0;++g<d&&(k*=256);)m+=this[b+g]*k;m>=128*k&&(m-=Math.pow(2,8*d));return m};
b.prototype.readIntBE=function(b,d,m){b>>>=0;d>>>=0;m||z(b,d,this.length);m=d;for(var k=1,g=this[b+--m];0<m&&(k*=256);)g+=this[b+--m]*k;g>=128*k&&(g-=Math.pow(2,8*d));return g};b.prototype.readInt8=function(b,d){b>>>=0;d||z(b,1,this.length);return this[b]&128?-1*(255-this[b]+1):this[b]};b.prototype.readInt16LE=function(b,d){b>>>=0;d||z(b,2,this.length);b=this[b]|this[b+1]<<8;return b&32768?b|4294901760:b};b.prototype.readInt16BE=function(b,d){b>>>=0;d||z(b,2,this.length);b=this[b+1]|this[b]<<8;return b&
32768?b|4294901760:b};b.prototype.readInt32LE=function(b,d){b>>>=0;d||z(b,4,this.length);return this[b]|this[b+1]<<8|this[b+2]<<16|this[b+3]<<24};b.prototype.readInt32BE=function(b,d){b>>>=0;d||z(b,4,this.length);return this[b]<<24|this[b+1]<<16|this[b+2]<<8|this[b+3]};b.prototype.readFloatLE=function(b,d){b>>>=0;d||z(b,4,this.length);return K.read(this,b,!0,23,4)};b.prototype.readFloatBE=function(b,d){b>>>=0;d||z(b,4,this.length);return K.read(this,b,!1,23,4)};b.prototype.readDoubleLE=function(b,
d){b>>>=0;d||z(b,8,this.length);return K.read(this,b,!0,52,8)};b.prototype.readDoubleBE=function(b,d){b>>>=0;d||z(b,8,this.length);return K.read(this,b,!1,52,8)};b.prototype.writeUIntLE=function(b,d,m,k){b=+b;d>>>=0;m>>>=0;k||A(this,b,d,m,Math.pow(2,8*m)-1,0);k=1;var g=0;for(this[d]=b&255;++g<m&&(k*=256);)this[d+g]=b/k&255;return d+m};b.prototype.writeUIntBE=function(b,d,m,k){b=+b;d>>>=0;m>>>=0;k||A(this,b,d,m,Math.pow(2,8*m)-1,0);k=m-1;var g=1;for(this[d+k]=b&255;0<=--k&&(g*=256);)this[d+k]=b/g&
255;return d+m};b.prototype.writeUInt8=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,1,255,0);this[d]=b&255;return d+1};b.prototype.writeUInt16LE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,2,65535,0);this[d]=b&255;this[d+1]=b>>>8;return d+2};b.prototype.writeUInt16BE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,2,65535,0);this[d]=b>>>8;this[d+1]=b&255;return d+2};b.prototype.writeUInt32LE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,4,4294967295,0);this[d+3]=b>>>24;this[d+2]=b>>>16;this[d+1]=b>>>8;this[d]=b&
255;return d+4};b.prototype.writeUInt32BE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,4,4294967295,0);this[d]=b>>>24;this[d+1]=b>>>16;this[d+2]=b>>>8;this[d+3]=b&255;return d+4};b.prototype.writeIntLE=function(b,d,m,k){b=+b;d>>>=0;k||(k=Math.pow(2,8*m-1),A(this,b,d,m,k-1,-k));k=0;var g=1,e=0;for(this[d]=b&255;++k<m&&(g*=256);)0>b&&0===e&&0!==this[d+k-1]&&(e=1),this[d+k]=(b/g>>0)-e&255;return d+m};b.prototype.writeIntBE=function(b,d,m,k){b=+b;d>>>=0;k||(k=Math.pow(2,8*m-1),A(this,b,d,m,k-1,-k));k=m-
1;var g=1,e=0;for(this[d+k]=b&255;0<=--k&&(g*=256);)0>b&&0===e&&0!==this[d+k+1]&&(e=1),this[d+k]=(b/g>>0)-e&255;return d+m};b.prototype.writeInt8=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,1,127,-128);0>b&&(b=255+b+1);this[d]=b&255;return d+1};b.prototype.writeInt16LE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,2,32767,-32768);this[d]=b&255;this[d+1]=b>>>8;return d+2};b.prototype.writeInt16BE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,2,32767,-32768);this[d]=b>>>8;this[d+1]=b&255;return d+2};b.prototype.writeInt32LE=
function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,4,2147483647,-2147483648);this[d]=b&255;this[d+1]=b>>>8;this[d+2]=b>>>16;this[d+3]=b>>>24;return d+4};b.prototype.writeInt32BE=function(b,d,m){b=+b;d>>>=0;m||A(this,b,d,4,2147483647,-2147483648);0>b&&(b=4294967295+b+1);this[d]=b>>>24;this[d+1]=b>>>16;this[d+2]=b>>>8;this[d+3]=b&255;return d+4};b.prototype.writeFloatLE=function(b,d,m){return g(this,b,d,!0,m)};b.prototype.writeFloatBE=function(b,d,m){return g(this,b,d,!1,m)};b.prototype.writeDoubleLE=function(b,
d,m){return B(this,b,d,!0,m)};b.prototype.writeDoubleBE=function(b,d,m){return B(this,b,d,!1,m)};b.prototype.copy=function(d,g,m,k){if(!b.isBuffer(d))throw new TypeError("argument should be a Buffer");m||(m=0);k||0===k||(k=this.length);g>=d.length&&(g=d.length);g||(g=0);0<k&&k<m&&(k=m);if(k===m||0===d.length||0===this.length)return 0;if(0>g)throw new RangeError("targetStart out of bounds");if(0>m||m>=this.length)throw new RangeError("Index out of range");if(0>k)throw new RangeError("sourceEnd out of bounds");
k>this.length&&(k=this.length);d.length-g<k-m&&(k=d.length-g+m);var e=k-m;if(this===d&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(g,m,k);else if(this===d&&m<g&&g<k)for(k=e-1;0<=k;--k)d[k+g]=this[k+m];else Uint8Array.prototype.set.call(d,this.subarray(m,k),g);return e};b.prototype.fill=function(d,g,m,k){if("string"===typeof d){"string"===typeof g?(k=g,g=0,m=this.length):"string"===typeof m&&(k=m,m=this.length);if(void 0!==k&&"string"!==typeof k)throw new TypeError("encoding must be a string");
if("string"===typeof k&&!b.isEncoding(k))throw new TypeError("Unknown encoding: "+k);if(1===d.length){var e=d.charCodeAt(0);if("utf8"===k&&128>e||"latin1"===k)d=e}}else"number"===typeof d&&(d&=255);if(0>g||this.length<g||this.length<m)throw new RangeError("Out of range index");if(m<=g)return this;g>>>=0;m=void 0===m?this.length:m>>>0;d||(d=0);if("number"===typeof d)for(k=g;k<m;++k)this[k]=d;else{e=b.isBuffer(d)?d:b.from(d,k);var q=e.length;if(0===q)throw new TypeError('The value "'+d+'" is invalid for argument "value"');
for(k=0;k<m-g;++k)this[k+g]=e[k%q]}return this};var P=/[^+/0-9A-Za-z-_]/g}).call(this,f("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:6}],4:[function(f,l,h){(function(b){h.isArray=function(b){return Array.isArray?Array.isArray(b):"[object Array]"===Object.prototype.toString.call(b)};h.isBoolean=function(b){return"boolean"===typeof b};h.isNull=function(b){return null===b};h.isNullOrUndefined=function(b){return null==b};h.isNumber=function(b){return"number"===typeof b};h.isString=function(b){return"string"===
typeof b};h.isSymbol=function(b){return"symbol"===typeof b};h.isUndefined=function(b){return void 0===b};h.isRegExp=function(b){return"[object RegExp]"===Object.prototype.toString.call(b)};h.isObject=function(b){return"object"===typeof b&&null!==b};h.isDate=function(b){return"[object Date]"===Object.prototype.toString.call(b)};h.isError=function(b){return"[object Error]"===Object.prototype.toString.call(b)||b instanceof Error};h.isFunction=function(b){return"function"===typeof b};h.isPrimitive=function(b){return null===
b||"boolean"===typeof b||"number"===typeof b||"string"===typeof b||"symbol"===typeof b||"undefined"===typeof b};h.isBuffer=b.isBuffer}).call(this,{isBuffer:f("../../is-buffer/index.js")})},{"../../is-buffer/index.js":8}],5:[function(f,l,h){function b(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=v(null),this._eventsCount=0);this._maxListeners=this._maxListeners||void 0}function e(d,e,g,f){var q;if("function"!==typeof g)throw new TypeError('"listener" argument must be a function');
if(q=d._events){q.newListener&&(d.emit("newListener",e,g.listener?g.listener:g),q=d._events);var n=q[e]}else q=d._events=v(null),d._eventsCount=0;n?("function"===typeof n?n=q[e]=f?[g,n]:[n,g]:f?n.unshift(g):n.push(g),n.warned||(g=void 0===d._maxListeners?b.defaultMaxListeners:d._maxListeners)&&0<g&&n.length>g&&(n.warned=!0,g=Error("Possible EventEmitter memory leak detected. "+n.length+' "'+String(e)+'" listeners added. Use emitter.setMaxListeners() to increase limit.'),g.name="MaxListenersExceededWarning",
g.emitter=d,g.type=e,g.count=n.length,"object"===typeof console&&console.warn&&console.warn("%s: %s",g.name,g.message))):(q[e]=g,++d._eventsCount);return d}function r(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],
arguments[1],arguments[2]);default:for(var b=Array(arguments.length),d=0;d<b.length;++d)b[d]=arguments[d];this.listener.apply(this.target,b)}}function u(b,d,g){b={fired:!1,wrapFn:void 0,target:b,type:d,listener:g};d=E.call(r,b);d.listener=g;return b.wrapFn=d}function F(b,e,g){b=b._events;if(!b)return[];e=b[e];if(!e)return[];if("function"===typeof e)return g?[e.listener||e]:[e];if(g)for(g=Array(e.length),b=0;b<g.length;++b)g[b]=e[b].listener||e[b];else g=d(e,e.length);return g}function D(b){var d=
this._events;if(d){b=d[b];if("function"===typeof b)return 1;if(b)return b.length}return 0}function d(b,d){for(var g=Array(d),e=0;e<d;++e)g[e]=b[e];return g}function t(b){var d=function(){};d.prototype=b;return new d}function w(b){var d=[],g;for(g in b)Object.prototype.hasOwnProperty.call(b,g)&&d.push(g);return g}function y(b){var d=this;return function(){return d.apply(b,arguments)}}var v=Object.create||t,x=Object.keys||w,E=Function.prototype.bind||y;l.exports=b;b.EventEmitter=b;b.prototype._events=
void 0;b.prototype._maxListeners=void 0;var I=10;try{f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0});var z=0===f.x}catch(A){z=!1}z?Object.defineProperty(b,"defaultMaxListeners",{enumerable:!0,get:function(){return I},set:function(b){if("number"!==typeof b||0>b||b!==b)throw new TypeError('"defaultMaxListeners" must be a positive number');I=b}}):b.defaultMaxListeners=I;b.prototype.setMaxListeners=function(b){if("number"!==typeof b||0>b||isNaN(b))throw new TypeError('"n" argument must be a positive number');
this._maxListeners=b;return this};b.prototype.getMaxListeners=function(){return void 0===this._maxListeners?b.defaultMaxListeners:this._maxListeners};b.prototype.emit=function(b){var e,g,f;var q="error"===b;if(f=this._events)q=q&&null==f.error;else if(!q)return!1;if(q){1<arguments.length&&(e=arguments[1]);if(e instanceof Error)throw e;f=Error('Unhandled "error" event. ('+e+")");f.context=e;throw f;}e=f[b];if(!e)return!1;f="function"===typeof e;var n=arguments.length;switch(n){case 1:if(f)e.call(this);
else for(f=e.length,e=d(e,f),q=0;q<f;++q)e[q].call(this);break;case 2:q=arguments[1];if(f)e.call(this,q);else for(f=e.length,e=d(e,f),n=0;n<f;++n)e[n].call(this,q);break;case 3:q=arguments[1];n=arguments[2];if(f)e.call(this,q,n);else for(f=e.length,e=d(e,f),g=0;g<f;++g)e[g].call(this,q,n);break;case 4:q=arguments[1];n=arguments[2];g=arguments[3];if(f)e.call(this,q,n,g);else{f=e.length;e=d(e,f);for(var G=0;G<f;++G)e[G].call(this,q,n,g)}break;default:q=Array(n-1);for(g=1;g<n;g++)q[g-1]=arguments[g];
if(f)e.apply(this,q);else for(f=e.length,e=d(e,f),n=0;n<f;++n)e[n].apply(this,q)}return!0};b.prototype.addListener=function(b,d){return e(this,b,d,!1)};b.prototype.on=b.prototype.addListener;b.prototype.prependListener=function(b,d){return e(this,b,d,!0)};b.prototype.once=function(b,d){if("function"!==typeof d)throw new TypeError('"listener" argument must be a function');this.on(b,u(this,b,d));return this};b.prototype.prependOnceListener=function(b,d){if("function"!==typeof d)throw new TypeError('"listener" argument must be a function');
this.prependListener(b,u(this,b,d));return this};b.prototype.removeListener=function(b,d){var g;if("function"!==typeof d)throw new TypeError('"listener" argument must be a function');var e=this._events;if(!e)return this;var f=e[b];if(!f)return this;if(f===d||f.listener===d)0===--this._eventsCount?this._events=v(null):(delete e[b],e.removeListener&&this.emit("removeListener",b,f.listener||d));else if("function"!==typeof f){var n=-1;for(g=f.length-1;0<=g;g--)if(f[g]===d||f[g].listener===d){var G=f[g].listener;
n=g;break}if(0>n)return this;if(0===n)f.shift();else{g=n+1;for(var r=f.length;g<r;n+=1,g+=1)f[n]=f[g];f.pop()}1===f.length&&(e[b]=f[0]);e.removeListener&&this.emit("removeListener",b,G||d)}return this};b.prototype.removeAllListeners=function(b){var d=this._events;if(!d)return this;if(!d.removeListener)return 0===arguments.length?(this._events=v(null),this._eventsCount=0):d[b]&&(0===--this._eventsCount?this._events=v(null):delete d[b]),this;if(0===arguments.length){var g=x(d);for(d=0;d<g.length;++d){var e=
g[d];"removeListener"!==e&&this.removeAllListeners(e)}this.removeAllListeners("removeListener");this._events=v(null);this._eventsCount=0;return this}g=d[b];if("function"===typeof g)this.removeListener(b,g);else if(g)for(d=g.length-1;0<=d;d--)this.removeListener(b,g[d]);return this};b.prototype.listeners=function(b){return F(this,b,!0)};b.prototype.rawListeners=function(b){return F(this,b,!1)};b.listenerCount=function(b,d){return"function"===typeof b.listenerCount?b.listenerCount(d):D.call(b,d)};b.prototype.listenerCount=
D;b.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],6:[function(f,l,h){h.read=function(b,e,f,u,h){var r=8*h-u-1;var d=(1<<r)-1,t=d>>1,w=-7;h=f?h-1:0;var y=f?-1:1,F=b[e+h];h+=y;f=F&(1<<-w)-1;F>>=-w;for(w+=r;0<w;f=256*f+b[e+h],h+=y,w-=8);r=f&(1<<-w)-1;f>>=-w;for(w+=u;0<w;r=256*r+b[e+h],h+=y,w-=8);if(0===f)f=1-t;else{if(f===d)return r?NaN:Infinity*(F?-1:1);r+=Math.pow(2,u);f-=t}return(F?-1:1)*r*Math.pow(2,f-u)};h.write=function(b,e,f,u,h,D){var d,r=8*
D-h-1,w=(1<<r)-1,y=w>>1,F=23===h?Math.pow(2,-24)-Math.pow(2,-77):0;D=u?0:D-1;var x=u?1:-1,l=0>e||0===e&&0>1/e?1:0;e=Math.abs(e);isNaN(e)||Infinity===e?(e=isNaN(e)?1:0,u=w):(u=Math.floor(Math.log(e)/Math.LN2),1>e*(d=Math.pow(2,-u))&&(u--,d*=2),e=1<=u+y?e+F/d:e+F*Math.pow(2,1-y),2<=e*d&&(u++,d/=2),u+y>=w?(e=0,u=w):1<=u+y?(e=(e*d-1)*Math.pow(2,h),u+=y):(e=e*Math.pow(2,y-1)*Math.pow(2,h),u=0));for(;8<=h;b[f+D]=e&255,D+=x,e/=256,h-=8);u=u<<h|e;for(r+=h;0<r;b[f+D]=u&255,D+=x,u/=256,r-=8);b[f+D-x]|=128*
l}},{}],7:[function(f,l,h){l.exports="function"===typeof Object.create?function(b,e){e&&(b.super_=e,b.prototype=Object.create(e.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}))}:function(b,e){if(e){b.super_=e;var f=function(){};f.prototype=e.prototype;b.prototype=new f;b.prototype.constructor=b}}},{}],8:[function(f,l,h){function b(b){return!!b.constructor&&"function"===typeof b.constructor.isBuffer&&b.constructor.isBuffer(b)}l.exports=function(e){return null!=e&&(b(e)||
"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&b(e.slice(0,0))||!!e._isBuffer)}},{}],9:[function(f,l,h){var b={}.toString;l.exports=Array.isArray||function(e){return"[object Array]"==b.call(e)}},{}],10:[function(f,l,h){(function(b){function e(e,f,h,D){if("function"!==typeof e)throw new TypeError('"callback" argument must be a function');var d=arguments.length;switch(d){case 0:case 1:return b.nextTick(e);case 2:return b.nextTick(function(){e.call(null,f)});case 3:return b.nextTick(function(){e.call(null,
f,h)});case 4:return b.nextTick(function(){e.call(null,f,h,D)});default:var r=Array(d-1);for(d=0;d<r.length;)r[d++]=arguments[d];return b.nextTick(function(){e.apply(null,r)})}}"undefined"===typeof b||!b.version||0===b.version.indexOf("v0.")||0===b.version.indexOf("v1.")&&0!==b.version.indexOf("v1.8.")?l.exports={nextTick:e}:l.exports=b}).call(this,f("_process"))},{_process:11}],11:[function(f,l,h){function b(){throw Error("setTimeout has not been defined");}function e(){throw Error("clearTimeout has not been defined");
}function r(d){if(w===setTimeout)return setTimeout(d,0);if((w===b||!w)&&setTimeout)return w=setTimeout,setTimeout(d,0);try{return w(d,0)}catch(A){try{return w.call(null,d,0)}catch(M){return w.call(this,d,0)}}}function u(b){if(y===clearTimeout)return clearTimeout(b);if((y===e||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(b);try{return y(b)}catch(A){try{return y.call(null,b)}catch(M){return y.call(this,b)}}}function F(){x&&E&&(x=!1,E.length?v=E.concat(v):I=-1,v.length&&D())}function D(){if(!x){var b=
r(F);x=!0;for(var d=v.length;d;){E=v;for(v=[];++I<d;)E&&E[I].run();I=-1;d=v.length}E=null;x=!1;u(b)}}function d(b,d){this.fun=b;this.array=d}function t(){}f=l.exports={};try{var w="function"===typeof setTimeout?setTimeout:b}catch(z){w=b}try{var y="function"===typeof clearTimeout?clearTimeout:e}catch(z){y=e}var v=[],x=!1,E,I=-1;f.nextTick=function(b){var e=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)e[f-1]=arguments[f];v.push(new d(b,e));1!==v.length||x||r(D)};
d.prototype.run=function(){this.fun.apply(null,this.array)};f.title="browser";f.browser=!0;f.env={};f.argv=[];f.version="";f.versions={};f.on=t;f.addListener=t;f.once=t;f.off=t;f.removeListener=t;f.removeAllListeners=t;f.emit=t;f.prependListener=t;f.prependOnceListener=t;f.listeners=function(b){return[]};f.binding=function(b){throw Error("process.binding is not supported");};f.cwd=function(){return"/"};f.chdir=function(b){throw Error("process.chdir is not supported");};f.umask=function(){return 0}},
{}],12:[function(f,l,h){l.exports=f("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":13}],13:[function(f,l,h){function b(d){if(!(this instanceof b))return new b(d);F.call(this,d);D.call(this,d);d&&!1===d.readable&&(this.readable=!1);d&&!1===d.writable&&(this.writable=!1);this.allowHalfOpen=!0;d&&!1===d.allowHalfOpen&&(this.allowHalfOpen=!1);this.once("end",e)}function e(){this.allowHalfOpen||this._writableState.ended||u.nextTick(r,this)}function r(b){b.end()}var u=f("process-nextick-args");
h=Object.keys||function(b){var d=[],e;for(e in b)d.push(e);return d};l.exports=b;l=Object.create(f("core-util-is"));l.inherits=f("inherits");var F=f("./_stream_readable"),D=f("./_stream_writable");l.inherits(b,F);f=h(D.prototype);for(l=0;l<f.length;l++)h=f[l],b.prototype[h]||(b.prototype[h]=D.prototype[h]);Object.defineProperty(b.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0===
this._readableState||void 0===this._writableState?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}});b.prototype._destroy=function(b,e){this.push(null);this.end();u.nextTick(e,b)}},{"./_stream_readable":15,"./_stream_writable":17,"core-util-is":4,inherits:7,"process-nextick-args":10}],14:[function(f,l,h){function b(f){if(!(this instanceof b))return new b(f);
e.call(this,f)}l.exports=b;var e=f("./_stream_transform");l=Object.create(f("core-util-is"));l.inherits=f("inherits");l.inherits(b,e);b.prototype._transform=function(b,e,f){f(null,b)}},{"./_stream_transform":16,"core-util-is":4,inherits:7}],15:[function(f,l,h){(function(b,e){function r(b,d,g){if("function"===typeof b.prependListener)return b.prependListener(d,g);if(b._events&&b._events[d])n(b._events[d])?b._events[d].unshift(g):b._events[d]=[g,b._events[d]];else b.on(d,g)}function u(b,d){G=G||f("./_stream_duplex");
b=b||{};d=d instanceof G;this.objectMode=!!b.objectMode;d&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var k=b.highWaterMark,g=b.readableHighWaterMark,m=this.objectMode?16:16384;this.highWaterMark=k||0===k?k:d&&(g||0===g)?g:m;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new P;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.reading=this.endEmitted=this.ended=!1;this.sync=!0;this.destroyed=this.resumeScheduled=this.readableListening=this.emittedReadable=
this.needReadable=!1;this.defaultEncoding=b.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=!1;this.encoding=this.decoder=null;b.encoding&&(p||(p=f("string_decoder/").StringDecoder),this.decoder=new p(b.encoding),this.encoding=b.encoding)}function h(b){G=G||f("./_stream_duplex");if(!(this instanceof h))return new h(b);this._readableState=new u(b,this);this.readable=!0;b&&("function"===typeof b.read&&(this._read=b.read),"function"===typeof b.destroy&&(this._destroy=b.destroy));O.call(this)}
function D(b,k,g,e,f){var m=b._readableState;if(null===k)m.reading=!1,m.ended||(m.decoder&&(k=m.decoder.end())&&k.length&&(m.buffer.push(k),m.length+=m.objectMode?1:k.length),m.ended=!0,w(b));else{if(!f){f=k;var n;L.isBuffer(f)||f instanceof J||"string"===typeof f||void 0===f||m.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var Q=n}Q?b.emit("error",Q):m.objectMode||k&&0<k.length?("string"===typeof k||m.objectMode||Object.getPrototypeOf(k)===L.prototype||(k=L.from(k)),e?m.endEmitted?
b.emit("error",Error("stream.unshift() after end event")):d(b,m,k,!0):m.ended?b.emit("error",Error("stream.push() after EOF")):(m.reading=!1,m.decoder&&!g?(k=m.decoder.write(k),m.objectMode||0!==k.length?d(b,m,k,!1):m.readingMore||(m.readingMore=!0,q.nextTick(v,b,m))):d(b,m,k,!1))):e||(m.reading=!1)}return!m.ended&&(m.needReadable||m.length<m.highWaterMark||0===m.length)}function d(b,d,g,e){d.flowing&&0===d.length&&!d.sync?(b.emit("data",g),b.read(0)):(d.length+=d.objectMode?1:g.length,e?d.buffer.unshift(g):
d.buffer.push(g),d.needReadable&&w(b));d.readingMore||(d.readingMore=!0,q.nextTick(v,b,d))}function t(b,d){if(0>=b||0===d.length&&d.ended)return 0;if(d.objectMode)return 1;if(b!==b)return d.flowing&&d.length?d.buffer.head.data.length:d.length;if(b>d.highWaterMark){var k=b;8388608<=k?k=8388608:(k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++);d.highWaterMark=k}return b<=d.length?b:d.ended?d.length:(d.needReadable=!0,0)}function w(b){var d=b._readableState;d.needReadable=!1;d.emittedReadable||
(H("emitReadable",d.flowing),d.emittedReadable=!0,d.sync?q.nextTick(y,b):y(b))}function y(b){H("emit readable");b.emit("readable");z(b)}function v(b,d){for(var k=d.length;!d.reading&&!d.flowing&&!d.ended&&d.length<d.highWaterMark&&(H("maybeReadMore read 0"),b.read(0),k!==d.length);)k=d.length;d.readingMore=!1}function x(b){return function(){var d=b._readableState;H("pipeOnDrain",d.awaitDrain);d.awaitDrain&&d.awaitDrain--;0===d.awaitDrain&&b.listeners("data").length&&(d.flowing=!0,z(b))}}function E(b){H("readable nexttick read 0");
b.read(0)}function I(b,d){d.reading||(H("resume read 0"),b.read(0));d.resumeScheduled=!1;d.awaitDrain=0;b.emit("resume");z(b);d.flowing&&!d.reading&&b.read(0)}function z(b){var d=b._readableState;for(H("flow",d.flowing);d.flowing&&null!==b.read(););}function A(b,d){if(0===d.length)return null;if(d.objectMode)var g=d.buffer.shift();else if(!b||b>=d.length)g=d.decoder?d.buffer.join(""):1===d.buffer.length?d.buffer.head.data:d.buffer.concat(d.length),d.buffer.clear();else{g=d.buffer;d=d.decoder;if(b<
g.head.data.length)d=g.head.data.slice(0,b),g.head.data=g.head.data.slice(b);else{if(b===g.head.data.length)g=g.shift();else if(d){d=g.head;var k=1,e=d.data;for(b-=e.length;d=d.next;){var m=d.data,f=b>m.length?m.length:b;e=f===m.length?e+m:e+m.slice(0,b);b-=f;if(0===b){f===m.length?(++k,g.head=d.next?d.next:g.tail=null):(g.head=d,d.data=m.slice(f));break}++k}g.length-=k;g=e}else{d=L.allocUnsafe(b);k=g.head;e=1;k.data.copy(d);for(b-=k.data.length;k=k.next;){m=k.data;f=b>m.length?m.length:b;m.copy(d,
d.length-b,0,f);b-=f;if(0===b){f===m.length?(++e,g.head=k.next?k.next:g.tail=null):(g.head=k,k.data=m.slice(f));break}++e}g.length-=e;g=d}d=g}g=d}return g}function M(b){var d=b._readableState;if(0<d.length)throw Error('"endReadable()" called on non-empty stream');d.endEmitted||(d.ended=!0,q.nextTick(g,d,b))}function g(b,d){b.endEmitted||0!==b.length||(b.endEmitted=!0,d.readable=!1,d.emit("end"))}function B(b,d){for(var g=0,k=b.length;g<k;g++)if(b[g]===d)return g;return-1}var q=f("process-nextick-args");
l.exports=h;var n=f("isarray"),G;h.ReadableState=u;f("events");var O=f("./internal/streams/stream"),L=f("safe-buffer").Buffer,J=e.Uint8Array||function(){};e=Object.create(f("core-util-is"));e.inherits=f("inherits");var K=f("util"),H=void 0;H=K&&K.debuglog?K.debuglog("stream"):function(){};var P=f("./internal/streams/BufferList");K=f("./internal/streams/destroy");var p;e.inherits(h,O);var C=["error","close","destroy","pause","resume"];Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0===
this._readableState?!1:this._readableState.destroyed},set:function(b){this._readableState&&(this._readableState.destroyed=b)}});h.prototype.destroy=K.destroy;h.prototype._undestroy=K.undestroy;h.prototype._destroy=function(b,d){this.push(null);d(b)};h.prototype.push=function(b,d){var g=this._readableState;if(g.objectMode)var k=!0;else"string"===typeof b&&(d=d||g.defaultEncoding,d!==g.encoding&&(b=L.from(b,d),d=""),k=!0);return D(this,b,d,!1,k)};h.prototype.unshift=function(b){return D(this,b,null,
!0,!1)};h.prototype.isPaused=function(){return!1===this._readableState.flowing};h.prototype.setEncoding=function(b){p||(p=f("string_decoder/").StringDecoder);this._readableState.decoder=new p(b);this._readableState.encoding=b;return this};h.prototype.read=function(b){H("read",b);b=parseInt(b,10);var d=this._readableState,g=b;0!==b&&(d.emittedReadable=!1);if(0===b&&d.needReadable&&(d.length>=d.highWaterMark||d.ended))return H("read: emitReadable",d.length,d.ended),0===d.length&&d.ended?M(this):w(this),
null;b=t(b,d);if(0===b&&d.ended)return 0===d.length&&M(this),null;var e=d.needReadable;H("need readable",e);if(0===d.length||d.length-b<d.highWaterMark)e=!0,H("length less than watermark",e);d.ended||d.reading?H("reading or ended",!1):e&&(H("do read"),d.reading=!0,d.sync=!0,0===d.length&&(d.needReadable=!0),this._read(d.highWaterMark),d.sync=!1,d.reading||(b=t(g,d)));e=0<b?A(b,d):null;null===e?(d.needReadable=!0,b=0):d.length-=b;0===d.length&&(d.ended||(d.needReadable=!0),g!==b&&d.ended&&M(this));
null!==e&&this.emit("data",e);return e};h.prototype._read=function(b){this.emit("error",Error("_read() is not implemented"))};h.prototype.pipe=function(d,g){function e(b,g){H("onunpipe");b===t&&g&&!1===g.hasUnpiped&&(g.hasUnpiped=!0,H("cleanup"),d.removeListener("close",n),d.removeListener("finish",G),d.removeListener("drain",y),d.removeListener("error",m),d.removeListener("unpipe",e),t.removeListener("end",k),t.removeListener("end",p),t.removeListener("data",f),u=!0,!h.awaitDrain||d._writableState&&
!d._writableState.needDrain||y())}function k(){H("onend");d.end()}function f(b){H("ondata");W=!1;!1!==d.write(b)||W||((1===h.pipesCount&&h.pipes===d||1<h.pipesCount&&-1!==B(h.pipes,d))&&!u&&(H("false write response, pause",t._readableState.awaitDrain),t._readableState.awaitDrain++,W=!0),t.pause())}function m(b){H("onerror",b);p();d.removeListener("error",m);0===d.listeners("error").length&&d.emit("error",b)}function n(){d.removeListener("finish",G);p()}function G(){H("onfinish");d.removeListener("close",
n);p()}function p(){H("unpipe");t.unpipe(d)}var t=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=d;break;case 1:h.pipes=[h.pipes,d];break;default:h.pipes.push(d)}h.pipesCount+=1;H("pipe count=%d opts=%j",h.pipesCount,g);g=g&&!1===g.end||d===b.stdout||d===b.stderr?p:k;if(h.endEmitted)q.nextTick(g);else t.once("end",g);d.on("unpipe",e);var y=x(t);d.on("drain",y);var u=!1,W=!1;t.on("data",f);r(d,"error",m);d.once("close",n);d.once("finish",G);d.emit("pipe",t);h.flowing||(H("pipe resume"),
t.resume());return d};h.prototype.unpipe=function(b){var d=this._readableState,g={hasUnpiped:!1};if(0===d.pipesCount)return this;if(1===d.pipesCount){if(b&&b!==d.pipes)return this;b||(b=d.pipes);d.pipes=null;d.pipesCount=0;d.flowing=!1;b&&b.emit("unpipe",this,g);return this}if(!b){b=d.pipes;var e=d.pipesCount;d.pipes=null;d.pipesCount=0;d.flowing=!1;for(d=0;d<e;d++)b[d].emit("unpipe",this,g);return this}e=B(d.pipes,b);if(-1===e)return this;d.pipes.splice(e,1);--d.pipesCount;1===d.pipesCount&&(d.pipes=
d.pipes[0]);b.emit("unpipe",this,g);return this};h.prototype.on=function(b,d){d=O.prototype.on.call(this,b,d);"data"===b?!1!==this._readableState.flowing&&this.resume():"readable"===b&&(b=this._readableState,b.endEmitted||b.readableListening||(b.readableListening=b.needReadable=!0,b.emittedReadable=!1,b.reading?b.length&&w(this):q.nextTick(E,this)));return d};h.prototype.addListener=h.prototype.on;h.prototype.resume=function(){var b=this._readableState;b.flowing||(H("resume"),b.flowing=!0,b.resumeScheduled||
(b.resumeScheduled=!0,q.nextTick(I,this,b)));return this};h.prototype.pause=function(){H("call pause flowing=%j",this._readableState.flowing);!1!==this._readableState.flowing&&(H("pause"),this._readableState.flowing=!1,this.emit("pause"));return this};h.prototype.wrap=function(b){var d=this,g=this._readableState,e=!1;b.on("end",function(){H("wrapped end");if(g.decoder&&!g.ended){var b=g.decoder.end();b&&b.length&&d.push(b)}d.push(null)});b.on("data",function(f){H("wrapped data");g.decoder&&(f=g.decoder.write(f));
g.objectMode&&(null===f||void 0===f)||!(g.objectMode||f&&f.length)||d.push(f)||(e=!0,b.pause())});for(var f in b)void 0===this[f]&&"function"===typeof b[f]&&(this[f]=function(d){return function(){return b[d].apply(b,arguments)}}(f));for(f=0;f<C.length;f++)b.on(C[f],this.emit.bind(this,C[f]));this._read=function(d){H("wrapped _read",d);e&&(e=!1,b.resume())};return this};Object.defineProperty(h.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});
h._fromList=A}).call(this,f("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./_stream_duplex":13,"./internal/streams/BufferList":18,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,events:5,inherits:7,isarray:9,"process-nextick-args":10,"safe-buffer":21,"string_decoder/":22,util:2}],16:[function(f,l,h){function b(b,d){var e=this._transformState;e.transforming=!1;var f=e.writecb;if(!f)return this.emit("error",
Error("write callback called multiple times"));e.writechunk=null;e.writecb=null;null!=d&&this.push(d);f(b);b=this._readableState;b.reading=!1;(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function e(f){if(!(this instanceof e))return new e(f);F.call(this,f);this._transformState={afterTransform:b.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=!0;this._readableState.sync=!1;f&&("function"===typeof f.transform&&
(this._transform=f.transform),"function"===typeof f.flush&&(this._flush=f.flush));this.on("prefinish",r)}function r(){var b=this;"function"===typeof this._flush?this._flush(function(d,e){u(b,d,e)}):u(this,null,null)}function u(b,d,e){if(d)return b.emit("error",d);null!=e&&b.push(e);if(b._writableState.length)throw Error("Calling transform done when ws.length != 0");if(b._transformState.transforming)throw Error("Calling transform done when still transforming");return b.push(null)}l.exports=e;var F=
f("./_stream_duplex");l=Object.create(f("core-util-is"));l.inherits=f("inherits");l.inherits(e,F);e.prototype.push=function(b,d){this._transformState.needTransform=!1;return F.prototype.push.call(this,b,d)};e.prototype._transform=function(b,d,e){throw Error("_transform() is not implemented");};e.prototype._write=function(b,d,e){var f=this._transformState;f.writecb=e;f.writechunk=b;f.writeencoding=d;f.transforming||(b=this._readableState,(f.needTransform||b.needReadable||b.length<b.highWaterMark)&&
this._read(b.highWaterMark))};e.prototype._read=function(b){b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0};e.prototype._destroy=function(b,d){var e=this;F.prototype._destroy.call(this,b,function(b){d(b);e.emit("close")})}},{"./_stream_duplex":13,"core-util-is":4,inherits:7}],17:[function(f,l,h){(function(b,e,r){function h(b){var d=this;this.entry=this.next=null;this.finish=
function(){var g=d.entry;for(d.entry=null;g;){var e=g.callback;b.pendingcb--;e(void 0);g=g.next}b.corkedRequestsFree?b.corkedRequestsFree.next=d:b.corkedRequestsFree=d}}function F(){}function D(b,d){A=A||f("./_stream_duplex");b=b||{};var g=d instanceof A;this.objectMode=!!b.objectMode;g&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var e=b.highWaterMark,q=b.writableHighWaterMark,n=this.objectMode?16:16384;this.highWaterMark=e||0===e?e:g&&(q||0===q)?q:n;this.highWaterMark=Math.floor(this.highWaterMark);
this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=!1;this.decodeStrings=!1!==b.decodeStrings;this.defaultEncoding=b.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(b){var g=d._writableState,e=g.sync,f=g.writecb;g.writing=!1;g.writecb=null;g.length-=g.writelen;g.writelen=0;b?(--g.pendingcb,e?(I.nextTick(f,b),I.nextTick(E,d,g),d._writableState.errorEmitted=!0,d.emit("error",b)):(f(b),d._writableState.errorEmitted=
!0,d.emit("error",b),E(d,g))):((b=v(g))||g.corked||g.bufferProcessing||!g.bufferedRequest||y(d,g),e?z(w,d,g,b,f):w(d,g,b,f))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new h(this)}function d(b){A=A||f("./_stream_duplex");if(!(n.call(d,this)||this instanceof A))return new d(b);this._writableState=new D(b,this);this.writable=!0;b&&("function"===typeof b.write&&
(this._write=b.write),"function"===typeof b.writev&&(this._writev=b.writev),"function"===typeof b.destroy&&(this._destroy=b.destroy),"function"===typeof b.final&&(this._final=b.final));g.call(this)}function t(b,d,g,e,f,q,n){d.writelen=e;d.writecb=n;d.writing=!0;d.sync=!0;g?b._writev(f,d.onwrite):b._write(f,q,d.onwrite);d.sync=!1}function w(b,d,g,e){!g&&0===d.length&&d.needDrain&&(d.needDrain=!1,b.emit("drain"));d.pendingcb--;e();E(b,d)}function y(b,d){d.bufferProcessing=!0;var g=d.bufferedRequest;
if(b._writev&&g&&g.next){var e=Array(d.bufferedRequestCount),f=d.corkedRequestsFree;f.entry=g;for(var q=0,n=!0;g;)e[q]=g,g.isBuf||(n=!1),g=g.next,q+=1;e.allBuffers=n;t(b,d,!0,d.length,e,"",f.finish);d.pendingcb++;d.lastBufferedRequest=null;f.next?(d.corkedRequestsFree=f.next,f.next=null):d.corkedRequestsFree=new h(d);d.bufferedRequestCount=0}else{for(;g&&(e=g.chunk,t(b,d,!1,d.objectMode?1:e.length,e,g.encoding,g.callback),g=g.next,d.bufferedRequestCount--,!d.writing););null===g&&(d.lastBufferedRequest=
null)}d.bufferedRequest=g;d.bufferProcessing=!1}function v(b){return b.ending&&0===b.length&&null===b.bufferedRequest&&!b.finished&&!b.writing}function x(b,d){b._final(function(g){d.pendingcb--;g&&b.emit("error",g);d.prefinished=!0;b.emit("prefinish");E(b,d)})}function E(b,d){var g=v(d);g&&(d.prefinished||d.finalCalled||("function"===typeof b._final?(d.pendingcb++,d.finalCalled=!0,I.nextTick(x,b,d)):(d.prefinished=!0,b.emit("prefinish"))),0===d.pendingcb&&(d.finished=!0,b.emit("finish")));return g}
var I=f("process-nextick-args");l.exports=d;var z=!b.browser&&-1<["v0.10","v0.9."].indexOf(b.version.slice(0,5))?r:I.nextTick,A;d.WritableState=D;b=Object.create(f("core-util-is"));b.inherits=f("inherits");var M={deprecate:f("util-deprecate")},g=f("./internal/streams/stream"),B=f("safe-buffer").Buffer,q=e.Uint8Array||function(){};e=f("./internal/streams/destroy");b.inherits(d,g);D.prototype.getBuffer=function(){for(var b=this.bufferedRequest,d=[];b;)d.push(b),b=b.next;return d};(function(){try{Object.defineProperty(D.prototype,
"buffer",{get:M.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(G){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var n=Function.prototype[Symbol.hasInstance];Object.defineProperty(d,Symbol.hasInstance,{value:function(b){return n.call(this,b)?!0:this!==d?!1:b&&b._writableState instanceof D}})}else n=function(b){return b instanceof this};
d.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};d.prototype.write=function(b,d,g){var e=this._writableState,f=!1,n;if(n=!e.objectMode)n=b,n=B.isBuffer(n)||n instanceof q;n&&!B.isBuffer(b)&&(b=B.from(b));"function"===typeof d&&(g=d,d=null);n?d="buffer":d||(d=e.defaultEncoding);"function"!==typeof g&&(g=F);if(e.ended)e=g,g=Error("write after end"),this.emit("error",g),I.nextTick(e,g);else{var r;if(!(r=n)){r=b;var p=g,h=!0,m=!1;null===r?m=new TypeError("May not write null values to stream"):
"string"===typeof r||void 0===r||e.objectMode||(m=new TypeError("Invalid non-string/buffer chunk"));m&&(this.emit("error",m),I.nextTick(p,m),h=!1);r=h}r&&(e.pendingcb++,f=n,f||(n=b,e.objectMode||!1===e.decodeStrings||"string"!==typeof n||(n=B.from(n,d)),b!==n&&(f=!0,d="buffer",b=n)),r=e.objectMode?1:b.length,e.length+=r,n=e.length<e.highWaterMark,n||(e.needDrain=!0),e.writing||e.corked?(r=e.lastBufferedRequest,e.lastBufferedRequest={chunk:b,encoding:d,isBuf:f,callback:g,next:null},r?r.next=e.lastBufferedRequest:
e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):t(this,e,!1,r,b,d,g),f=n)}return f};d.prototype.cork=function(){this._writableState.corked++};d.prototype.uncork=function(){var b=this._writableState;b.corked&&(b.corked--,b.writing||b.corked||b.finished||b.bufferProcessing||!b.bufferedRequest||y(this,b))};d.prototype.setDefaultEncoding=function(b){"string"===typeof b&&(b=b.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((b+
"").toLowerCase())))throw new TypeError("Unknown encoding: "+b);this._writableState.defaultEncoding=b;return this};Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});d.prototype._write=function(b,d,g){g(Error("_write() is not implemented"))};d.prototype._writev=null;d.prototype.end=function(b,d,g){var e=this._writableState;"function"===typeof b?(g=b,d=b=null):"function"===typeof d&&(g=d,d=null);null!==b&&void 0!==b&&
this.write(b,d);e.corked&&(e.corked=1,this.uncork());if(!e.ending&&!e.finished){b=g;e.ending=!0;E(this,e);if(b)if(e.finished)I.nextTick(b);else this.once("finish",b);e.ended=!0;this.writable=!1}};Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(b){this._writableState&&(this._writableState.destroyed=b)}});d.prototype.destroy=e.destroy;d.prototype._undestroy=e.undestroy;d.prototype._destroy=function(b,d){this.end();
d(b)}}).call(this,f("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},f("timers").setImmediate)},{"./_stream_duplex":13,"./internal/streams/destroy":19,"./internal/streams/stream":20,_process:11,"core-util-is":4,inherits:7,"process-nextick-args":10,"safe-buffer":21,timers:31,"util-deprecate":32}],18:[function(f,l,h){var b=f("safe-buffer").Buffer,e=f("util");l.exports=function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");
this.tail=this.head=null;this.length=0}e.prototype.push=function(b){b={data:b,next:null};0<this.length?this.tail.next=b:this.head=b;this.tail=b;++this.length};e.prototype.unshift=function(b){b={data:b,next:this.head};0===this.length&&(this.tail=b);this.head=b;++this.length};e.prototype.shift=function(){if(0!==this.length){var b=this.head.data;this.head=1===this.length?this.tail=null:this.head.next;--this.length;return b}};e.prototype.clear=function(){this.head=this.tail=null;this.length=0};e.prototype.join=
function(b){if(0===this.length)return"";for(var e=this.head,f=""+e.data;e=e.next;)f+=b+e.data;return f};e.prototype.concat=function(e){if(0===this.length)return b.alloc(0);if(1===this.length)return this.head.data;e=b.allocUnsafe(e>>>0);for(var f=this.head,r=0;f;)f.data.copy(e,r),r+=f.data.length,f=f.next;return e};return e}();e&&e.inspect&&e.inspect.custom&&(l.exports.prototype[e.inspect.custom]=function(){var b=e.inspect({length:this.length});return this.constructor.name+" "+b})},{"safe-buffer":21,
util:2}],19:[function(f,l,h){function b(b,e){b.emit("error",e)}var e=f("process-nextick-args");l.exports={destroy:function(f,h){var r=this,u=this._writableState&&this._writableState.destroyed;if(this._readableState&&this._readableState.destroyed||u)return h?h(f):!f||this._writableState&&this._writableState.errorEmitted||e.nextTick(b,this,f),this;this._readableState&&(this._readableState.destroyed=!0);this._writableState&&(this._writableState.destroyed=!0);this._destroy(f||null,function(d){!h&&d?(e.nextTick(b,
r,d),r._writableState&&(r._writableState.errorEmitted=!0)):h&&h(d)});return this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1);this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":10}],20:[function(f,l,h){l.exports=f("events").EventEmitter},
{events:5}],21:[function(f,l,h){function b(b,e){for(var d in b)e[d]=b[d]}function e(b,e,d){return u(b,e,d)}var r=f("buffer"),u=r.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?l.exports=r:(b(r,h),h.Buffer=e);b(u,e);e.from=function(b,e,d){if("number"===typeof b)throw new TypeError("Argument must not be a number");return u(b,e,d)};e.alloc=function(b,e,d){if("number"!==typeof b)throw new TypeError("Argument must be a number");b=u(b);void 0!==e?"string"===typeof d?b.fill(e,d):b.fill(e):b.fill(0);
return b};e.allocUnsafe=function(b){if("number"!==typeof b)throw new TypeError("Argument must be a number");return u(b)};e.allocUnsafeSlow=function(b){if("number"!==typeof b)throw new TypeError("Argument must be a number");return r.SlowBuffer(b)}},{buffer:3}],22:[function(f,l,h){function b(b){if(!b)return"utf8";for(var d;;)switch(b){case "utf8":case "utf-8":return"utf8";case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return"utf16le";case "latin1":case "binary":return"latin1";case "base64":case "ascii":case "hex":return b;
default:if(d)return;b=(""+b).toLowerCase();d=!0}}function e(e){var f=b(e);if("string"!==typeof f&&(x.isEncoding===E||!E(e)))throw Error("Unknown encoding: "+e);this.encoding=f||e;switch(this.encoding){case "utf16le":this.text=D;this.end=d;e=4;break;case "utf8":this.fillLast=F;e=4;break;case "base64":this.text=t;this.end=w;e=3;break;default:this.write=y;this.end=v;return}this.lastTotal=this.lastNeed=0;this.lastChar=x.allocUnsafe(e)}function r(b){return 127>=b?0:6===b>>5?2:14===b>>4?3:30===b>>3?4:2===
b>>6?-1:-2}function u(b,d,e){var f=d.length-1;if(f<e)return 0;var g=r(d[f]);if(0<=g)return 0<g&&(b.lastNeed=g-1),g;if(--f<e||-2===g)return 0;g=r(d[f]);if(0<=g)return 0<g&&(b.lastNeed=g-2),g;if(--f<e||-2===g)return 0;g=r(d[f]);return 0<=g?(0<g&&(2===g?g=0:b.lastNeed=g-3),g):0}function F(b){var d=this.lastTotal-this.lastNeed;a:if(128!==(b[0]&192)){this.lastNeed=0;var e="\ufffd"}else{if(1<this.lastNeed&&1<b.length){if(128!==(b[1]&192)){this.lastNeed=1;e="\ufffd";break a}if(2<this.lastNeed&&2<b.length&&
128!==(b[2]&192)){this.lastNeed=2;e="\ufffd";break a}}e=void 0}if(void 0!==e)return e;if(this.lastNeed<=b.length)return b.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,d,0,b.length);this.lastNeed-=b.length}function D(b,d){if(0===(b.length-d)%2){if(d=b.toString("utf16le",d)){var e=d.charCodeAt(d.length-1);if(55296<=e&&56319>=e)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],d.slice(0,
-1)}return d}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=b[b.length-1];return b.toString("utf16le",d,b.length-1)}function d(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):b}function t(b,d){var e=(b.length-d)%3;if(0===e)return b.toString("base64",d);this.lastNeed=3-e;this.lastTotal=3;1===e?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]);return b.toString("base64",d,b.length-
e)}function w(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+this.lastChar.toString("base64",0,3-this.lastNeed):b}function y(b){return b.toString(this.encoding)}function v(b){return b&&b.length?this.write(b):""}var x=f("safe-buffer").Buffer,E=x.isEncoding||function(b){b=""+b;switch(b&&b.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;default:return!1}};h.StringDecoder=
e;e.prototype.write=function(b){if(0===b.length)return"";if(this.lastNeed){var d=this.fillLast(b);if(void 0===d)return"";var e=this.lastNeed;this.lastNeed=0}else e=0;return e<b.length?d?d+this.text(b,e):this.text(b,e):d||""};e.prototype.end=function(b){b=b&&b.length?this.write(b):"";return this.lastNeed?b+"\ufffd":b};e.prototype.text=function(b,d){var e=u(this,b,d);if(!this.lastNeed)return b.toString("utf8",d);this.lastTotal=e;e=b.length-(e-this.lastNeed);b.copy(this.lastChar,0,e);return b.toString("utf8",
d,e)};e.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length);this.lastNeed-=b.length}},{"safe-buffer":21}],23:[function(f,l,h){l.exports=f("./readable").PassThrough},{"./readable":24}],24:[function(f,l,h){h=l.exports=f("./lib/_stream_readable.js");h.Stream=h;h.Readable=h;h.Writable=f("./lib/_stream_writable.js");
h.Duplex=f("./lib/_stream_duplex.js");h.Transform=f("./lib/_stream_transform.js");h.PassThrough=f("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":13,"./lib/_stream_passthrough.js":14,"./lib/_stream_readable.js":15,"./lib/_stream_transform.js":16,"./lib/_stream_writable.js":17}],25:[function(f,l,h){l.exports=f("./readable").Transform},{"./readable":24}],26:[function(f,l,h){l.exports=f("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":17}],27:[function(f,l,h){function b(b,e){for(var d in b)e[d]=
b[d]}function e(b,e,d){return u(b,e,d)}var r=f("buffer"),u=r.Buffer;u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?l.exports=r:(b(r,h),h.Buffer=e);e.prototype=Object.create(u.prototype);b(u,e);e.from=function(b,e,d){if("number"===typeof b)throw new TypeError("Argument must not be a number");return u(b,e,d)};e.alloc=function(b,e,d){if("number"!==typeof b)throw new TypeError("Argument must be a number");b=u(b);void 0!==e?"string"===typeof d?b.fill(e,d):b.fill(e):b.fill(0);return b};e.allocUnsafe=
function(b){if("number"!==typeof b)throw new TypeError("Argument must be a number");return u(b)};e.allocUnsafeSlow=function(b){if("number"!==typeof b)throw new TypeError("Argument must be a number");return r.SlowBuffer(b)}},{buffer:3}],28:[function(f,l,h){(function(b){(function(e){function r(b,d){if(!(this instanceof r))return new r(b,d);for(var g=0,f=q.length;g<f;g++)this[q[g]]="";this.q=this.c="";this.bufferCheckPosition=e.MAX_BUFFER_LENGTH;this.opt=d||{};this.opt.lowercase=this.opt.lowercase||
this.opt.lowercasetags;this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase";this.tags=[];this.closed=this.closedRoot=this.sawRoot=!1;this.tag=this.error=null;this.strict=!!b;this.noscript=!(!b&&!this.opt.noscript);this.state=k.BEGIN;this.ENTITIES=(this.strictEntities=this.opt.strictEntities)?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES);this.attribList=[];this.opt.xmlns&&(this.ns=Object.create(H));if(this.trackPosition=!1!==this.opt.position)this.position=this.line=this.column=
0;this.onready&&this.onready(void 0)}function h(b,d){if(!(this instanceof h))return new h(b,d);n.apply(this);this._parser=new r(b,d);this.readable=this.writable=!0;var g=this;this._parser.onend=function(){g.emit("end")};this._parser.onerror=function(b){g.emit("error",b);g._parser.error=null};this._decoder=null;G.forEach(function(b){Object.defineProperty(g,"on"+b,{get:function(){return g._parser["on"+b]},set:function(d){if(!d)return g.removeAllListeners(b),g._parser["on"+b]=d;g.on(b,d)},enumerable:!0,
configurable:!1})})}function l(b){return" "===b||"\n"===b||"\r"===b||"\t"===b}function D(b){return'"'===b||"'"===b}function d(b,d,g){b.textNode&&t(b);b[d]&&b[d](g)}function t(b){b.textNode=w(b.opt,b.textNode);b.textNode&&b.ontext&&b.ontext(b.textNode);b.textNode=""}function w(b,d){b.trim&&(d=d.trim());b.normalize&&(d=d.replace(/\s+/g," "));return d}function y(b,d){t(b);b.trackPosition&&(d+="\nLine: "+b.line+"\nColumn: "+b.column+"\nChar: "+b.c);d=Error(d);b.error=d;b.onerror&&b.onerror(d);return b}
function v(b){b.sawRoot&&!b.closedRoot&&x(b,"Unclosed root tag");b.state!==k.BEGIN&&b.state!==k.BEGIN_WHITESPACE&&b.state!==k.TEXT&&y(b,"Unexpected end");t(b);b.c="";b.closed=!0;b.onend&&b.onend(void 0);r.call(b,b.strict,b.opt);return b}function x(b,d){if("object"!==typeof b||!(b instanceof r))throw Error("bad call to strictFail");b.strict&&y(b,d)}function E(b,d){var g=0>b.indexOf(":")?["",b]:b.split(":"),e=g[0];g=g[1];d&&"xmlns"===b&&(e="xmlns",g="");return{prefix:e,local:g}}function I(b){b.strict||
(b.attribName=b.attribName[b.looseCase]());if(-1===b.attribList.indexOf(b.attribName)&&!b.tag.attributes.hasOwnProperty(b.attribName))if(b.opt.xmlns){var g=E(b.attribName,!0),e=g.local;if("xmlns"===g.prefix)if("xml"===e&&b.attribValue!==J)x(b,"xml: prefix must be bound to "+J+"\nActual: "+b.attribValue);else if("xmlns"===e&&b.attribValue!==K)x(b,"xmlns: prefix must be bound to "+K+"\nActual: "+b.attribValue);else{g=b.tag;var f=b.tags[b.tags.length-1]||b;g.ns===f.ns&&(g.ns=Object.create(f.ns));g.ns[e]=
b.attribValue}b.attribList.push([b.attribName,b.attribValue])}else b.tag.attributes[b.attribName]=b.attribValue,d(b,"onattribute",{name:b.attribName,value:b.attribValue});b.attribName=b.attribValue=""}function z(b,g){if(b.opt.xmlns){var e=b.tag,f=E(b.tagName);e.prefix=f.prefix;e.local=f.local;e.uri=e.ns[f.prefix]||"";e.prefix&&!e.uri&&(x(b,"Unbound namespace prefix: "+JSON.stringify(b.tagName)),e.uri=f.prefix);f=b.tags[b.tags.length-1]||b;e.ns&&f.ns!==e.ns&&Object.keys(e.ns).forEach(function(g){d(b,
"onopennamespace",{prefix:g,uri:e.ns[g]})});f=0;for(var m=b.attribList.length;f<m;f++){var q=b.attribList[f],n=q[0],r=q[1],p=E(n,!0);q=p.prefix;var h=""===q?"":e.ns[q]||"";r={name:n,value:r,prefix:q,local:p.local,uri:h};q&&"xmlns"!==q&&!h&&(x(b,"Unbound namespace prefix: "+JSON.stringify(q)),r.uri=q);b.tag.attributes[n]=r;d(b,"onattribute",r)}b.attribList.length=0}b.tag.isSelfClosing=!!g;b.sawRoot=!0;b.tags.push(b.tag);d(b,"onopentag",b.tag);g||(b.noscript||"script"!==b.tagName.toLowerCase()?b.state=
k.TEXT:b.state=k.SCRIPT,b.tag=null,b.tagName="");b.attribName=b.attribValue="";b.attribList.length=0}function A(b){if(b.tagName){if(b.script){if("script"!==b.tagName){b.script+="</"+b.tagName+">";b.tagName="";b.state=k.SCRIPT;return}d(b,"onscript",b.script);b.script=""}var g=b.tags.length,e=b.tagName;b.strict||(e=e[b.looseCase]());for(var f=e;g--;)if(b.tags[g].name!==f)x(b,"Unexpected close tag");else break;if(0>g)x(b,"Unmatched closing tag: "+b.tagName),b.textNode+="</"+b.tagName+">";else{b.tagName=
e;for(e=b.tags.length;e-- >g;){var q=b.tag=b.tags.pop();b.tagName=b.tag.name;d(b,"onclosetag",b.tagName);for(var m in q.ns);f=b.tags[b.tags.length-1]||b;b.opt.xmlns&&q.ns!==f.ns&&Object.keys(q.ns).forEach(function(g){d(b,"onclosenamespace",{prefix:g,uri:q.ns[g]})})}0===g&&(b.closedRoot=!0);b.tagName=b.attribValue=b.attribName="";b.attribList.length=0}}else x(b,"Weird empty close tag."),b.textNode+="</>";b.state=k.TEXT}function M(b){var d=b.entity,g=d.toLowerCase(),e="";if(b.ENTITIES[d])return b.ENTITIES[d];
if(b.ENTITIES[g])return b.ENTITIES[g];d=g;if("#"===d.charAt(0))if("x"===d.charAt(1)){d=d.slice(2);var f=parseInt(d,16);e=f.toString(16)}else d=d.slice(1),f=parseInt(d,10),e=f.toString(10);d=d.replace(/^0+/,"");return isNaN(f)||e.toLowerCase()!==d?(x(b,"Invalid character entity"),"&"+b.entity+";"):String.fromCodePoint(f)}function g(b,d){"<"===d?(b.state=k.OPEN_WAKA,b.startTagPosition=b.position):l(d)||(x(b,"Non-whitespace before first tag."),b.textNode=d,b.state=k.TEXT)}function B(b,d){var g="";d<
b.length&&(g=b.charAt(d));return g}e.parser=function(b,d){return new r(b,d)};e.SAXParser=r;e.SAXStream=h;e.createStream=function(b,d){return new h(b,d)};e.MAX_BUFFER_LENGTH=65536;var q="comment sgmlDecl textNode tagName doctype procInstName procInstBody entity attribName attribValue cdata script".split(" ");e.EVENTS="text processinginstruction sgmldeclaration doctype comment opentagstart attribute opentag closetag opencdata cdata closecdata error end ready script opennamespace closenamespace".split(" ");
Object.create||(Object.create=function(b){function d(){}d.prototype=b;return new d});Object.keys||(Object.keys=function(b){var d=[],g;for(g in b)b.hasOwnProperty(g)&&d.push(g);return d});r.prototype={end:function(){v(this)},write:function(b){if(this.error)throw this.error;if(this.closed)return y(this,"Cannot write after close. Assign an onready handler.");if(null===b)return v(this);"object"===typeof b&&(b=b.toString());for(var f=0,n;;){this.c=n=B(b,f++);if(!n)break;this.trackPosition&&(this.position++,
"\n"===n?(this.line++,this.column=0):this.column++);switch(this.state){case k.BEGIN:this.state=k.BEGIN_WHITESPACE;if("\ufeff"===n)continue;g(this,n);continue;case k.BEGIN_WHITESPACE:g(this,n);continue;case k.TEXT:if(this.sawRoot&&!this.closedRoot){for(var r=f-1;n&&"<"!==n&&"&"!==n;)(n=B(b,f++))&&this.trackPosition&&(this.position++,"\n"===n?(this.line++,this.column=0):this.column++);this.textNode+=b.substring(r,f-1)}"<"!==n||this.sawRoot&&this.closedRoot&&!this.strict?(l(n)||this.sawRoot&&!this.closedRoot||
x(this,"Text data outside of root node."),"&"===n?this.state=k.TEXT_ENTITY:this.textNode+=n):(this.state=k.OPEN_WAKA,this.startTagPosition=this.position);continue;case k.SCRIPT:"<"===n?this.state=k.SCRIPT_ENDING:this.script+=n;continue;case k.SCRIPT_ENDING:"/"===n?this.state=k.CLOSE_TAG:(this.script+="<"+n,this.state=k.SCRIPT);continue;case k.OPEN_WAKA:"!"===n?(this.state=k.SGML_DECL,this.sgmlDecl=""):l(n)||(P.test(n)?(this.state=k.OPEN_TAG,this.tagName=n):"/"===n?(this.state=k.CLOSE_TAG,this.tagName=
""):"?"===n?(this.state=k.PROC_INST,this.procInstName=this.procInstBody=""):(x(this,"Unencoded <"),this.startTagPosition+1<this.position&&(n=Array(this.position-this.startTagPosition).join(" ")+n),this.textNode+="<"+n,this.state=k.TEXT));continue;case k.SGML_DECL:(this.sgmlDecl+n).toUpperCase()===O?(d(this,"onopencdata"),this.state=k.CDATA,this.cdata=this.sgmlDecl=""):"--"===this.sgmlDecl+n?(this.state=k.COMMENT,this.sgmlDecl=this.comment=""):(this.sgmlDecl+n).toUpperCase()===L?(this.state=k.DOCTYPE,
(this.doctype||this.sawRoot)&&x(this,"Inappropriately located doctype declaration"),this.sgmlDecl=this.doctype=""):">"===n?(d(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=k.TEXT):(D(n)&&(this.state=k.SGML_DECL_QUOTED),this.sgmlDecl+=n);continue;case k.SGML_DECL_QUOTED:n===this.q&&(this.state=k.SGML_DECL,this.q="");this.sgmlDecl+=n;continue;case k.DOCTYPE:">"===n?(this.state=k.TEXT,d(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=n,"["===n?this.state=k.DOCTYPE_DTD:
D(n)&&(this.state=k.DOCTYPE_QUOTED,this.q=n));continue;case k.DOCTYPE_QUOTED:this.doctype+=n;n===this.q&&(this.q="",this.state=k.DOCTYPE);continue;case k.DOCTYPE_DTD:this.doctype+=n;"]"===n?this.state=k.DOCTYPE:D(n)&&(this.state=k.DOCTYPE_DTD_QUOTED,this.q=n);continue;case k.DOCTYPE_DTD_QUOTED:this.doctype+=n;n===this.q&&(this.state=k.DOCTYPE_DTD,this.q="");continue;case k.COMMENT:"-"===n?this.state=k.COMMENT_ENDING:this.comment+=n;continue;case k.COMMENT_ENDING:"-"===n?(this.state=k.COMMENT_ENDED,
(this.comment=w(this.opt,this.comment))&&d(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+n,this.state=k.COMMENT);continue;case k.COMMENT_ENDED:">"!==n?(x(this,"Malformed comment"),this.comment+="--"+n,this.state=k.COMMENT):this.state=k.TEXT;continue;case k.CDATA:"]"===n?this.state=k.CDATA_ENDING:this.cdata+=n;continue;case k.CDATA_ENDING:"]"===n?this.state=k.CDATA_ENDING_2:(this.cdata+="]"+n,this.state=k.CDATA);continue;case k.CDATA_ENDING_2:">"===n?(this.cdata&&d(this,"oncdata",
this.cdata),d(this,"onclosecdata"),this.cdata="",this.state=k.TEXT):"]"===n?this.cdata+="]":(this.cdata+="]]"+n,this.state=k.CDATA);continue;case k.PROC_INST:"?"===n?this.state=k.PROC_INST_ENDING:l(n)?this.state=k.PROC_INST_BODY:this.procInstName+=n;continue;case k.PROC_INST_BODY:if(!this.procInstBody&&l(n))continue;else"?"===n?this.state=k.PROC_INST_ENDING:this.procInstBody+=n;continue;case k.PROC_INST_ENDING:">"===n?(d(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),
this.procInstName=this.procInstBody="",this.state=k.TEXT):(this.procInstBody+="?"+n,this.state=k.PROC_INST_BODY);continue;case k.OPEN_TAG:if(p.test(n))this.tagName+=n;else{this.strict||(this.tagName=this.tagName[this.looseCase]());r=this.tags[this.tags.length-1]||this;var h=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(h.ns=r.ns);this.attribList.length=0;d(this,"onopentagstart",h);">"===n?z(this):"/"===n?this.state=k.OPEN_TAG_SLASH:(l(n)||x(this,"Invalid character in tag name"),this.state=
k.ATTRIB)}continue;case k.OPEN_TAG_SLASH:">"===n?(z(this,!0),A(this)):(x(this,"Forward-slash in opening tag not followed by >"),this.state=k.ATTRIB);continue;case k.ATTRIB:if(l(n))continue;else">"===n?z(this):"/"===n?this.state=k.OPEN_TAG_SLASH:P.test(n)?(this.attribName=n,this.attribValue="",this.state=k.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case k.ATTRIB_NAME:"="===n?this.state=k.ATTRIB_VALUE:">"===n?(x(this,"Attribute without value"),this.attribValue=this.attribName,I(this),z(this)):
l(n)?this.state=k.ATTRIB_NAME_SAW_WHITE:p.test(n)?this.attribName+=n:x(this,"Invalid attribute name");continue;case k.ATTRIB_NAME_SAW_WHITE:if("="===n)this.state=k.ATTRIB_VALUE;else if(l(n))continue;else x(this,"Attribute without value"),this.attribValue=this.tag.attributes[this.attribName]="",d(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===n?z(this):P.test(n)?(this.attribName=n,this.state=k.ATTRIB_NAME):(x(this,"Invalid attribute name"),this.state=k.ATTRIB);continue;
case k.ATTRIB_VALUE:if(l(n))continue;else D(n)?(this.q=n,this.state=k.ATTRIB_VALUE_QUOTED):(x(this,"Unquoted attribute value"),this.state=k.ATTRIB_VALUE_UNQUOTED,this.attribValue=n);continue;case k.ATTRIB_VALUE_QUOTED:if(n!==this.q){"&"===n?this.state=k.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=n;continue}I(this);this.q="";this.state=k.ATTRIB_VALUE_CLOSED;continue;case k.ATTRIB_VALUE_CLOSED:l(n)?this.state=k.ATTRIB:">"===n?z(this):"/"===n?this.state=k.OPEN_TAG_SLASH:P.test(n)?(x(this,"No whitespace between attributes"),
this.attribName=n,this.attribValue="",this.state=k.ATTRIB_NAME):x(this,"Invalid attribute name");continue;case k.ATTRIB_VALUE_UNQUOTED:if(">"!==n&&!l(n)){"&"===n?this.state=k.ATTRIB_VALUE_ENTITY_U:this.attribValue+=n;continue}I(this);">"===n?z(this):this.state=k.ATTRIB;continue;case k.CLOSE_TAG:if(this.tagName)">"===n?A(this):p.test(n)?this.tagName+=n:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=k.SCRIPT):(l(n)||x(this,"Invalid tagname in closing tag"),this.state=k.CLOSE_TAG_SAW_WHITE);
else if(l(n))continue;else P.test(n)?this.tagName=n:this.script?(this.script+="</"+n,this.state=k.SCRIPT):x(this,"Invalid tagname in closing tag.");continue;case k.CLOSE_TAG_SAW_WHITE:if(l(n))continue;">"===n?A(this):x(this,"Invalid characters in closing tag");continue;case k.TEXT_ENTITY:case k.ATTRIB_VALUE_ENTITY_Q:case k.ATTRIB_VALUE_ENTITY_U:switch(this.state){case k.TEXT_ENTITY:var u=k.TEXT;var G="textNode";break;case k.ATTRIB_VALUE_ENTITY_Q:u=k.ATTRIB_VALUE_QUOTED;G="attribValue";break;case k.ATTRIB_VALUE_ENTITY_U:u=
k.ATTRIB_VALUE_UNQUOTED,G="attribValue"}";"===n?(this[G]+=M(this),this.entity="",this.state=u):(this.entity.length?m:C).test(n)?this.entity+=n:(x(this,"Invalid character in entity name"),this[G]+="&"+this.entity+n,this.entity="",this.state=u);continue;default:throw Error(this,"Unknown state: "+this.state);}}if(this.position>=this.bufferCheckPosition){b=Math.max(e.MAX_BUFFER_LENGTH,10);n=f=0;for(u=q.length;n<u;n++){G=this[q[n]].length;if(G>b)switch(q[n]){case "textNode":t(this);break;case "cdata":d(this,
"oncdata",this.cdata);this.cdata="";break;case "script":d(this,"onscript",this.script);this.script="";break;default:y(this,"Max buffer length exceeded: "+q[n])}f=Math.max(f,G)}this.bufferCheckPosition=e.MAX_BUFFER_LENGTH-f+this.position}return this},resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){t(this);""!==this.cdata&&(d(this,"oncdata",this.cdata),this.cdata="");""!==this.script&&(d(this,"onscript",this.script),this.script="")}};try{var n=
f("stream").Stream}catch(Q){n=function(){}}var G=e.EVENTS.filter(function(b){return"error"!==b&&"end"!==b});h.prototype=Object.create(n.prototype,{constructor:{value:h}});h.prototype.write=function(d){"function"===typeof b&&"function"===typeof b.isBuffer&&b.isBuffer(d)&&(this._decoder||(this._decoder=new (f("string_decoder").StringDecoder)("utf8")),d=this._decoder.write(d));this._parser.write(d.toString());this.emit("data",d);return!0};h.prototype.end=function(b){b&&b.length&&this.write(b);this._parser.end();
return!0};h.prototype.on=function(b,d){var g=this;g._parser["on"+b]||-1===G.indexOf(b)||(g._parser["on"+b]=function(){var d=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);d.splice(0,0,b);g.emit.apply(g,d)});return n.prototype.on.call(g,b,d)};var O="[CDATA[",L="DOCTYPE",J="http://www.w3.org/XML/1998/namespace",K="http://www.w3.org/2000/xmlns/",H={xml:J,xmlns:K},P=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,
k=0;e.STATE={BEGIN:k++,BEGIN_WHITESPACE:k++,TEXT:k++,TEXT_ENTITY:k++,OPEN_WAKA:k++,SGML_DECL:k++,SGML_DECL_QUOTED:k++,DOCTYPE:k++,DOCTYPE_QUOTED:k++,DOCTYPE_DTD:k++,DOCTYPE_DTD_QUOTED:k++,COMMENT_STARTING:k++,COMMENT:k++,COMMENT_ENDING:k++,COMMENT_ENDED:k++,CDATA:k++,CDATA_ENDING:k++,CDATA_ENDING_2:k++,PROC_INST:k++,PROC_INST_BODY:k++,PROC_INST_ENDING:k++,OPEN_TAG:k++,OPEN_TAG_SLASH:k++,ATTRIB:k++,ATTRIB_NAME:k++,ATTRIB_NAME_SAW_WHITE:k++,ATTRIB_VALUE:k++,ATTRIB_VALUE_QUOTED:k++,ATTRIB_VALUE_CLOSED:k++,
ATTRIB_VALUE_UNQUOTED:k++,ATTRIB_VALUE_ENTITY_Q:k++,ATTRIB_VALUE_ENTITY_U:k++,CLOSE_TAG:k++,CLOSE_TAG_SAW_WHITE:k++,SCRIPT:k++,SCRIPT_ENDING:k++};e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,
THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,
laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,
Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,
lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,
ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(e.ENTITIES).forEach(function(b){var d=e.ENTITIES[b];d="number"===typeof d?String.fromCharCode(d):d;e.ENTITIES[b]=d});for(var T in e.STATE)e.STATE[e.STATE[T]]=T;k=e.STATE;String.fromCodePoint||function(){var b=String.fromCharCode,d=Math.floor,g=function(){var g=[],e=-1,
f=arguments.length;if(!f)return"";for(var n="";++e<f;){var k=Number(arguments[e]);if(!isFinite(k)||0>k||1114111<k||d(k)!==k)throw RangeError("Invalid code point: "+k);if(65535>=k)g.push(k);else{k-=65536;var q=(k>>10)+55296;k=k%1024+56320;g.push(q,k)}if(e+1===f||16384<g.length)n+=b.apply(null,g),g.length=0}return n};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:g,configurable:!0,writable:!0}):String.fromCodePoint=g}()})("undefined"===typeof h?this.sax={}:h)}).call(this,
f("buffer").Buffer)},{buffer:3,stream:29,string_decoder:30}],29:[function(f,l,h){function b(){e.call(this)}l.exports=b;var e=f("events").EventEmitter;f("inherits")(b,e);b.Readable=f("readable-stream/readable.js");b.Writable=f("readable-stream/writable.js");b.Duplex=f("readable-stream/duplex.js");b.Transform=f("readable-stream/transform.js");b.PassThrough=f("readable-stream/passthrough.js");b.Stream=b;b.prototype.pipe=function(b,f){function h(d){b.writable&&!1===b.write(d)&&v.pause&&v.pause()}function r(){v.readable&&
v.resume&&v.resume()}function d(){x||(x=!0,b.end())}function t(){x||(x=!0,"function"===typeof b.destroy&&b.destroy())}function u(b){y();if(0===e.listenerCount(this,"error"))throw b;}function y(){v.removeListener("data",h);b.removeListener("drain",r);v.removeListener("end",d);v.removeListener("close",t);v.removeListener("error",u);b.removeListener("error",u);v.removeListener("end",y);v.removeListener("close",y);b.removeListener("close",y)}var v=this;v.on("data",h);b.on("drain",r);b._isStdio||f&&!1===
f.end||(v.on("end",d),v.on("close",t));var x=!1;v.on("error",u);b.on("error",u);v.on("end",y);v.on("close",y);b.on("close",y);b.emit("pipe",v);return b}},{events:5,inherits:7,"readable-stream/duplex.js":12,"readable-stream/passthrough.js":23,"readable-stream/readable.js":24,"readable-stream/transform.js":25,"readable-stream/writable.js":26}],30:[function(f,l,h){arguments[4][22][0].apply(h,arguments)},{dup:22,"safe-buffer":27}],31:[function(f,l,h){(function(b,e){function r(b,d){this._id=b;this._clearFn=
d}var u=f("process/browser.js").nextTick,l=Function.prototype.apply,D=Array.prototype.slice,d={},t=0;h.setTimeout=function(){return new r(l.call(setTimeout,window,arguments),clearTimeout)};h.setInterval=function(){return new r(l.call(setInterval,window,arguments),clearInterval)};h.clearTimeout=h.clearInterval=function(b){b.close()};r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};h.enroll=function(b,d){clearTimeout(b._idleTimeoutId);
b._idleTimeout=d};h.unenroll=function(b){clearTimeout(b._idleTimeoutId);b._idleTimeout=-1};h._unrefActive=h.active=function(b){clearTimeout(b._idleTimeoutId);var d=b._idleTimeout;0<=d&&(b._idleTimeoutId=setTimeout(function(){b._onTimeout&&b._onTimeout()},d))};h.setImmediate="function"===typeof b?b:function(b){var e=t++,f=2>arguments.length?!1:D.call(arguments,1);d[e]=!0;u(function(){d[e]&&(f?b.apply(null,f):b.call(null),h.clearImmediate(e))});return e};h.clearImmediate="function"===typeof e?e:function(b){delete d[b]}}).call(this,
f("timers").setImmediate,f("timers").clearImmediate)},{"process/browser.js":11,timers:31}],32:[function(f,l,h){(function(b){function e(e){try{if(!b.localStorage)return!1}catch(u){return!1}e=b.localStorage[e];return null==e?!1:"true"===String(e).toLowerCase()}l.exports=function(b,f){if(e("noDeprecation"))return b;var h=!1;return function(){if(!h){if(e("throwDeprecation"))throw Error(f);e("traceDeprecation")?console.trace(f):console.warn(f);h=!0}return b.apply(this,arguments)}}}).call(this,"undefined"!==
typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],33:[function(f,l,h){(function(b,e,f,h,l){function r(b,d){var g=b.styleAttrs&&b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"];if("span"===b.kind)!g&&d&&(b.styleAttrs||(b.styleAttrs={}),b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"]=d);else if(g&&delete b.styleAttrs["http://www.w3.org/ns/ttml#styling backgroundColor"],b.contents)for(var e=0;e<b.contents.length;e++)r(b.contents[e],
g||d)}function d(b){if("contents"in b){var g="styleAttrs"in b?b.styleAttrs[h.byName.ruby.qname]:null;g="span"===b.kind&&("container"===g||"textContainer"===g||"baseContainer"===g);for(var e=b.contents.length-1;0<=e;e--)!g||"styleAttrs"in b.contents[e]&&h.byName.ruby.qname in b.contents[e].styleAttrs?d(b.contents[e]):delete b.contents[e]}}function t(b,d,g,e){var f=e&&"seq"===e.timeContainer,n=0;e&&(n=f&&g?g.end:e.begin);d.begin=d.explicit_begin?d.explicit_begin+n:n;g=d.begin;e=null;for(var k in d.sets)t(b,
d.sets[k],e,d),g="seq"===d.timeContainer?d.sets[k].end:Math.max(g,d.sets[k].end),e=d.sets[k];if("contents"in d)for(var q in d.contents)t(b,d.contents[q],e,d),g="seq"===d.timeContainer?d.contents[q].end:Math.max(g,d.contents[q].end),e=d.contents[q];else g=f?d.begin:Number.POSITIVE_INFINITY;d.end=null!==d.explicit_end&&null!==d.explicit_dur?Math.min(d.begin+d.explicit_dur,n+d.explicit_end):null===d.explicit_end&&null!==d.explicit_dur?d.begin+d.explicit_dur:null!==d.explicit_end&&null===d.explicit_dur?
n+d.explicit_end:g;delete d.explicit_begin;delete d.explicit_dur;delete d.explicit_end;b._registerEvent(d)}function u(b){this.node=b}function y(){this.events=[];this.head=new v;this.body=null}function v(){this.styling=new x;this.layout=new z}function x(){this.styles={};this.initials={}}function E(){this.styleRefs=this.styleAttrs=this.id=null}function I(){this.styleAttrs=null}function z(){this.regions={}}function A(b,d){this.kind="image";this.src=b;this.type=d}function F(b){this.id=b}function g(b){this.regionID=
b}function B(b){this.styleAttrs=b}function q(b){this.sets=b}function n(b){this.contents=b}function G(b,d,g){this.explicit_begin=b;this.explicit_end=d;this.explicit_dur=g}function O(){this.kind="body"}function L(){this.kind="div"}function J(){this.kind="p"}function K(){this.kind="span"}function H(){this.kind="span"}function P(){this.kind="br"}function p(){}function C(){}function m(b){var d=null;b&&(b=b.attributes["xml:id"]||b.attributes.id)&&(d=b.value||null);return d}function k(b){return b&&"style"in
b.attributes?b.attributes.style.value.split(" "):[]}function T(b,d){var g={};if(null!==b)for(var e in b.attributes){var f=b.attributes[e].uri+" "+b.attributes[e].local,n=h.byQName[f];if(void 0!==n){var k=n.parse(b.attributes[e].value);null!==k?(g[f]=k,n===h.byName.zIndex&&S(d,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):R(d,"Cannot parse styling attribute "+f+" --\x3e "+b.attributes[e].value)}}return g}function Q(b,d,g){for(var e in b.attributes)if(b.attributes[e].uri===
d&&b.attributes[e].local===g)return b.attributes[e].value;return null}function aa(b,d){b=Q(b,f.ns_tts,"extent");if(null===b)return null;var g=b.split(" ");if(2!==g.length)return S(d,"Malformed extent (ignoring)"),null;b=l.parseLength(g[0]);g=l.parseLength(g[1]);return g&&b?{h:g,w:b}:(S(d,"Malformed extent values (ignoring)"),null)}function V(b,d,g){var e=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/,f=/^(\d{2,}):(\d\d):(\d\d):(\d{2,})$/,n=/^(\d+(?:\.\d+)?)t$/,k=/^(\d+(?:\.\d+)?)ms$/,q=/^(\d+(?:\.\d+)?)s$/,
m=/^(\d+(?:\.\d+)?)h$/,h=/^(\d+(?:\.\d+)?)m$/,p,t=null;null!==(p=/^(\d+(?:\.\d+)?)f$/.exec(g))?null!==d&&(t=parseFloat(p[1])/d):null!==(p=n.exec(g))?null!==b&&(t=parseFloat(p[1])/b):null!==(p=k.exec(g))?t=parseFloat(p[1])/1E3:null!==(p=q.exec(g))?t=parseFloat(p[1]):null!==(p=m.exec(g))?t=3600*parseFloat(p[1]):null!==(p=h.exec(g))?t=60*parseFloat(p[1]):null!==(p=e.exec(g))?t=3600*parseInt(p[1])+60*parseInt(p[2])+parseFloat(p[3]):null!==(p=f.exec(g))&&null!==d&&(t=3600*parseInt(p[1])+60*parseInt(p[2])+
parseInt(p[3])+(null===p[4]?0:parseInt(p[4])/d));return t}function Y(b,d,g){for(;0<d.styleRefs.length;){var e=d.styleRefs.pop();e in b.styles?(Y(b,b.styles[e],g),U(b.styles[e].styleAttrs,d.styleAttrs)):R(g,"Non-existant style id referenced")}}function X(b,d,g,e){for(var f=d.length-1;0<=f;f--){var n=d[f];n in b.styles?U(b.styles[n].styleAttrs,g):R(e,"Non-existant style id referenced")}}function U(b,d){for(var g in b)g in d||(d[g]=b[g])}function S(b,d){if(b&&b.warn&&b.warn(d))throw d;}function R(b,
d){if(b&&b.error&&b.error(d))throw d;}function N(b,d){b&&b.fatal&&b.fatal(d);throw d;}function Z(b,d){for(var g=0,e=b.length-1,f;g<=e;){f=Math.floor((g+e)/2);var n=b[f];if(n<d)g=f+1;else if(n>d)e=f-1;else return{found:!0,index:f}}return{found:!1,index:g}}b.fromXML=function(b,g,n){var k=e.parser(!0,{xmlns:!0}),q=[],m=[],B=[],G=0,w=null;k.onclosetag=function(b){if(q[0]instanceof p)null!==w.head&&null!==w.head.styling&&X(w.head.styling,q[0].styleRefs,q[0].styleAttrs,g),delete q[0].styleRefs;else if(q[0]instanceof
x)for(var d in q[0].styles)Y(q[0],q[0].styles[d],g);else if(q[0]instanceof J||q[0]instanceof K){if(1<q[0].contents.length){b=[q[0].contents[0]];for(d=1;d<q[0].contents.length;d++)q[0].contents[d]instanceof H&&b[b.length-1]instanceof H?b[b.length-1].text+=q[0].contents[d].text:b.push(q[0].contents[d]);q[0].contents=b}q[0]instanceof K&&1===q[0].contents.length&&q[0].contents[0]instanceof H&&(q[0].text=q[0].contents[0].text,delete q[0].contents)}else if(q[0]instanceof u)if(q[0].node.uri===f.ns_tt&&"metadata"===
q[0].node.local)G--;else if(0<G&&n&&"onCloseTag"in n)n.onCloseTag();B.shift();m.shift();q.shift()};k.ontext=function(b){if(void 0!==q[0])if(q[0]instanceof K||q[0]instanceof J){if(q[0]instanceof K){var d=q[0].styleAttrs[h.byName.ruby.qname];if("container"===d||"textContainer"===d||"baseContainer"===d)return}d=new H;d.initFromText(w,q[0],b,B[0],g);q[0].contents.push(d)}else if(q[0]instanceof u&&0<G&&n&&"onText"in n)n.onText(b)};k.onopentag=function(b){function d(b){f.ttaf_map[b.uri]&&(b.uri=f.ttaf_map[b.uri])}
var e=b.attributes["xml:space"];e?B.unshift(e.value):0===B.length?B.unshift("default"):B.unshift(B[0]);(e=b.attributes["xml:lang"])?m.unshift(e.value):0===m.length?m.unshift(""):m.unshift(m[0]);d(b);if(b.attributes)for(var k in b.attributes)b.attributes.hasOwnProperty(k)&&d(b.attributes[k]);if(b.uri===f.ns_tt)if("tt"===b.local)null!==w&&N(g,"Two <tt> elements at ("+this.line+","+this.column+")"),w=new y,w.initFromNode(b,g),q.unshift(w);else if("head"===b.local)q[0]instanceof y||N(g,"Parent of <head> element is not <tt> at ("+
this.line+","+this.column+")"),q.unshift(w.head);else if("styling"===b.local)q[0]instanceof v||N(g,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),q.unshift(w.head.styling);else if("style"===b.local)if(q[0]instanceof x){var t=new E;t.initFromNode(b,g);t.id?w.head.styling.styles[t.id]=t:R(g,"<style> element missing @id attribute");q.unshift(t)}else q[0]instanceof p?(t=new E,t.initFromNode(b,g),U(t.styleAttrs,q[0].styleAttrs),q.unshift(t)):N(g,"Parent of <style> element is not <styling> or <region> at ("+
this.line+","+this.column+")");else if("initial"===b.local)if(q[0]instanceof x){k=new I;k.initFromNode(b,g);for(t in k.styleAttrs)w.head.styling.initials[t]=k.styleAttrs[t];q.unshift(k)}else N(g,"Parent of <initial> element is not <styling> at ("+this.line+","+this.column+")");else if("layout"===b.local)q[0]instanceof v||N(g,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),q.unshift(w.head.layout);else if("region"===b.local)q[0]instanceof z||N(g,"Parent of <region> element is not <layout> at "+
this.line+","+this.column+")"),t=new p,t.initFromNode(w,b,g),!t.id||t.id in w.head.layout.regions?R(g,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):w.head.layout.regions[t.id]=t,q.unshift(t);else if("body"===b.local)q[0]instanceof y||N(g,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==w.body&&N(g,"Second <body> element at "+this.line+","+this.column+")"),t=new O,t.initFromNode(w,b,g),w.body=t,q.unshift(t);else if("div"===b.local){q[0]instanceof
L||q[0]instanceof O||N(g,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")");t=new L;t.initFromNode(w,q[0],b,g);if(k=t.styleAttrs[h.byName.backgroundImage.qname])t.contents.push(new A(k)),delete t.styleAttrs[h.byName.backgroundImage.qname];q[0].contents.push(t);q.unshift(t)}else"image"===b.local?(q[0]instanceof L||N(g,"Parent of <image> element is not <div> at "+this.line+","+this.column+")"),t=new A,t.initFromNode(w,q[0],b,g),q[0].contents.push(t),q.unshift(t)):"p"===
b.local?(q[0]instanceof L||N(g,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),t=new J,t.initFromNode(w,q[0],b,g),q[0].contents.push(t),q.unshift(t)):"span"===b.local?(q[0]instanceof K||q[0]instanceof J||N(g,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),t=new K,t.initFromNode(w,q[0],b,B[0],g),q[0].contents.push(t),q.unshift(t)):"br"===b.local?(q[0]instanceof K||q[0]instanceof J||N(g,"Parent of <br> element is not <span> or <p> at "+this.line+
","+this.column+")"),t=new P,t.initFromNode(w,q[0],b,g),q[0].contents.push(t),q.unshift(t)):"set"===b.local?(q[0]instanceof K||q[0]instanceof J||q[0]instanceof L||q[0]instanceof O||q[0]instanceof p||q[0]instanceof P||N(g,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),t=new C,t.initFromNode(w,q[0],b,g),q[0].sets.push(t),q.unshift(t)):q.unshift(new u(b));else q.unshift(new u(b));if(q[0]instanceof u)if(b.uri===f.ns_tt&&"metadata"===b.local)G++;else if(0<
G&&n&&"onOpenTag"in n){t=[];for(var r in b.attributes)t[b.attributes[r].uri+" "+b.attributes[r].local]={uri:b.attributes[r].uri,local:b.attributes[r].local,value:b.attributes[r].value};n.onOpenTag(b.uri,b.local,t)}};k.write(b).close();delete w.head.styling.styles;b=!1;for(var l in w.head.layout.regions){b=!0;break}b||(l=p.prototype.createDefaultRegion(w,g),w.head.layout.regions[l.id]=l);for(var ba in w.head.layout.regions)t(w,w.head.layout.regions[ba],null,null);w.body&&t(w,w.body,null,null);w.body&&
d(w.body);w.body&&r(w.body);return w};y.prototype.initFromNode=function(b,d){var g=Q(b,f.ns_ttp,"cellResolution"),e=15;var n=32;null!==g&&(g=/(\d+) (\d+)/.exec(g),null!==g?(n=parseInt(g[1]),e=parseInt(g[2])):S(d,"Malformed cellResolution value (using initial value instead)"));this.cellLength={h:new l.ComputedLength(0,1/e),w:new l.ComputedLength(1/n,0)};e=Q(b,f.ns_ttp,"frameRate");g=30;null!==e&&(n=/(\d+)/.exec(e),null!==n?g=parseInt(n[1]):S(d,"Malformed frame rate attribute (using initial value instead)"));
n=Q(b,f.ns_ttp,"frameRateMultiplier");var k=1;null!==n&&(n=/(\d+) (\d+)/.exec(n),null!==n?k=parseInt(n[1])/parseInt(n[2]):S(d,"Malformed frame rate multiplier attribute (using initial value instead)"));g*=k;k=1;n=Q(b,f.ns_ttp,"tickRate");null===n?null!==e&&(k=g):(n=/(\d+)/.exec(n),null!==n?k=parseInt(n[1]):S(d,"Malformed tick rate attribute (using initial value instead)"));this.effectiveFrameRate=g;this.tickRate=k;n=Q(b,f.ns_ittp,"aspectRatio");null===n&&(n=Q(b,f.ns_ttp,"displayAspectRatio"));e=null;
null!==n&&(g=/(\d+)\s+(\d+)/.exec(n),null!==g?(n=parseInt(g[1]),g=parseInt(g[2]),0!==n&&0!==g?e=n/g:R(d,"Illegal aspectRatio values (ignoring)")):R(d,"Malformed aspectRatio attribute (ignoring)"));this.aspectRatio=e;e=Q(b,f.ns_ttp,"timeBase");null!==e&&"media"!==e&&N(d,"Unsupported time base");b=aa(b,d);null===b?this.pxLength={h:null,w:null}:("px"===b.h.unit&&"px"===b.w.unit||N(d,"Extent on TT must be in px or absent"),this.pxLength={h:new l.ComputedLength(0,1/b.h.value),w:new l.ComputedLength(1/
b.w.value,0)});this.dimensions={h:new l.ComputedLength(0,1),w:new l.ComputedLength(1,0)}};y.prototype._registerEvent=function(b){if(!(b.end<=b.begin)){var d=Z(this.events,b.begin);d.found||this.events.splice(d.index,0,b.begin);b.end!==Number.POSITIVE_INFINITY&&(d=Z(this.events,b.end),d.found||this.events.splice(d.index,0,b.end))}};y.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]};y.prototype.getMediaTimeEvents=function(){return this.events};E.prototype.initFromNode=
function(b,d){this.id=m(b);this.styleAttrs=T(b,d);this.styleRefs=k(b)};I.prototype.initFromNode=function(b,d){this.styleAttrs={};for(var g in b.attributes)if(b.attributes[g].uri===f.ns_itts||b.attributes[g].uri===f.ns_ebutts||b.attributes[g].uri===f.ns_tts)this.styleAttrs[b.attributes[g].uri+" "+b.attributes[g].local]=b.attributes[g].value};A.prototype.initFromNode=function(b,d,e,f){(this.src="src"in e.attributes?e.attributes.src.value:null)||R(f,"Invalid image@src attribute");(this.type="type"in
e.attributes?e.attributes.type.value:null)||R(f,"Invalid image@type attribute");B.prototype.initFromNode.call(this,b,d,e,f);G.prototype.initFromNode.call(this,b,d,e,f);q.prototype.initFromNode.call(this,b,d,e,f);g.prototype.initFromNode.call(this,b,d,e,f)};F.prototype.initFromNode=function(b,d,g,e){this.id=m(g)};g.prototype.initFromNode=function(b,d,g,e){this.regionID=g&&"region"in g.attributes?g.attributes.region.value:""};B.prototype.initFromNode=function(b,d,g,e){this.styleAttrs=T(g,e);null!==
b.head&&null!==b.head.styling&&X(b.head.styling,k(g),this.styleAttrs,e)};q.prototype.initFromNode=function(b,d,g,e){this.sets=[]};n.prototype.initFromNode=function(b,d,g,e){this.contents=[]};G.prototype.initFromNode=function(b,d,g,e){d=null;g&&"begin"in g.attributes&&(d=V(b.tickRate,b.effectiveFrameRate,g.attributes.begin.value),null===d&&S(e,"Malformed begin value "+g.attributes.begin.value+" (using 0)"));var f=null;g&&"dur"in g.attributes&&(f=V(b.tickRate,b.effectiveFrameRate,g.attributes.dur.value),
null===f&&S(e,"Malformed dur value "+g.attributes.dur.value+" (ignoring)"));var n=null;g&&"end"in g.attributes&&(n=V(b.tickRate,b.effectiveFrameRate,g.attributes.end.value),null===n&&S(e,"Malformed end value (ignoring)"));this.explicit_begin=d;this.explicit_end=n;this.explicit_dur=f;(b=g&&"timeContainer"in g.attributes?g.attributes.timeContainer.value:null)&&"par"!==b?"seq"===b?e="seq":(R(e,"Illegal value of timeContainer (assuming 'par')"),e="par"):e="par";this.timeContainer=e};O.prototype.initFromNode=
function(b,d,e){B.prototype.initFromNode.call(this,b,null,d,e);G.prototype.initFromNode.call(this,b,null,d,e);q.prototype.initFromNode.call(this,b,null,d,e);g.prototype.initFromNode.call(this,b,null,d,e);n.prototype.initFromNode.call(this,b,null,d,e)};L.prototype.initFromNode=function(b,d,e,f){B.prototype.initFromNode.call(this,b,d,e,f);G.prototype.initFromNode.call(this,b,d,e,f);q.prototype.initFromNode.call(this,b,d,e,f);g.prototype.initFromNode.call(this,b,d,e,f);n.prototype.initFromNode.call(this,
b,d,e,f)};J.prototype.initFromNode=function(b,d,e,f){B.prototype.initFromNode.call(this,b,d,e,f);G.prototype.initFromNode.call(this,b,d,e,f);q.prototype.initFromNode.call(this,b,d,e,f);g.prototype.initFromNode.call(this,b,d,e,f);n.prototype.initFromNode.call(this,b,d,e,f)};K.prototype.initFromNode=function(b,d,e,f,k){B.prototype.initFromNode.call(this,b,d,e,k);G.prototype.initFromNode.call(this,b,d,e,k);q.prototype.initFromNode.call(this,b,d,e,k);g.prototype.initFromNode.call(this,b,d,e,k);n.prototype.initFromNode.call(this,
b,d,e,k);this.space=f};H.prototype.initFromText=function(b,d,g,e,f){G.prototype.initFromNode.call(this,b,d,null,f);this.text=g;this.space=e};P.prototype.initFromNode=function(b,d,e,f){g.prototype.initFromNode.call(this,b,d,e,f);G.prototype.initFromNode.call(this,b,d,e,f)};p.prototype.createDefaultRegion=function(b,d){var g=new p;g.id="";B.prototype.initFromNode.call(g,b,null,{name:"region",attributes:{"tts:displayAlign":{name:"tts:displayAlign",value:"after",prefix:"tts",local:"displayAlign",uri:"http://www.w3.org/ns/ttml#styling"},
"tts:extent":{name:"tts:extent",value:"80% 20%",prefix:"tts",local:"extent",uri:"http://www.w3.org/ns/ttml#styling"},"tts:origin":{name:"tts:origin",value:"10% 70%",prefix:"tts",local:"origin",uri:"http://www.w3.org/ns/ttml#styling"},"tts:overflow":{name:"tts:overflow",value:"visible",prefix:"tts",local:"overflow",uri:"http://www.w3.org/ns/ttml#styling"}},ns:{"":"http://www.w3.org/ns/ttml",ebuttm:"urn:ebu:tt:metadata",ebutts:"urn:ebu:tt:style",ittp:"http://www.w3.org/ns/ttml/profile/imsc1#parameter",
itts:"http://www.w3.org/ns/ttml/profile/imsc1#styling",ttm:"http://www.w3.org/ns/ttml#metadata",ttp:"http://www.w3.org/ns/ttml#parameter",tts:"http://www.w3.org/ns/ttml#styling",xml:"http://www.w3.org/XML/1998/namespace"},prefix:"",local:"region",uri:"http://www.w3.org/ns/ttml",isSelfClosing:!0},d);g.sets=[];G.call(g,0,Number.POSITIVE_INFINITY,null);return g};p.prototype.initFromNode=function(b,d,g){F.prototype.initFromNode.call(this,b,null,d,g);G.prototype.initFromNode.call(this,b,null,d,g);q.prototype.initFromNode.call(this,
b,null,d,g);this.styleAttrs=T(d,g);this.styleRefs=k(d)};C.prototype.initFromNode=function(b,d,g,e){G.prototype.initFromNode.call(this,b,d,g,e);b=T(g,e);this.value=this.qname=null;for(var f in b){if(this.qname){R(e,"More than one style specified on set");break}this.qname=f;this.value=b[f]}}})("undefined"===typeof h?this.imscDoc={}:h,"undefined"===typeof sax?f("sax"):sax,"undefined"===typeof imscNames?f("./names"):imscNames,"undefined"===typeof imscStyles?f("./styles"):imscStyles,"undefined"===typeof imscUtils?
f("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39,sax:28}],34:[function(f,l,h){(function(b,e,f,h){function r(b){var d={};b=Object.entries(b);for(var g in b){var e=h.parseColor(b[g][0]),f=h.parseColor(b[g][1]);e&&f&&(d[e.toString()]=f)}return d}function u(b,e,q){if("region"===q.kind){var g=document.createElement("div");g.style.position="absolute"}else if("body"===q.kind)g=document.createElement("div");else if("div"===q.kind)g=document.createElement("div");else if("image"===q.kind){if(g=
document.createElement("img"),null!==b.imgResolver&&null!==q.src){var h=b.imgResolver(q.src,g);h&&(g.src=h);g.height=b.regionH;g.width=b.regionW}}else if("p"===q.kind)g=document.createElement("p");else if("span"===q.kind)if("container"===q.styleAttrs[f.byName.ruby.qname])g=document.createElement("ruby"),b.ruby=!0;else if("base"===q.styleAttrs[f.byName.ruby.qname])g=document.createElement("rb");else if("text"===q.styleAttrs[f.byName.ruby.qname])g=document.createElement("rt");else if("baseContainer"===
q.styleAttrs[f.byName.ruby.qname])g=document.createElement("rbc");else if("textContainer"===q.styleAttrs[f.byName.ruby.qname])g=document.createElement("rtc");else{if("delimiter"===q.styleAttrs[f.byName.ruby.qname])return;g=document.createElement("span")}else"br"===q.kind&&(g=document.createElement("br"));if(g){e.appendChild(g);g.style.margin="0";if("region"===q.kind)if(e=q.styleAttrs[f.byName.writingMode.qname],"lrtb"===e||"lr"===e)b.ipd="lr",b.bpd="tb";else if("rltb"===e||"rl"===e)b.ipd="rl",b.bpd=
"tb";else if("tblr"===e)b.ipd="tb",b.bpd="lr";else{if("tbrl"===e||"tb"===e)b.ipd="tb",b.bpd="rl"}else"p"===q.kind&&"tb"===b.bpd&&(b.ipd="ltr"===q.styleAttrs[f.byName.direction.qname]?"lr":"rl");for(var r in x)e=x[r],h=q.styleAttrs[e.qname],void 0!==h&&null!==e.map&&e.map(b,g,q,h);r=g;(e=q.styleAttrs[f.byName.linePadding.qname])&&!e.isZero()&&(h=e.multiply(e.toUsedLength(b.w,b.h),b.options.sizeAdjust),0<h&&(h=Math.ceil(h)+"px","tb"===b.bpd?(r.style.paddingLeft=h,r.style.paddingRight=h):(r.style.paddingTop=
h,r.style.paddingBottom=h),b.lp=e));(e=q.styleAttrs[f.byName.multiRowAlign.qname])&&"auto"!==e&&(r=document.createElement("span"),r.style.display="inline-block",r.style.textAlign=e,g.appendChild(r),b.mra=e);(e=q.styleAttrs[f.byName.rubyReserve.qname])&&"none"!==e[0]&&(b.rubyReserve=e);q.styleAttrs[f.byName.fillLineGap.qname]&&(b.flg=!0);if("span"===q.kind&&q.text)if((e=q.styleAttrs[f.byName.textEmphasis.qname])&&"none"!==e.style&&(b.textEmphasis=!0),f.byName.textCombine.qname in q.styleAttrs&&"all"===
q.styleAttrs[f.byName.textCombine.qname][0])g.textContent=q.text,e&&y(b,g,q,e);else{h="";for(var l=0;l<q.text.length;l++){h+=q.text.charAt(l);var B=q.text.charCodeAt(l);if(55296>B||56319<B||l===q.text.length)B=document.createElement("span"),B.textContent=h,e&&y(b,B,q,e),g.appendChild(B),h=""}}for(var v in q.contents)u(b,r,q.contents[v]);v=[];if((b.lp||b.mra||b.flg||b.ruby||b.textEmphasis||b.rubyReserve)&&"p"===q.kind){w(b,r,v,null);if(b.rubyReserve){for(e=0;e<v.length;e++){h=document.createElement("ruby");
l=document.createElement("rb");l.textContent="\u200b";h.appendChild(l);var A=b.rubyReserve[1].toUsedLength(b.w,b.h)+"px";"both"===b.rubyReserve[0]||"outside"===b.rubyReserve[0]&&1==v.length?(l=document.createElement("rtc"),l.style[z]=I?"after":"under",l.textContent="\u200b",l.style.fontSize=A,B=document.createElement("rtc"),B.style[z]=I?"before":"over",B.textContent="\u200b",B.style.fontSize=A,h.appendChild(l),h.appendChild(B)):(l=document.createElement("rtc"),l.textContent="\u200b",l.style.fontSize=
A,l.style[z]="after"===b.rubyReserve[0]||"outside"===b.rubyReserve[0]&&0<e?I?"after":"tb"===b.bpd||"rl"===b.bpd?"under":"over":I?"before":"tb"===b.bpd||"rl"===b.bpd?"over":"under",h.appendChild(l));l=null;for(B=0;B<v[e].rbc.length;B++)if("ruby"===v[e].rbc[B].localName){l=v[e].rbc[B];for(B=0;B<l.style.length;B++)h.style.setProperty(l.style.item(B),l.style.getPropertyValue(l.style.item(B)));break}l=l||v[e].elements[0].node;l.parentElement.insertBefore(h,l)}b.rubyReserve=null}if(b.ruby||b.rubyReserve){for(e=
0;e<v.length;e++)for(h=0;h<v[e].rbc.length;h++)v[e].rbc[h].style[z]||(v[e].rbc[h].style[z]=I?0===e?"before":"after":"tb"===b.bpd?0===e?"over":"under":"rl"===b.bpd?0===e?"over":"under":0===e?"under":"over");b.ruby=null}if(b.textEmphasis){for(e=0;e<v.length;e++)for(h=0;h<v[e].te.length;h++)v[e].te[h].style[M]&&"none"!==v[e].te[h].style[M]||(v[e].te[h].style[M]="tb"===b.bpd?0===e?"left over":"left under":"rl"===b.bpd?0===e?"right under":"left under":0===e?"left under":"right under");b.textEmphasis=null}if(b.mra){for(e=
0;e<v.length-1;e++)l=v[e].elements.length,0!==l&&!1===v[e].br&&(h=document.createElement("br"),l=v[e].elements[l-1].node,l.parentElement.insertBefore(h,l.nextSibling));b.mra=null}if(b.lp){e=b.lp.multiply(b.lp.toUsedLength(b.w,b.h),b.options.sizeAdjust);for(var E in v)h=v[E].elements[v[E].start_elem],l=v[E].elements[v[E].end_elem],B=Math.ceil(e)+"px",A="-"+Math.ceil(e)+"px",0!==v[E].elements.length&&("lr"===b.ipd?(h.node.style.borderLeftColor=h.bgcolor||"#00000000",h.node.style.borderLeftStyle="solid",
h.node.style.borderLeftWidth=B,h.node.style.marginLeft=A):"rl"===b.ipd?(h.node.style.borderRightColor=h.bgcolor||"#00000000",h.node.style.borderRightStyle="solid",h.node.style.borderRightWidth=B,h.node.style.marginRight=A):"tb"===b.ipd&&(h.node.style.borderTopColor=h.bgcolor||"#00000000",h.node.style.borderTopStyle="solid",h.node.style.borderTopWidth=B,h.node.style.marginTop=A),"lr"===b.ipd?(l.node.style.borderRightColor=l.bgcolor||"#00000000",l.node.style.borderRightStyle="solid",l.node.style.borderRightWidth=
B,l.node.style.marginRight=A):"rl"===b.ipd?(l.node.style.borderLeftColor=l.bgcolor||"#00000000",l.node.style.borderLeftStyle="solid",l.node.style.borderLeftWidth=B,l.node.style.marginLeft=A):"tb"===b.ipd&&(l.node.style.borderBottomColor=l.bgcolor||"#00000000",l.node.style.borderBottomStyle="solid",l.node.style.borderBottomWidth=B,l.node.style.marginBottom=A));b.lp=null}if(b.flg){e=t(r.getBoundingClientRect(),b);E=e.before;e=e.after;h=Math.sign(e-E);for(l=0;l<=v.length;l++){B=0===l?E:l===v.length?
e:(v[l].before+v[l-1].after)/2;if(0<l)for(var p=0;p<v[l-1].elements.length;p++)if(null!==v[l-1].elements[p].bgcolor){var C=v[l-1].elements[p];0>h*(C.after-B)&&(A=Math.ceil(Math.abs(B-C.after))+"px",C.node.style.backgroundColor=C.bgcolor,"lr"===b.bpd?C.node.style.paddingRight=A:"rl"===b.bpd?C.node.style.paddingLeft=A:"tb"===b.bpd&&(C.node.style.paddingBottom=A))}if(l<v.length)for(p=0;p<v[l].elements.length;p++)C=v[l].elements[p],null!==C.bgcolor&&0<h*(C.before-B)&&(A=Math.ceil(Math.abs(C.before-B))+
"px",C.node.style.backgroundColor=C.bgcolor,"lr"===b.bpd?C.node.style.paddingLeft=A:"rl"===b.bpd?C.node.style.paddingRight=A:"tb"===b.bpd&&(C.node.style.paddingTop=A))}b.flg=null}}"region"===q.kind&&(w(b,r,v),"tb"===b.bpd&&b.enableRollUp&&0<q.contents.length&&"after"===q.styleAttrs[f.byName.displayAlign.qname]&&(q=new d(""===q.id?"_":q.id,v),b.currentISDState[q.id]=q,b.previousISDState&&q.id in b.previousISDState&&0<b.previousISDState[q.id].plist.length&&1<q.plist.length&&q.plist[q.plist.length-2].text===
b.previousISDState[q.id].plist[b.previousISDState[q.id].plist.length-1].text&&(b=g.firstElementChild,q=q.plist[q.plist.length-1].after-q.plist[q.plist.length-1].before,b.style.bottom="-"+q+"px",b.style.transition="transform 0.4s",b.style.position="relative",b.style.transform="translateY(-"+q+"px)")))}else if(b=b.errorHandler,q="Error processing ISD element kind: "+q.kind,b&&b.error&&b.error(q))throw q;}function d(b,d){this.id=b;this.plist=d}function t(b,d){var e={before:null,after:null,start:null,
end:null};"tb"===d.bpd?(e.before=b.top,e.after=b.bottom,"lr"===d.ipd?(e.start=b.left,e.end=b.right):(e.start=b.right,e.end=b.left)):"lr"===d.bpd?(e.before=b.left,e.after=b.right,e.start=b.top,e.end=b.bottom):"rl"===d.bpd&&(e.before=b.right,e.after=b.left,e.start=b.top,e.end=b.bottom);return e}function w(b,d,e,f){if("rt"!==d.localName&&"rtc"!==d.localName)if(f=d.style.backgroundColor||f,0===d.childElementCount)if("span"===d.localName||"rb"===d.localName){var g=d.getBoundingClientRect();if(0!==g.height&&
0!==g.width){b=t(g,b);if(!(g=0===e.length)){g=b.before;var n=b.after,q=e[e.length-1].before,h=e[e.length-1].after;g=!(n<h&&g>q||h<=n&&q>=g)}g?e.push({before:b.before,after:b.after,start:b.start,end:b.end,start_elem:0,end_elem:0,elements:[],rbc:[],te:[],text:"",br:!1}):(g=Math.sign(b.after-b.before),n=Math.sign(b.end-b.start),0>g*(b.before-e[e.length-1].before)&&(e[e.length-1].before=b.before),0<g*(b.after-e[e.length-1].after)&&(e[e.length-1].after=b.after),0>n*(b.start-e[e.length-1].start)&&(e[e.length-
1].start=b.start,e[e.length-1].start_elem=e[e.length-1].elements.length),0<n*(b.end-e[e.length-1].end)&&(e[e.length-1].end=b.end,e[e.length-1].end_elem=e[e.length-1].elements.length));e[e.length-1].text+=d.textContent;e[e.length-1].elements.push({node:d,bgcolor:f,before:b.before,after:b.after})}}else"br"===d.localName&&0!==e.length&&(e[e.length-1].br=!0);else for(d=d.firstChild;d;)d.nodeType===Node.ELEMENT_NODE&&(w(b,d,e,f),"ruby"===d.localName||"rtc"===d.localName?0<e.length&&e[e.length-1].rbc.push(d):
"span"===d.localName&&d.style[A]&&"none"!==d.style[A]&&0<e.length&&e[e.length-1].te.push(d)),d=d.nextSibling}function y(b,d,e,f){if("none"===f.style)d.style[A]="none";else if(d.style[A]="auto"===f.style?"filled":f.style+" "+f.symbol,"before"===f.position||"after"===f.position)d.style[M]="tb"===b.bpd?"before"===f.position?"left over":"left under":"rl"===b.bpd?"before"===f.position?"right under":"left under":"before"===f.position?"left under":"right under"}function l(b,d){this.qname=b;this.map=d}b.render=
function(b,d,e,f,h,t,l,y,w,x){f=f||d.clientHeight;var g=h||d.clientWidth;null!==b.aspectRatio&&(h=f*b.aspectRatio,h>g?f=Math.round(g/b.aspectRatio):g=h);h=document.createElement("div");h.style.position="relative";h.style.width=g+"px";h.style.height=f+"px";h.style.margin="auto";h.style.top=0;h.style.bottom=0;h.style.left=0;h.style.right=0;h.style.zIndex=0;e={h:f,w:g,regionH:null,regionW:null,imgResolver:e,displayForcedOnlyMode:t||!1,isd:b,errorHandler:l,previousISDState:y,enableRollUp:w||!1,currentISDState:{},
flg:null,lp:null,mra:null,ipd:null,bpd:null,ruby:null,textEmphasis:null,rubyReserve:null,options:Object.assign({},x)||{}};e.options.colorAdjust&&(e.options.colorAdjust=r(e.options.colorAdjust));t=["region","body","div","p","span"];for(var n in t)l=t[n]+"BackgroundColorAdjust",e.options[l]&&(e.options[l]=r(e.options[l]));d.appendChild(h);for(var q in b.contents)u(e,h,b.contents[q]);return e.currentISDState};var x=[new l("http://www.w3.org/ns/ttml#styling backgroundColor",function(b,d,e,f){(e=(e=b.options[e.kind+
"BackgroundColorAdjust"])&&e[f.toString()])&&(f=e);e=f[3];0!==e&&(void 0!=b.options.backgroundOpacityScale&&(e*=b.options.backgroundOpacityScale),d.style.backgroundColor="rgba("+f[0].toString()+","+f[1].toString()+","+f[2].toString()+","+(e/255).toString()+")")}),new l("http://www.w3.org/ns/ttml#styling color",function(b,d,e,f){e=b.options.colorOpacityScale||1;var g=b.options.colorAdjust;void 0!=g&&(g=g[f.toString()])&&(f=g);var n=f[0],h=f[1];g=f[2];f=f[3];b.options.hdr?(b=Math.pow(n/255,2),e=Math.pow(h/
255,2),g=Math.pow(g/255,2),b=.627403895934699*b+.3292830383778848*e+.0433130656874172*g,e=.0690972893582321*b+.919540395075459*e+.0113623155663092*g,g=.0163914388751502*b+.0880133078772256*e+.895595253247623*g,b*=.265,e*=.265,g*=.265,a=.17883277,bb=1-4*a,c=.5-a*Math.log(4*a),b=b<=1/12?Math.pow(3*b,.5):a*Math.log(12*b-bb)+c,e=e<=1/12?Math.pow(3*e,.5):a*Math.log(12*e-bb)+c,g=g<=1/12?Math.pow(3*g,.5):a*Math.log(12*g-bb)+c,f=[b,e,g,f],b="color(display-p3 "+f[0].toString()+" "+f[1].toString()+" "+f[2].toString()+
")",d.style.color=b,console.log(b)):(f=[n,h,g,f],d.style.color="rgba("+f[0].toString()+","+f[1].toString()+","+f[2].toString()+","+(e*f[3]/255).toString()+")")}),new l("http://www.w3.org/ns/ttml#styling direction",function(b,d,e,f){d.style.direction=f}),new l("http://www.w3.org/ns/ttml#styling display",function(b,d,e,f){}),new l("http://www.w3.org/ns/ttml#styling displayAlign",function(b,d,e,f){d.style.display="flex";d.style.flexDirection="column";"before"===f?d.style.justifyContent="flex-start":
"center"===f?d.style.justifyContent="center":"after"===f&&(d.style.justifyContent="flex-end")}),new l("http://www.w3.org/ns/ttml#styling extent",function(b,d,e,f){b.regionH=f.h.toUsedLength(b.w,b.h);b.regionW=f.w.toUsedLength(b.w,b.h);var g=f=0;if(e=e.styleAttrs["http://www.w3.org/ns/ttml#styling padding"])f=e[0].toUsedLength(b.w,b.h)+e[2].toUsedLength(b.w,b.h),g=e[1].toUsedLength(b.w,b.h)+e[3].toUsedLength(b.w,b.h);d.style.height=b.regionH-f+"px";d.style.width=b.regionW-g+"px"}),new l("http://www.w3.org/ns/ttml#styling fontFamily",
function(b,d,e,f){e=[];b.options.fontFamily&&(f=b.options.fontFamily.split(","));for(var g in f)f[g]=f[g].trim(),"monospaceSerif"===f[g]?(e.push("Courier New"),e.push('"Liberation Mono"'),e.push("Courier"),e.push("monospace")):"proportionalSansSerif"===f[g]||"default"===f[g]?(e.push("Arial"),e.push("Helvetica"),e.push('"Liberation Sans"'),e.push("sans-serif")):"monospace"===f[g]?e.push("monospace"):"sansSerif"===f[g]?e.push("sans-serif"):"serif"===f[g]?e.push("serif"):"monospaceSansSerif"===f[g]?
(e.push("Consolas"),e.push("monospace")):"proportionalSerif"===f[g]?e.push("serif"):e.push(f[g]);d.style.fontFamily=e.join(",")}),new l("http://www.w3.org/ns/ttml#styling shear",function(b,d,e,f){0!==f&&(e=-.9*f,d.style.transform="tb"===b.bpd?"skewX("+e+"deg)":"skewY("+e+"deg)")}),new l("http://www.w3.org/ns/ttml#styling fontSize",function(b,d,e,f){d.style.fontSize=f.multiply(f.toUsedLength(b.w,b.h),b.options.sizeAdjust)+"px"}),new l("http://www.w3.org/ns/ttml#styling fontStyle",function(b,d,e,f){d.style.fontStyle=
f}),new l("http://www.w3.org/ns/ttml#styling fontWeight",function(b,d,e,f){d.style.fontWeight=f}),new l("http://www.w3.org/ns/ttml#styling lineHeight",function(b,d,e,f){d.style.lineHeight="normal"===f?"normal":f.multiply(f.multiply(f.toUsedLength(b.w,b.h),b.options.sizeAdjust),b.options.lineHeightAdjust)+"px"}),new l("http://www.w3.org/ns/ttml#styling opacity",function(b,d,e,f){e=f;void 0!=b.options.regionOpacityScale&&(e*=b.options.regionOpacityScale);d.style.opacity=e}),new l("http://www.w3.org/ns/ttml#styling origin",
function(b,d,e,f){d.style.top=f.h.toUsedLength(b.w,b.h)+"px";d.style.left=f.w.toUsedLength(b.w,b.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling overflow",function(b,d,e,f){d.style.overflow=f}),new l("http://www.w3.org/ns/ttml#styling padding",function(b,d,e,f){e=[];e[0]=f[0].toUsedLength(b.w,b.h)+"px";e[1]=f[3].toUsedLength(b.w,b.h)+"px";e[2]=f[2].toUsedLength(b.w,b.h)+"px";e[3]=f[1].toUsedLength(b.w,b.h)+"px";d.style.padding=e.join(" ")}),new l("http://www.w3.org/ns/ttml#styling position",function(b,
d,e,f){d.style.top=f.h.toUsedLength(b.w,b.h)+"px";d.style.left=f.w.toUsedLength(b.w,b.h)+"px"}),new l("http://www.w3.org/ns/ttml#styling rubyAlign",function(b,d,e,f){d.style.rubyAlign="spaceAround"===f?"space-around":"center"}),new l("http://www.w3.org/ns/ttml#styling rubyPosition",function(b,d,e,f){if("before"===f||"after"===f)d.parentElement.style[z]=I?f:"tb"===b.bpd?"before"===f?"over":"under":"rl"===b.bpd?"before"===f?"over":"under":"before"===f?"under":"over"}),new l("http://www.w3.org/ns/ttml#styling showBackground",
null),new l("http://www.w3.org/ns/ttml#styling textAlign",function(b,d,e,f){d.style.textAlign="start"===f?"rl"===b.ipd?"right":"left":"end"===f?"rl"===b.ipd?"left":"right":f}),new l("http://www.w3.org/ns/ttml#styling textDecoration",function(b,d,e,f){d.style.textDecoration=f.join(" ").replace("lineThrough","line-through")}),new l("http://www.w3.org/ns/ttml#styling textOutline",function(b,d,e,f){}),new l("http://www.w3.org/ns/ttml#styling textShadow",function(b,d,e,n){e=e.styleAttrs[f.byName.textOutline.qname];
var g=b.options.textOutline;if(g)if("none"===g)e=g;else{var t={};g=g.split(" ");if(0!==g.length&&2>=g.length){var q=h.parseColor(g[0]);t.color=q;null!==q&&g.shift();1===g.length&&(g=h.parseLength(g[0]))&&(t.thickness=g,e=t)}}if("none"===n&&"none"===e)d.style.textShadow="";else{t=[];"none"!==e&&(e="rgba("+e.color[0].toString()+","+e.color[1].toString()+","+e.color[2].toString()+","+(e.color[3]/255).toString()+")",t.push("1px 1px 1px "+e),t.push("-1px 1px 1px "+e),t.push("1px -1px 1px "+e),t.push("-1px -1px 1px "+
e));if("none"!==n)for(var r in n)t.push(n[r].x_off.toUsedLength(b.w,b.h)+"px "+n[r].y_off.toUsedLength(b.w,b.h)+"px "+n[r].b_radius.toUsedLength(b.w,b.h)+"px rgba("+n[r].color[0].toString()+","+n[r].color[1].toString()+","+n[r].color[2].toString()+","+(n[r].color[3]/255).toString()+")");d.style.textShadow=t.join(",")}}),new l("http://www.w3.org/ns/ttml#styling textCombine",function(b,d,e,f){d.style.textCombineUpright=f.join(" ")}),new l("http://www.w3.org/ns/ttml#styling textEmphasis",function(b,
d,e,f){}),new l("http://www.w3.org/ns/ttml#styling unicodeBidi",function(b,d,e,f){d.style.unicodeBidi="bidiOverride"===f?"bidi-override":f}),new l("http://www.w3.org/ns/ttml#styling visibility",function(b,d,e,f){d.style.visibility=f}),new l("http://www.w3.org/ns/ttml#styling wrapOption",function(b,d,e,f){d.style.whiteSpace="wrap"===f?"preserve"===e.space?"pre-wrap":"normal":"preserve"===e.space?"pre":"noWrap"}),new l("http://www.w3.org/ns/ttml#styling writingMode",function(b,d,e,f){if("lrtb"===f||
"lr"===f)d.style.writingMode="horizontal-tb";else if("rltb"===f||"rl"===f)d.style.writingMode="horizontal-tb";else if("tblr"===f)d.style.writingMode="vertical-lr";else if("tbrl"===f||"tb"===f)d.style.writingMode="vertical-rl"}),new l("http://www.w3.org/ns/ttml#styling zIndex",function(b,d,e,f){d.style.zIndex=f}),new l("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(b,d,e,f){b.displayForcedOnlyMode&&!1===f&&(d.style.visibility="hidden")})],E;for(E in x);var I="webkitRubyPosition"in
window.getComputedStyle(document.documentElement),z=I?"webkitRubyPosition":"rubyPosition",A="webkitTextEmphasisStyle"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisStyle":"textEmphasisStyle",M="webkitTextEmphasisPosition"in window.getComputedStyle(document.documentElement)?"webkitTextEmphasisPosition":"textEmphasisPosition"})("undefined"===typeof h?this.imscHTML={}:h,"undefined"===typeof imscNames?f("./names"):imscNames,"undefined"===typeof imscStyles?f("./styles"):imscStyles,
"undefined"===typeof imscUtils?f("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],35:[function(f,l,h){(function(b,e,f,h){function l(b,e,w,v,A,D,g,B,q){if(e<g.begin||e>=g.end)return null;D="regionID"in g&&""!==g.regionID?g.regionID:D;if(null!==A&&D!==w.id&&(!("contents"in g)||"contents"in g&&0===g.contents.length||""!==D))return null;var n=new y(g);for(x in g.sets)e<g.sets[x].begin||e>=g.sets[x].end||(n.styleAttrs[g.sets[x].qname]=g.sets[x].value);var x={};for(var z in n.styleAttrs)if(x[z]=
!0,"region"===n.kind&&z===f.byName.writingMode.qname&&!(f.byName.direction.qname in n.styleAttrs)){var E=n.styleAttrs[z];if("lrtb"===E||"lr"===E)n.styleAttrs[f.byName.direction.qname]="ltr";else if("rltb"===E||"rl"===E)n.styleAttrs[f.byName.direction.qname]="rtl"}if(null!==A)for(var J in f.all)if(z=f.all[J],z.qname===f.byName.textDecoration.qname){E=A.styleAttrs[z.qname];var I=n.styleAttrs[z.qname],H=[];void 0===I?H=E:-1===I.indexOf("none")?((-1===I.indexOf("noUnderline")&&-1!==E.indexOf("underline")||
-1!==I.indexOf("underline"))&&H.push("underline"),(-1===I.indexOf("noLineThrough")&&-1!==E.indexOf("lineThrough")||-1!==I.indexOf("lineThrough"))&&H.push("lineThrough"),(-1===I.indexOf("noOverline")&&-1!==E.indexOf("overline")||-1!==I.indexOf("overline"))&&H.push("overline")):H.push("none");n.styleAttrs[z.qname]=H}else z.qname!==f.byName.fontSize.qname||z.qname in n.styleAttrs||"span"!==n.kind||"textContainer"!==n.styleAttrs[f.byName.ruby.qname]?z.qname!==f.byName.fontSize.qname||z.qname in n.styleAttrs||
"span"!==n.kind||"text"!==n.styleAttrs[f.byName.ruby.qname]?z.inherit&&z.qname in A.styleAttrs&&!(z.qname in n.styleAttrs)&&(n.styleAttrs[z.qname]=A.styleAttrs[z.qname]):(E=A.styleAttrs[f.byName.fontSize.qname],n.styleAttrs[z.qname]="textContainer"===A.styleAttrs[f.byName.ruby.qname]?E:new h.ComputedLength(.5*E.rw,.5*E.rh)):(E=A.styleAttrs[f.byName.fontSize.qname],n.styleAttrs[z.qname]=new h.ComputedLength(.5*E.rw,.5*E.rh));for(var F in f.all)if(J=f.all[F],!(J.qname in n.styleAttrs||J.qname===f.byName.position.qname&&
f.byName.origin.qname in n.styleAttrs||J.qname===f.byName.origin.qname&&f.byName.position.qname in n.styleAttrs)&&(z=b.head.styling.initials[J.qname]||J.initial,null!==z&&("region"===n.kind||!1===J.inherit&&null!==z)))if(z=J.parse(z),null!==z)n.styleAttrs[J.qname]=z,x[J.qname]=!0;else if(J="Invalid initial value for '"+J.qname+"' on element '"+n.kind,B&&B.error&&B.error(J))throw J;for(var p in f.all)if(F=f.all[p],F.qname in x&&null!==F.compute)if(J=F.compute(b,A,n,n.styleAttrs[F.qname],q),null!==
J)n.styleAttrs[F.qname]=J;else if(n.styleAttrs[F.qname]=F.compute(b,A,n,F.parse(F.initial),q),F="Style '"+F.qname+"' on element '"+n.kind+"' cannot be computed",B&&B.error&&B.error(F))throw F;if("none"===n.styleAttrs[f.byName.display.qname])return null;if(null===A)var C=null===v?[]:[v];else"contents"in g&&(C=g.contents);for(var m in C)A=l(b,e,w,v,n,D,C[m],B,q),null!==A&&n.contents.push(A.element);for(var k in n.styleAttrs)b=!1,"span"===n.kind&&(e=n.styleAttrs[f.byName.ruby.qname],(b=("container"===
e||"textContainer"===e||"baseContainer"===e)&&-1!==u.indexOf(k))||(b="container"!==e&&k===f.byName.rubyAlign.qname),b||(b=!("textContainer"===e||"text"===e)&&k===f.byName.rubyPosition.qname)),b||(b=-1===f.byQName[k].applies.indexOf(n.kind)),b&&delete n.styleAttrs[k];k=n.styleAttrs[f.byName.ruby.qname];if("p"===n.kind||"span"===n.kind&&("textContainer"===k||"text"===k))k=[],d(n,k),r(k),t(n);return"div"===n.kind&&f.byName.backgroundImage.qname in n.styleAttrs||"br"===n.kind||"image"===n.kind||"contents"in
n&&0<n.contents.length||"span"===n.kind&&null!==n.text||"region"===n.kind&&"always"===n.styleAttrs[f.byName.showBackground.qname]?{region_id:D,element:n}:null}function r(b){function d(b){return"br"===b.kind||/[\r\n\t ]$/.test(b.text)}function e(b){return"br"===b.kind||"preserve"===b.space&&/^[\r\n]/.test(b.text)}for(var f,h=0;h<b.length;)if(f=b[h],"br"===f.kind||"preserve"===f.space)h++;else{var t=f.text.replace(/[\t\r\n ]+/g," ");/^[ ]/.test(t)&&(0===h||d(b[h-1]))&&(t=t.substring(1));f.text=t;0===
t.length?b.splice(h,1):h++}for(h=0;h<b.length;h++)f=b[h],"br"===f.kind||"preserve"===f.space?h++:/[ ]$/.test(f.text)&&(h===b.length-1||e(b[h+1]))&&(f.text=f.text.slice(0,-1))}function d(b,e){for(var h in b.contents){var t=b.contents[h],l=t.styleAttrs[f.byName.ruby.qname];if("span"!==t.kind||"textContainer"!==l&&"text"!==l)"contents"in t?d(t,e):("span"===t.kind&&0!==t.text.length||"br"===t.kind)&&e.push(t)}}function t(b){if("br"===b.kind)return!1;if("text"in b)return 0===b.text.length;if("contents"in
b){for(var d=b.contents.length;d--;)t(b.contents[d])&&b.contents.splice(d,1);return 0===b.contents.length}}function w(b){this.contents=[];this.aspectRatio=b.aspectRatio}function y(b){this.kind=b.kind||"region";b.id&&(this.id=b.id);this.styleAttrs={};for(var d in b.styleAttrs)this.styleAttrs[d]=b.styleAttrs[d];"src"in b&&(this.src=b.src);"type"in b&&(this.type=b.type);if("text"in b)this.text=b.text;else if("region"===this.kind||"contents"in b)this.contents=[];"space"in b&&(this.space=b.space)}b.generateISD=
function(b,d,e){function f(b,d){function e(d){return!(b<d.begin||b>=d.end)}if(d.contents){var g={},h;for(h in d)g[h]=d[h];g.contents=[];d.contents.filter(e).forEach(function(d){d=f(b,d);d.regionID&&r.add(d.regionID);null!==d&&g.contents.push(d)});return g}return d}var h=new w(b),t={},g={},r=new Set;g=f(d,b.body);0===r.size&&b.head.layout.regions.hasOwnProperty("")&&r.add("");r.forEach(function(f){f=l(b,d,b.head.layout.regions[f],g,null,"",b.head.layout.regions[f],e,t);null!==f&&h.contents.push(f.element)});
return h};var u=[f.byName.color.qname,f.byName.textCombine.qname,f.byName.textDecoration.qname,f.byName.textEmphasis.qname,f.byName.textOutline.qname,f.byName.textShadow.qname]})("undefined"===typeof h?this.imscISD={}:h,"undefined"===typeof imscNames?f("./names"):imscNames,"undefined"===typeof imscStyles?f("./styles"):imscStyles,"undefined"===typeof imscUtils?f("./utils"):imscUtils)},{"./names":37,"./styles":38,"./utils":39}],36:[function(f,l,h){h.generateISD=f("./isd").generateISD;h.fromXML=f("./doc").fromXML;
h.renderHTML=f("./html").render},{"./doc":33,"./html":34,"./isd":35}],37:[function(f,l,h){f="undefined"===typeof h?this.imscNames={}:h;f.ns_tt="http://www.w3.org/ns/ttml";f.ns_tts="http://www.w3.org/ns/ttml#styling";f.ns_ttp="http://www.w3.org/ns/ttml#parameter";f.ns_xml="http://www.w3.org/XML/1998/namespace";f.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling";f.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter";f.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt";f.ns_ebutts=
"urn:ebu:tt:style";f.ttaf_map={"http://www.w3.org/2006/10/ttaf1":f.ns_tt,"http://www.w3.org/2006/10/ttaf1#style":f.ns_tts,"http://www.w3.org/2006/10/ttaf1#parameter":f.ns_ttp}},{}],38:[function(f,l,h){(function(b,e,f){function h(b,e,f,h,l,r,u,D){this.name=e;this.ns=b;this.qname=b+" "+e;this.inherit=l;this.animatable=r;this.initial=f;this.applies=h;this.parse=u;this.compute=D}b.all=[new h(e.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,f.parseColor,null),new h(e.ns_tts,
"color","white",["span"],!0,!0,f.parseColor,null),new h(e.ns_tts,"direction","ltr",["p","span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(b){return b},null),new h(e.ns_tts,"displayAlign","before",["region"],!1,!0,function(b){return b},null),new h(e.ns_tts,"extent","auto",["tt","region"],!1,!0,function(b){if("auto"===b)return b;var d=b.split(" ");if(2!==d.length)return null;b=f.parseLength(d[0]);return(d=f.parseLength(d[1]))&&
b?{h:d,w:b}:null},function(b,e,h,l,r){if("auto"===l)e=new f.ComputedLength(0,1);else if(e=f.toComputedLength(l.h.value,l.h.unit,null,b.dimensions.h,null,b.pxLength.h),null===e)return null;if("auto"===l)b=new f.ComputedLength(1,0);else if(b=f.toComputedLength(l.w.value,l.w.unit,null,b.dimensions.w,null,b.pxLength.w),null===b)return null;return{h:e,w:b}}),new h(e.ns_tts,"fontFamily","default",["p","span"],!0,!0,function(b){b=b.split(",");var d=[],e;for(e in b)"'"!==b[e].charAt(0)&&'"'!==b[e].charAt(0)?
"default"===b[e]?d.push("monospaceSerif"):d.push(b[e]):d.push(b[e]);return d},null),new h(e.ns_tts,"shear","0%",["p"],!0,!0,f.parseLength,function(b,e,f,h){if("%"===h.unit)b=100<Math.abs(h.value)?100*Math.sign(h.value):h.value;else return null;return b}),new h(e.ns_tts,"fontSize","1c",["p","span"],!0,!0,f.parseLength,function(d,e,h,l,r){return f.toComputedLength(l.value,l.unit,null!==e?e.styleAttrs[b.byName.fontSize.qname]:d.cellLength.h,null!==e?e.styleAttrs[b.byName.fontSize.qname]:d.cellLength.h,
d.cellLength.h,d.pxLength.h)}),new h(e.ns_tts,"fontStyle","normal",["span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"fontWeight","normal",["span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"lineHeight","normal",["p"],!0,!0,function(b){return"normal"===b?b:f.parseLength(b)},function(d,e,h,l,r){if("normal"===l)d=l;else if(d=f.toComputedLength(l.value,l.unit,h.styleAttrs[b.byName.fontSize.qname],h.styleAttrs[b.byName.fontSize.qname],d.cellLength.h,d.pxLength.h),null===d)return null;return d}),
new h(e.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new h(e.ns_tts,"origin","auto",["region"],!1,!0,function(b){if("auto"===b)return b;var d=b.split(" ");if(2!==d.length)return null;b=f.parseLength(d[0]);return(d=f.parseLength(d[1]))&&b?{h:d,w:b}:null},function(b,e,h,l,r){if("auto"===l)e=new f.ComputedLength(0,0);else if(e=f.toComputedLength(l.h.value,l.h.unit,null,b.dimensions.h,null,b.pxLength.h),null===e)return null;if("auto"===l)b=new f.ComputedLength(0,0);else if(b=f.toComputedLength(l.w.value,
l.w.unit,null,b.dimensions.w,null,b.pxLength.w),null===b)return null;return{h:e,w:b}}),new h(e.ns_tts,"overflow","hidden",["region"],!1,!0,function(b){return b},null),new h(e.ns_tts,"padding","0px",["region"],!1,!0,function(b){b=b.split(" ");if(4<b.length)return null;var d=[],e;for(e in b){var h=f.parseLength(b[e]);if(!h)return null;d.push(h)}return d},function(d,e,h,l,r){if(1===l.length)e=[l[0],l[0],l[0],l[0]];else if(2===l.length)e=[l[0],l[1],l[0],l[1]];else if(3===l.length)e=[l[0],l[1],l[2],l[1]];
else if(4===l.length)e=[l[0],l[1],l[2],l[3]];else return null;l=h.styleAttrs[b.byName.writingMode.qname];if("lrtb"===l||"lr"===l)e=[e[0],e[3],e[2],e[1]];else if("rltb"===l||"rl"===l)e=[e[0],e[1],e[2],e[3]];else if("tblr"===l)e=[e[3],e[0],e[1],e[2]];else if("tbrl"===l||"tb"===l)e=[e[3],e[2],e[1],e[0]];else return null;l=[];for(var t in e)if(0===e[t].value)l[t]=new f.ComputedLength(0,0);else if(l[t]=f.toComputedLength(e[t].value,e[t].unit,h.styleAttrs[b.byName.fontSize.qname],"0"===t||"2"===t?h.styleAttrs[b.byName.extent.qname].h:
h.styleAttrs[b.byName.extent.qname].w,"0"===t||"2"===t?d.cellLength.h:d.cellLength.w,"0"===t||"2"===t?d.pxLength.h:d.pxLength.w),null===l[t])return null;return l}),new h(e.ns_tts,"position","top left",["region"],!1,!0,function(b){return f.parsePosition(b)},function(d,e,h,l){e=f.toComputedLength(l.v.offset.value,l.v.offset.unit,null,new f.ComputedLength(-h.styleAttrs[b.byName.extent.qname].h.rw,d.dimensions.h.rh-h.styleAttrs[b.byName.extent.qname].h.rh),null,d.pxLength.h);if(null===e)return null;"bottom"===
l.v.edge&&(e=new f.ComputedLength(-e.rw-h.styleAttrs[b.byName.extent.qname].h.rw,d.dimensions.h.rh-e.rh-h.styleAttrs[b.byName.extent.qname].h.rh));var t=f.toComputedLength(l.h.offset.value,l.h.offset.unit,null,new f.ComputedLength(d.dimensions.w.rw-h.styleAttrs[b.byName.extent.qname].w.rw,-h.styleAttrs[b.byName.extent.qname].w.rh),null,d.pxLength.w);if(null===e)return null;"right"===l.h.edge&&(t=new f.ComputedLength(d.dimensions.w.rw-t.rw-h.styleAttrs[b.byName.extent.qname].w.rw,-t.rh-h.styleAttrs[b.byName.extent.qname].w.rh));
return{h:e,w:t}}),new h(e.ns_tts,"ruby","none",["span"],!1,!0,function(b){return b},null),new h(e.ns_tts,"rubyAlign","center",["span"],!0,!0,function(b){return"center"!==b&&"spaceAround"!==b?null:b},null),new h(e.ns_tts,"rubyPosition","outside",["span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"rubyReserve","none",["p"],!0,!0,function(b){var d=b.split(" ");b=[null,null];if(0===d.length||2<d.length||"none"!==d[0]&&"both"!==d[0]&&"after"!==d[0]&&"before"!==d[0]&&"outside"!==d[0])return null;
b[0]=d[0];if(2===d.length&&"none"!==d[0])if(d=f.parseLength(d[1]))b[1]=d;else return null;return b},function(d,e,h,l,r){if("none"===l[0])return l;d=null===l[1]?new f.ComputedLength(.5*h.styleAttrs[b.byName.fontSize.qname].rw,.5*h.styleAttrs[b.byName.fontSize.qname].rh):f.toComputedLength(l[1].value,l[1].unit,h.styleAttrs[b.byName.fontSize.qname],h.styleAttrs[b.byName.fontSize.qname],d.cellLength.h,d.pxLength.h);return null===d?null:[l[0],d]}),new h(e.ns_tts,"showBackground","whenActive",["region"],
!1,!0,function(b){return b},null),new h(e.ns_tts,"textAlign","start",["p"],!0,!0,function(b){return b},function(b,e,f,h,l){return"left"===h?"start":"right"===h?"end":h}),new h(e.ns_tts,"textCombine","none",["span"],!0,!0,function(b){b=b.split(" ");return 1!==b.length||"none"!==b[0]&&"all"!==b[0]?null:[b[0]]},null),new h(e.ns_tts,"textDecoration","none",["span"],!0,!0,function(b){return b.split(" ")},null),new h(e.ns_tts,"textEmphasis","none",["span"],!0,!0,function(b){b=b.split(" ");var d={style:null,
symbol:null,color:null,position:null},e;for(e in b)if("none"===b[e]||"auto"===b[e])d.style=b[e];else if("filled"===b[e]||"open"===b[e])d.style=b[e];else if("circle"===b[e]||"dot"===b[e]||"sesame"===b[e])d.symbol=b[e];else if("current"===b[e])d.color=b[e];else if("outside"===b[e]||"before"===b[e]||"after"===b[e])d.position=b[e];else if(d.color=f.parseColor(b[e]),null===d.color)return null;null==d.style&&null==d.symbol?d.style="auto":(d.symbol=d.symbol||"circle",d.style=d.style||"filled");d.position=
d.position||"outside";d.color=d.color||"current";return d},null),new h(e.ns_tts,"textOutline","none",["span"],!0,!0,function(b){if("none"===b)return b;var d={};b=b.split(" ");if(0===b.length||2<b.length)return null;var e=f.parseColor(b[0]);d.color=e;null!==e&&b.shift();if(1!==b.length)return null;b=f.parseLength(b[0]);if(!b)return null;d.thickness=b;return d},function(d,e,h,l,r){if("none"===l)return l;e={};e.color=null===l.color?h.styleAttrs[b.byName.color.qname]:l.color;e.thickness=f.toComputedLength(l.thickness.value,
l.thickness.unit,h.styleAttrs[b.byName.fontSize.qname],h.styleAttrs[b.byName.fontSize.qname],d.cellLength.h,d.pxLength.h);return null===e.thickness?null:e}),new h(e.ns_tts,"textShadow","none",["span"],!0,!0,f.parseTextShadow,function(d,e,h,l){if("none"===l)return l;e=[];for(var t in l){var r={};r.x_off=f.toComputedLength(l[t][0].value,l[t][0].unit,null,h.styleAttrs[b.byName.fontSize.qname],null,d.pxLength.w);if(null===r.x_off)return null;r.y_off=f.toComputedLength(l[t][1].value,l[t][1].unit,null,
h.styleAttrs[b.byName.fontSize.qname],null,d.pxLength.h);if(null===r.y_off)return null;if(null===l[t][2])r.b_radius=0;else if(r.b_radius=f.toComputedLength(l[t][2].value,l[t][2].unit,null,h.styleAttrs[b.byName.fontSize.qname],null,d.pxLength.h),null===r.b_radius)return null;r.color=null===l[t][3]?h.styleAttrs[b.byName.color.qname]:l[t][3];e.push(r)}return e}),new h(e.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(b){return b},null),new h(e.ns_tts,"visibility","visible",["body","div","p",
"region","span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(b){return b},null),new h(e.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(b){return b},null),new h(e.ns_tts,"zIndex","auto",["region"],!1,!0,function(b){"auto"!==b&&(b=parseInt(b),isNaN(b)&&(b=null));return b},null),new h(e.ns_ebutts,"linePadding","0c",["p"],!0,!1,f.parseLength,function(b,e,h,l,r){return f.toComputedLength(l.value,l.unit,null,null,b.cellLength.w,null)}),new h(e.ns_ebutts,
"multiRowAlign","auto",["p"],!0,!1,function(b){return b},null),new h(e.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(b){return b},null),new h(e.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(b){return"true"===b?!0:!1},null),new h(e.ns_itts,"fillLineGap","true",["p"],!0,!0,function(b){return"true"===b?!0:!1},null)];b.byQName={};for(var l in b.all)b.byQName[b.all[l].qname]=b.all[l];b.byName={};for(var r in b.all)b.byName[b.all[r].name]=b.all[r]})("undefined"===
typeof h?this.imscStyles={}:h,"undefined"===typeof imscNames?f("./names"):imscNames,"undefined"===typeof imscUtils?f("./utils"):imscUtils)},{"./names":37,"./utils":39}],39:[function(f,l,h){(function(b){var e=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,f=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,h=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,l={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,
0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]};b.parseColor=function(b){var d,r=null,u=l[b.toLowerCase()];void 0!==u?r=u:null!==(d=e.exec(b))?r=[parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16),void 0!==d[4]?parseInt(d[4],16):255]:null!==(d=f.exec(b))?r=[parseInt(d[1]),
parseInt(d[2]),parseInt(d[3]),255]:null!==(d=h.exec(b))&&(r=[parseInt(d[1]),parseInt(d[2]),parseInt(d[3]),parseInt(d[4])]);return r};var D=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%|rh|rw)$/;b.parseLength=function(b){var d,e=null;null!==(d=D.exec(b))&&(e={value:parseFloat(d[1]),unit:d[2]});return e};b.parseTextShadow=function(d){d=d.split(",");var e=[],f;for(f in d){var h=d[f].split(" ");if(1===h.length&&"none"===h[0])return"none";if(1<h.length&&5>h.length){var l=[null,null,null,null],r=b.parseLength(h.shift());
if(null===r)return null;l[0]=r;r=b.parseLength(h.shift());if(null===r)return null;l[1]=r;if(0!==h.length&&(r=b.parseLength(h[0]),null!==r&&(l[2]=r,h.shift()),0!==h.length)){h=b.parseColor(h[0]);if(null===h)return null;l[3]=h}e.push(l)}}return e};b.parsePosition=function(d){d=d.split(" ");var e=function(b){return"center"===b||"left"===b||"top"===b||"bottom"===b||"right"===b};if(4<d.length)return null;for(var f in d)if(!e(d[f])){var h=b.parseLength(d[f]);if(null===h)return null;d[f]=h}f={h:{edge:"left",
offset:{value:50,unit:"%"}},v:{edge:"top",offset:{value:50,unit:"%"}}};for(h=0;h<d.length;){var l=d[h++];if(e(l)){var r={value:0,unit:"%"};2!==d.length&&h<d.length&&!e(d[h])&&(r=d[h++]);"right"===l?(f.h.edge=l,f.h.offset=r):"bottom"===l?(f.v.edge=l,f.v.offset=r):"left"===l?f.h.offset=r:"top"===l&&(f.v.offset=r)}else if(1===d.length||2===d.length)1===h?f.h.offset=l:f.v.offset=l;else return null}return f};b.ComputedLength=function(b,e){this.rw=b;this.rh=e};b.ComputedLength.prototype.toUsedLength=function(b,
e){return b*this.rw+e*this.rh};b.ComputedLength.prototype.multiply=function(b,e){return e?b*e:b};b.ComputedLength.prototype.isZero=function(){return 0===this.rw&&0===this.rh};b.toComputedLength=function(d,e,f,h,l,r){return"%"===e&&h?new b.ComputedLength(h.rw*d/100,h.rh*d/100):"em"===e&&f?new b.ComputedLength(f.rw*d,f.rh*d):"c"===e&&l?new b.ComputedLength(d*l.rw,d*l.rh):"px"===e&&r?new b.ComputedLength(d*r.rw,d*r.rh):"rh"===e?new b.ComputedLength(0,d/100):"rw"===e?new b.ComputedLength(d/100,0):null}})("undefined"===
typeof h?this.imscUtils={}:h)},{}]},{},[36])(36)});
